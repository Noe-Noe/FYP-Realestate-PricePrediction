{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mandy\\\\Downloads\\\\fyp-app\\\\fyp-app\\\\frontend\\\\src\\\\components\\\\user\\\\bookmarks.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useApi } from '../../context/ApiContext';\nimport { authAPI } from '../../services/api';\nimport Header from '../sharedpages/header';\nimport Navbar from '../sharedpages/navbar';\nimport Footer from '../sharedpages/footer';\nimport './bookmarks.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Bookmarks = () => {\n  _s();\n  const [activeTab, setActiveTab] = useState('bookmarks');\n  const navigate = useNavigate();\n  const {\n    getUserName\n  } = useApi();\n\n  // State for bookmarks from database\n  const [bookmarkedAddresses, setBookmarkedAddresses] = useState([]);\n  const [bookmarkedPredictions, setBookmarkedPredictions] = useState([]);\n  const [bookmarkedComparisons, setBookmarkedComparisons] = useState([]);\n\n  // Loading and error states\n  const [isLoadingBookmarks, setIsLoadingBookmarks] = useState(true);\n  const [bookmarksError, setBookmarksError] = useState('');\n\n  // Get user type from localStorage\n  const userType = localStorage.getItem('userType') || 'free';\n  const isPremiumUser = userType === 'premium';\n\n  // Load bookmarks from database\n  const loadBookmarks = async () => {\n    try {\n      // Check if user is authenticated\n      const token = localStorage.getItem('accessToken');\n      if (!token) {\n        console.log('No access token found, skipping bookmarks load');\n        setBookmarkedAddresses([]);\n        setBookmarkedPredictions([]);\n        setBookmarkedComparisons([]);\n        setIsLoadingBookmarks(false);\n        return;\n      }\n      setIsLoadingBookmarks(true);\n      setBookmarksError('');\n      const response = await authAPI.getBookmarks();\n      setBookmarkedAddresses(response.bookmarked_addresses || []);\n      setBookmarkedPredictions(response.bookmarked_predictions || []);\n      setBookmarkedComparisons(response.bookmarked_comparisons || []);\n    } catch (error) {\n      console.error('Error loading bookmarks:', error);\n      setBookmarksError(error.message || 'Failed to load bookmarks');\n      // Set empty arrays if API fails\n      setBookmarkedAddresses([]);\n      setBookmarkedPredictions([]);\n      setBookmarkedComparisons([]);\n    } finally {\n      setIsLoadingBookmarks(false);\n    }\n  };\n\n  // Load bookmarks on component mount\n  useEffect(() => {\n    loadBookmarks();\n  }, []);\n\n  // Handler functions for view buttons\n  const handleBookmarkedAddressView = address => {\n    // Navigate to price prediction with the address\n    navigate('/dashboard/priceprediction', {\n      state: {\n        prefillAddress: address.address,\n        fromBookmark: true\n      }\n    });\n  };\n  const handlePredictionClick = prediction => {\n    // Navigate directly to prediction results page\n    navigate('/dashboard/prediction', {\n      state: {\n        searchData: {\n          address: prediction.address,\n          propertyType: prediction.property_type,\n          floorArea: '1500',\n          // Default values since we don't have these in bookmarks\n          level: 'Ground Floor',\n          unit: 'A-01'\n        },\n        fromBookmark: true\n      }\n    });\n  };\n  const handleComparisonClick = comparison => {\n    // Navigate directly to comparison results page\n    navigate('/dashboard/comparison', {\n      state: {\n        properties: [{\n          id: Date.now(),\n          propertyType: comparison.property_type || 'Industrial Property',\n          address: comparison.address || 'Address 1',\n          floorArea: '1500',\n          level: 'Ground Floor',\n          unit: 'A-01'\n        }, {\n          id: Date.now() + 1,\n          propertyType: comparison.property_type || 'Commercial Space',\n          address: comparison.address || 'Address 2',\n          floorArea: '2000',\n          level: 'Level 1',\n          unit: 'B-15'\n        }],\n        fromBookmark: true\n      }\n    });\n  };\n\n  // Remove bookmark function\n  const handleRemoveBookmark = async (bookmarkType, bookmarkId) => {\n    const confirmed = window.confirm('Are you sure you want to remove this bookmark?');\n    if (confirmed) {\n      try {\n        await authAPI.deleteBookmark(bookmarkId);\n        // Reload bookmarks after deletion\n        loadBookmarks();\n      } catch (error) {\n        console.error('Error removing bookmark:', error);\n        alert('Failed to remove bookmark. Please try again.');\n      }\n    }\n  };\n\n  // Format date for display\n  const formatDate = dateString => {\n    if (!dateString) return 'Unknown date';\n    try {\n      const date = new Date(dateString);\n      return date.toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      });\n    } catch (error) {\n      return 'Invalid date';\n    }\n  };\n\n  // Get dynamic image based on property type and address\n  const getDynamicImage = (propertyType, address) => {\n    // Google Places API search query based on property type and address\n    const searchQuery = encodeURIComponent(`${propertyType} ${address}`);\n\n    // For now, use a fallback system with different images based on property type\n    // In production, you would integrate with Google Places API or similar service\n    const imageMap = {\n      'Industrial Property': 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=400&h=250&fit=crop',\n      'Factory Building': 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=250&fit=crop',\n      'Warehouse': 'https://images.unsplash.com/photo-1497366216548-37526070297c?w=400&h=250&fit=crop',\n      'Office Space': 'https://images.unsplash.com/photo-1497366216548-37526070297c?w=400&h=250&fit=crop',\n      'Commercial Space': 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=400&h=250&fit=crop',\n      'Comparison': 'https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=400&h=250&fit=crop'\n    };\n\n    // Return appropriate image based on property type, or default\n    return imageMap[propertyType] || imageMap['Industrial Property'];\n  };\n\n  // Get image for comparison bookmarks (showing both properties)\n  const getComparisonImage = (propertyType1, propertyType2) => {\n    // For comparisons, show a cityscape or building comparison image\n    return 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=400&h=250&fit=crop';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bookmarks-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bookmarks-dashboard-container\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        activeTab: activeTab,\n        setActiveTab: setActiveTab\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"bookmarks-main-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bookmarks-content-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"bookmarks-main-title\",\n            children: \"My Bookmarks\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"bookmarks-welcome-message\",\n            children: [\"Welcome back, \", getUserName()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), bookmarksError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bookmarks-error-message\",\n          children: [bookmarksError, /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"bookmarks-clear-error-btn\",\n            onClick: () => setBookmarksError(''),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this), isLoadingBookmarks && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bookmarks-loading\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Loading your bookmarks...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this), !isLoadingBookmarks && !bookmarksError && /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"bookmarked-addresses\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"bookmarks-section-title\",\n            children: \"Bookmarked Addresses\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), bookmarkedAddresses.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bookmarks-grid\",\n            children: bookmarkedAddresses.map(address => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bookmark-card address-card clickable\",\n              onClick: () => handleBookmarkedAddressView(address),\n              title: \"Click to get price prediction\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-image\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: getDynamicImage(address.property_type || 'Property', address.address),\n                  alt: address.address\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"remove-bookmark-btn\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleRemoveBookmark('address', address.id);\n                  },\n                  title: \"Remove bookmark\",\n                  children: \"\\u2715\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"card-address\",\n                  children: address.address\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-type\",\n                  children: address.property_type || 'Property'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-date\",\n                  children: [\"Bookmarked on \", formatDate(address.bookmarked_date)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-hint\",\n                  children: \"\\uD83D\\uDCA1 Click to get price prediction\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 19\n              }, this)]\n            }, address.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bookmarks-no-data\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No bookmarked addresses yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"bookmarks-hint\",\n              children: \"Start bookmarking properties to see them here!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), !isLoadingBookmarks && !bookmarksError && /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"bookmarked-predictions\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"bookmarks-section-title\",\n            children: \"Bookmarked Predictions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), bookmarkedPredictions.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bookmarks-grid\",\n            children: bookmarkedPredictions.map(prediction => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bookmark-card prediction-card clickable\",\n              onClick: () => handlePredictionClick(prediction),\n              title: \"Click to view prediction details\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-image\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: getDynamicImage(prediction.property_type || 'Property', prediction.address),\n                  alt: prediction.address\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"remove-bookmark-btn\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleRemoveBookmark('prediction', prediction.id);\n                  },\n                  title: \"Remove bookmark\",\n                  children: \"\\u2715\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"card-address\",\n                  children: prediction.address\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-prediction\",\n                  children: [\"Property Type: \", prediction.property_type]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-date\",\n                  children: [\"Bookmarked on \", formatDate(prediction.bookmarked_date)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-hint\",\n                  children: \"\\uD83D\\uDCA1 Click to view prediction details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 19\n              }, this)]\n            }, prediction.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bookmarks-no-data\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No bookmarked predictions yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"bookmarks-hint\",\n              children: \"Start bookmarking price predictions to see them here!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), !isLoadingBookmarks && !bookmarksError && isPremiumUser && /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"bookmarked-comparisons\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"bookmarks-section-title\",\n            children: \"Bookmarked Comparisons\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 15\n          }, this), bookmarkedComparisons.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bookmarks-grid\",\n            children: bookmarkedComparisons.map(comparison => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bookmark-card comparison-card clickable\",\n              onClick: () => handleComparisonClick(comparison),\n              title: \"Click to view comparison results\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-image\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=300&h=200&fit=crop\",\n                  alt: comparison.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"remove-bookmark-btn\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleRemoveBookmark('comparison', comparison.id);\n                  },\n                  title: \"Remove bookmark\",\n                  children: \"\\u2715\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"card-title\",\n                  children: comparison.title || 'Property Comparison'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-details\",\n                  children: [\"Property Type: \", comparison.property_type || 'Mixed Use']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-addresses\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Address:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 340,\n                    columnNumber: 27\n                  }, this), \" \", comparison.address]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-date\",\n                  children: [\"Bookmarked on \", formatDate(comparison.bookmarked_date)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-hint\",\n                  children: \"\\uD83D\\uDCA1 Click to view comparison results\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 21\n              }, this)]\n            }, comparison.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bookmarks-no-data\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No bookmarked comparisons yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"bookmarks-hint\",\n              children: \"Start bookmarking property comparisons to see them here!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 13\n        }, this), !isLoadingBookmarks && !bookmarksError && bookmarkedAddresses.length === 0 && bookmarkedPredictions.length === 0 && bookmarkedComparisons.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bookmarks-empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"No Bookmarks Yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"You haven't bookmarked any properties, predictions, or comparisons yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"bookmarks-hint\",\n            children: \"Start exploring the platform and bookmark items you're interested in!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 5\n  }, this);\n};\n_s(Bookmarks, \"fT9YABzXAwvXBuZdrMH/L25Y8+Q=\", false, function () {\n  return [useNavigate, useApi];\n});\n_c = Bookmarks;\nexport default Bookmarks;\nvar _c;\n$RefreshReg$(_c, \"Bookmarks\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useApi","authAPI","Header","Navbar","Footer","jsxDEV","_jsxDEV","Bookmarks","_s","activeTab","setActiveTab","navigate","getUserName","bookmarkedAddresses","setBookmarkedAddresses","bookmarkedPredictions","setBookmarkedPredictions","bookmarkedComparisons","setBookmarkedComparisons","isLoadingBookmarks","setIsLoadingBookmarks","bookmarksError","setBookmarksError","userType","localStorage","getItem","isPremiumUser","loadBookmarks","token","console","log","response","getBookmarks","bookmarked_addresses","bookmarked_predictions","bookmarked_comparisons","error","message","handleBookmarkedAddressView","address","state","prefillAddress","fromBookmark","handlePredictionClick","prediction","searchData","propertyType","property_type","floorArea","level","unit","handleComparisonClick","comparison","properties","id","Date","now","handleRemoveBookmark","bookmarkType","bookmarkId","confirmed","window","confirm","deleteBookmark","alert","formatDate","dateString","date","toLocaleDateString","year","month","day","getDynamicImage","searchQuery","encodeURIComponent","imageMap","getComparisonImage","propertyType1","propertyType2","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","map","title","src","alt","e","stopPropagation","bookmarked_date","_c","$RefreshReg$"],"sources":["C:/Users/mandy/Downloads/fyp-app/fyp-app/frontend/src/components/user/bookmarks.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useApi } from '../../context/ApiContext';\nimport { authAPI } from '../../services/api';\nimport Header from '../sharedpages/header';\nimport Navbar from '../sharedpages/navbar';\nimport Footer from '../sharedpages/footer';\nimport './bookmarks.css';\n\nconst Bookmarks = () => {\n  const [activeTab, setActiveTab] = useState('bookmarks');\n  const navigate = useNavigate();\n  const { getUserName } = useApi();\n\n  // State for bookmarks from database\n  const [bookmarkedAddresses, setBookmarkedAddresses] = useState([]);\n  const [bookmarkedPredictions, setBookmarkedPredictions] = useState([]);\n  const [bookmarkedComparisons, setBookmarkedComparisons] = useState([]);\n  \n  // Loading and error states\n  const [isLoadingBookmarks, setIsLoadingBookmarks] = useState(true);\n  const [bookmarksError, setBookmarksError] = useState('');\n\n  // Get user type from localStorage\n  const userType = localStorage.getItem('userType') || 'free';\n  const isPremiumUser = userType === 'premium';\n\n  // Load bookmarks from database\n  const loadBookmarks = async () => {\n    try {\n      // Check if user is authenticated\n      const token = localStorage.getItem('accessToken');\n      if (!token) {\n        console.log('No access token found, skipping bookmarks load');\n        setBookmarkedAddresses([]);\n        setBookmarkedPredictions([]);\n        setBookmarkedComparisons([]);\n        setIsLoadingBookmarks(false);\n        return;\n      }\n\n      setIsLoadingBookmarks(true);\n      setBookmarksError('');\n      \n      const response = await authAPI.getBookmarks();\n      setBookmarkedAddresses(response.bookmarked_addresses || []);\n      setBookmarkedPredictions(response.bookmarked_predictions || []);\n      setBookmarkedComparisons(response.bookmarked_comparisons || []);\n      \n      } catch (error) {\n      console.error('Error loading bookmarks:', error);\n      setBookmarksError(error.message || 'Failed to load bookmarks');\n      // Set empty arrays if API fails\n      setBookmarkedAddresses([]);\n      setBookmarkedPredictions([]);\n      setBookmarkedComparisons([]);\n    } finally {\n      setIsLoadingBookmarks(false);\n    }\n  };\n\n  // Load bookmarks on component mount\n  useEffect(() => {\n    loadBookmarks();\n  }, []);\n\n  // Handler functions for view buttons\n  const handleBookmarkedAddressView = (address) => {\n    // Navigate to price prediction with the address\n    navigate('/dashboard/priceprediction', { \n      state: { \n        prefillAddress: address.address,\n        fromBookmark: true \n      } \n    });\n  };\n\n  const handlePredictionClick = (prediction) => {\n    // Navigate directly to prediction results page\n    navigate('/dashboard/prediction', { \n      state: { \n        searchData: {\n          address: prediction.address,\n          propertyType: prediction.property_type,\n          floorArea: '1500', // Default values since we don't have these in bookmarks\n          level: 'Ground Floor',\n          unit: 'A-01'\n        },\n        fromBookmark: true \n      } \n    });\n  };\n\n  const handleComparisonClick = (comparison) => {\n    // Navigate directly to comparison results page\n    navigate('/dashboard/comparison', { \n      state: { \n        properties: [\n          {\n            id: Date.now(),\n            propertyType: comparison.property_type || 'Industrial Property',\n            address: comparison.address || 'Address 1',\n            floorArea: '1500',\n            level: 'Ground Floor',\n            unit: 'A-01'\n          },\n          {\n            id: Date.now() + 1,\n            propertyType: comparison.property_type || 'Commercial Space',\n            address: comparison.address || 'Address 2',\n            floorArea: '2000',\n            level: 'Level 1',\n            unit: 'B-15'\n          }\n        ],\n        fromBookmark: true \n      } \n    });\n  };\n\n  // Remove bookmark function\n  const handleRemoveBookmark = async (bookmarkType, bookmarkId) => {\n    const confirmed = window.confirm('Are you sure you want to remove this bookmark?');\n    if (confirmed) {\n      try {\n        await authAPI.deleteBookmark(bookmarkId);\n        // Reload bookmarks after deletion\n        loadBookmarks();\n      } catch (error) {\n        console.error('Error removing bookmark:', error);\n        alert('Failed to remove bookmark. Please try again.');\n      }\n    }\n  };\n\n  // Format date for display\n  const formatDate = (dateString) => {\n    if (!dateString) return 'Unknown date';\n    try {\n      const date = new Date(dateString);\n      return date.toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      });\n    } catch (error) {\n      return 'Invalid date';\n    }\n  };\n\n  // Get dynamic image based on property type and address\n  const getDynamicImage = (propertyType, address) => {\n    // Google Places API search query based on property type and address\n    const searchQuery = encodeURIComponent(`${propertyType} ${address}`);\n    \n    // For now, use a fallback system with different images based on property type\n    // In production, you would integrate with Google Places API or similar service\n    const imageMap = {\n      'Industrial Property': 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=400&h=250&fit=crop',\n      'Factory Building': 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=250&fit=crop',\n      'Warehouse': 'https://images.unsplash.com/photo-1497366216548-37526070297c?w=400&h=250&fit=crop',\n      'Office Space': 'https://images.unsplash.com/photo-1497366216548-37526070297c?w=400&h=250&fit=crop',\n      'Commercial Space': 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=400&h=250&fit=crop',\n      'Comparison': 'https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=400&h=250&fit=crop'\n    };\n    \n    // Return appropriate image based on property type, or default\n    return imageMap[propertyType] || imageMap['Industrial Property'];\n  };\n\n  // Get image for comparison bookmarks (showing both properties)\n  const getComparisonImage = (propertyType1, propertyType2) => {\n    // For comparisons, show a cityscape or building comparison image\n    return 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=400&h=250&fit=crop';\n  };\n\n  return (\n    <div className=\"bookmarks-dashboard\">\n      {/* Top Header */}\n      <Header />\n\n      <div className=\"bookmarks-dashboard-container\">\n        {/* Left Sidebar */}\n        <Navbar activeTab={activeTab} setActiveTab={setActiveTab} />\n\n        {/* Main Content */}\n        <main className=\"bookmarks-main-content\">\n          <div className=\"bookmarks-content-header\">\n            <h1 className=\"bookmarks-main-title\">My Bookmarks</h1>\n            <p className=\"bookmarks-welcome-message\">Welcome back, {getUserName()}</p>\n          </div>\n\n          {/* Error Message */}\n          {bookmarksError && (\n            <div className=\"bookmarks-error-message\">\n              {bookmarksError}\n              <button \n                className=\"bookmarks-clear-error-btn\"\n                onClick={() => setBookmarksError('')}\n              >\n                Ã—\n              </button>\n            </div>\n          )}\n\n          {/* Loading State */}\n          {isLoadingBookmarks && (\n            <div className=\"bookmarks-loading\">\n              <p>Loading your bookmarks...</p>\n            </div>\n          )}\n\n          {/* Bookmarked Addresses */}\n          {!isLoadingBookmarks && !bookmarksError && (\n          <section className=\"bookmarked-addresses\">\n            <h2 className=\"bookmarks-section-title\">Bookmarked Addresses</h2>\n              {bookmarkedAddresses.length > 0 ? (\n            <div className=\"bookmarks-grid\">\n              {bookmarkedAddresses.map((address) => (\n                <div \n                  key={address.id} \n                  className=\"bookmark-card address-card clickable\"\n                      onClick={() => handleBookmarkedAddressView(address)}\n                      title=\"Click to get price prediction\"\n                    >\n                      <div className=\"card-image\">\n                    <img \n                      src={getDynamicImage(address.property_type || 'Property', address.address)} \n                      alt={address.address} \n                    />\n                    <button \n                      className=\"remove-bookmark-btn\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleRemoveBookmark('address', address.id);\n                      }}\n                      title=\"Remove bookmark\"\n                    >\n                      âœ•\n                    </button>\n                  </div>\n                  <div className=\"card-content\">\n                    <h3 className=\"card-address\">{address.address}</h3>\n                    <p className=\"card-type\">{address.property_type || 'Property'}</p>\n                    <p className=\"card-date\">Bookmarked on {formatDate(address.bookmarked_date)}</p>\n                    <p className=\"card-hint\">ðŸ’¡ Click to get price prediction</p>\n                  </div>\n                </div>\n              ))}\n            </div>\n              ) : (\n                <div className=\"bookmarks-no-data\">\n                  <p>No bookmarked addresses yet</p>\n                  <p className=\"bookmarks-hint\">Start bookmarking properties to see them here!</p>\n                </div>\n              )}\n          </section>\n          )}\n\n          {/* Bookmarked Predictions */}\n          {!isLoadingBookmarks && !bookmarksError && (\n          <section className=\"bookmarked-predictions\">\n            <h2 className=\"bookmarks-section-title\">Bookmarked Predictions</h2>\n              {bookmarkedPredictions.length > 0 ? (\n            <div className=\"bookmarks-grid\">\n              {bookmarkedPredictions.map((prediction) => (\n                <div \n                  key={prediction.id} \n                  className=\"bookmark-card prediction-card clickable\"\n                  onClick={() => handlePredictionClick(prediction)}\n                  title=\"Click to view prediction details\"\n                >\n                  <div className=\"card-image\">\n                    <img \n                      src={getDynamicImage(prediction.property_type || 'Property', prediction.address)} \n                      alt={prediction.address} \n                    />\n                    <button \n                      className=\"remove-bookmark-btn\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleRemoveBookmark('prediction', prediction.id);\n                      }}\n                      title=\"Remove bookmark\"\n                    >\n                      âœ•\n                    </button>\n                  </div>\n                  <div className=\"card-content\">\n                    <h3 className=\"card-address\">{prediction.address}</h3>\n                    <p className=\"card-prediction\">Property Type: {prediction.property_type}</p>\n                    <p className=\"card-date\">Bookmarked on {formatDate(prediction.bookmarked_date)}</p>\n                    <p className=\"card-hint\">ðŸ’¡ Click to view prediction details</p>\n                  </div>\n                </div>\n              ))}\n            </div>\n              ) : (\n                <div className=\"bookmarks-no-data\">\n                  <p>No bookmarked predictions yet</p>\n                  <p className=\"bookmarks-hint\">Start bookmarking price predictions to see them here!</p>\n                </div>\n              )}\n          </section>\n          )}\n\n          {/* Bookmarked Comparisons - Premium Users Only */}\n          {!isLoadingBookmarks && !bookmarksError && isPremiumUser && (\n            <section className=\"bookmarked-comparisons\">\n              <h2 className=\"bookmarks-section-title\">Bookmarked Comparisons</h2>\n              {bookmarkedComparisons.length > 0 ? (\n              <div className=\"bookmarks-grid\">\n                {bookmarkedComparisons.map((comparison) => (\n                  <div \n                    key={comparison.id} \n                    className=\"bookmark-card comparison-card clickable\"\n                    onClick={() => handleComparisonClick(comparison)}\n                    title=\"Click to view comparison results\"\n                  >\n                    <div className=\"card-image\">\n                        <img \n                          src=\"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=300&h=200&fit=crop\" \n                          alt={comparison.title} \n                        />\n                      <button \n                        className=\"remove-bookmark-btn\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleRemoveBookmark('comparison', comparison.id);\n                        }}\n                        title=\"Remove bookmark\"\n                      >\n                        âœ•\n                      </button>\n                    </div>\n                    <div className=\"card-content\">\n                        <h3 className=\"card-title\">{comparison.title || 'Property Comparison'}</h3>\n                        <p className=\"card-details\">Property Type: {comparison.property_type || 'Mixed Use'}</p>\n                      <p className=\"card-addresses\">\n                          <strong>Address:</strong> {comparison.address}\n                      </p>\n                        <p className=\"card-date\">Bookmarked on {formatDate(comparison.bookmarked_date)}</p>\n                      <p className=\"card-hint\">ðŸ’¡ Click to view comparison results</p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n              ) : (\n                <div className=\"bookmarks-no-data\">\n                  <p>No bookmarked comparisons yet</p>\n                  <p className=\"bookmarks-hint\">Start bookmarking property comparisons to see them here!</p>\n                </div>\n              )}\n            </section>\n          )}\n\n          {/* No Bookmarks Message */}\n          {!isLoadingBookmarks && !bookmarksError && \n           bookmarkedAddresses.length === 0 && \n           bookmarkedPredictions.length === 0 && \n           bookmarkedComparisons.length === 0 && (\n            <div className=\"bookmarks-empty-state\">\n              <h2>No Bookmarks Yet</h2>\n              <p>You haven't bookmarked any properties, predictions, or comparisons yet.</p>\n              <p className=\"bookmarks-hint\">Start exploring the platform and bookmark items you're interested in!</p>\n            </div>\n          )}\n        </main>\n      </div>\n\n      {/* Footer */}\n      <Footer />\n    </div>\n  );\n};\n\nexport default Bookmarks;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}