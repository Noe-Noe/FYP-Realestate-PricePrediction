{"ast":null,"code":"var _jsxFileName = \"/Users/mandyng/fyp-app/src/components/landing-page/Explore.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport './Explore.css';\nimport { GOOGLE_MAPS_API_KEY } from '../../config/maps';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GOOGLE_MAPS_LIBRARIES = ['places', 'geometry'];\nfunction loadGoogleMaps(apiKey) {\n  if (!apiKey) {\n    return Promise.reject(new Error('Missing Google Maps API key (set in src/config/maps.js or .env)'));\n  }\n  if (window.google && window.google.maps) {\n    return Promise.resolve(window.google);\n  }\n  if (window._googleMapsPromise) {\n    return window._googleMapsPromise;\n  }\n  const script = document.createElement('script');\n  const libs = GOOGLE_MAPS_LIBRARIES.join(',');\n  script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&libraries=${libs}`;\n  script.async = true;\n  script.defer = true;\n  window._googleMapsPromise = new Promise((resolve, reject) => {\n    script.onload = () => resolve(window.google);\n    script.onerror = reject;\n  });\n  document.head.appendChild(script);\n  return window._googleMapsPromise;\n}\nconst DEFAULT_CENTER = {\n  lat: 1.2868108,\n  lng: 103.8545349\n}; // SG center-ish\nconst SEARCH_RADIUS_METERS = 1000;\nconst AMENITY_OPTIONS = [{\n  type: 'school',\n  label: 'Schools'\n}, {\n  type: 'hospital',\n  label: 'Hospitals'\n}, {\n  type: 'supermarket',\n  label: 'Supermarkets'\n}, {\n  type: 'restaurant',\n  label: 'Restaurants'\n}, {\n  type: 'cafe',\n  label: 'Cafes'\n}, {\n  type: 'bank',\n  label: 'Banks'\n}, {\n  type: 'atm',\n  label: 'ATMs'\n}, {\n  type: 'shopping_mall',\n  label: 'Shopping Malls'\n}, {\n  type: 'bus_station',\n  label: 'Bus Stations'\n}, {\n  type: 'subway_station',\n  label: 'MRT'\n}, {\n  type: 'gym',\n  label: 'Gyms'\n}, {\n  type: 'pharmacy',\n  label: 'Pharmacies'\n}];\nconst Explore = () => {\n  _s();\n  const [searchAddress, setSearchAddress] = useState('');\n  const [clickedAddress, setClickedAddress] = useState('');\n  const [isSearching, setIsSearching] = useState(false);\n  const [searchError, setSearchError] = useState('');\n  const [selectedAmenityTypes, setSelectedAmenityTypes] = useState(['school', 'supermarket', 'restaurant', 'bus_station', 'subway_station']);\n  const [amenities, setAmenities] = useState([]);\n  const [isLoadingAmenities, setIsLoadingAmenities] = useState(false);\n  const [amenitiesError, setAmenitiesError] = useState('');\n  const markerRef = useRef(null);\n  const mapInstanceRef = useRef(null);\n  const geocoderRef = useRef(null);\n  const placesServiceRef = useRef(null);\n  const autocompleteRef = useRef(null);\n  const inputRef = useRef(null);\n  const lastLocationRef = useRef(null);\n\n  // Initialize Google Maps\n  useEffect(() => {\n    loadGoogleMaps(GOOGLE_MAPS_API_KEY).then(google => {\n      const mapDiv = document.getElementById('mapdiv');\n      if (!mapDiv) {\n        console.error('Map div not found');\n        return;\n      }\n      const map = new google.maps.Map(mapDiv, {\n        center: DEFAULT_CENTER,\n        zoom: 16,\n        mapTypeControl: false,\n        streetViewControl: false,\n        fullscreenControl: true\n      });\n      mapInstanceRef.current = map;\n      geocoderRef.current = new google.maps.Geocoder();\n      placesServiceRef.current = new google.maps.places.PlacesService(map);\n\n      // Map click -> reverse geocode + marker + amenities\n      map.addListener('click', e => {\n        const latLng = e.latLng;\n        placeMarker(latLng);\n        reverseGeocode(latLng);\n        // Don't fetch amenities yet - wait for validation\n      });\n\n      // Autocomplete on input\n      if (inputRef.current) {\n        const autocomplete = new google.maps.places.Autocomplete(inputRef.current, {\n          componentRestrictions: {\n            country: 'sg'\n          },\n          fields: ['geometry', 'formatted_address', 'name']\n        });\n        autocompleteRef.current = autocomplete;\n        autocomplete.addListener('place_changed', () => {\n          const place = autocomplete.getPlace();\n          if (!place || !place.geometry || !place.geometry.location) return;\n\n          // Check if the place is industrial or commercial\n          const placeTypes = place.types || [];\n          const isIndustrialOrCommercial = placeTypes.some(type => type === 'industrial' || type === 'commercial' || type === 'establishment' || type === 'point_of_interest');\n          if (!isIndustrialOrCommercial) {\n            setSearchError('Only industrial and commercial properties are supported.');\n            setSearchAddress('');\n            setClickedAddress('');\n            setAmenities([]);\n            if (markerRef.current) {\n              markerRef.current.setMap(null);\n              markerRef.current = null;\n            }\n            return;\n          }\n          const latLng = place.geometry.location;\n          map.panTo(latLng);\n          map.setZoom(18);\n          placeMarker(latLng);\n          const address = place.formatted_address || place.name || '';\n          setClickedAddress(address);\n          setSearchAddress(address);\n          setSearchError(''); // Clear any previous errors\n          fetchAmenities(latLng, selectedAmenityTypes);\n        });\n      }\n    }).catch(err => {\n      console.error('Error loading Google Maps:', err);\n      setSearchError('Map failed to load. Please configure your Google Maps API key in src/config/maps.js or .env');\n    });\n  }, [selectedAmenityTypes]);\n  const placeMarker = latLng => {\n    const google = window.google;\n    if (!google || !mapInstanceRef.current) return;\n    if (markerRef.current) {\n      markerRef.current.setMap(null);\n      markerRef.current = null;\n    }\n    const marker = new google.maps.Marker({\n      position: latLng,\n      map: mapInstanceRef.current,\n      animation: google.maps.Animation.DROP\n    });\n    markerRef.current = marker;\n    lastLocationRef.current = latLng;\n  };\n  const reverseGeocode = latLng => {\n    const geocoder = geocoderRef.current;\n    if (!geocoder) return;\n    geocoder.geocode({\n      location: latLng\n    }, (results, status) => {\n      if (status === 'OK' && results && results.length) {\n        const result = results[0];\n        const address = result.formatted_address;\n\n        // Check if the address is in a commercial or industrial planning zone\n        // We'll need to use URA planning zone data or a similar service\n        // For now, we'll use a broader approach with establishment types\n        const addressTypes = result.types || [];\n        const isCommercialOrIndustrial = addressTypes.some(type => type === 'establishment' || type === 'point_of_interest' || type === 'premise');\n        if (!isCommercialOrIndustrial) {\n          setSearchError('Only commercial and industrial zones are supported. Please select a business or commercial area.');\n          setClickedAddress('');\n          setAmenities([]);\n          if (markerRef.current) {\n            markerRef.current.setMap(null);\n            markerRef.current = null;\n          }\n          return;\n        }\n        setClickedAddress(address);\n        setSearchAddress(address);\n        setSearchError(''); // Clear any previous errors\n        if (markerRef.current) {\n          const infowindow = new window.google.maps.InfoWindow({\n            content: `<div style=\\\"font-weight:600\\\">${address}</div>`\n          });\n          infowindow.open({\n            anchor: markerRef.current,\n            map: mapInstanceRef.current\n          });\n        }\n        // Now fetch amenities since validation passed\n        fetchAmenities(latLng, selectedAmenityTypes);\n      }\n    });\n  };\n  const nearbySearchOnce = (location, type) => {\n    return new Promise(resolve => {\n      placesServiceRef.current.nearbySearch({\n        location,\n        radius: SEARCH_RADIUS_METERS,\n        type\n      }, (results, status) => {\n        if (status === window.google.maps.places.PlacesServiceStatus.OK && results) {\n          resolve(results.slice(0, 10));\n        } else {\n          resolve([]);\n        }\n      });\n    });\n  };\n\n  // typesOverride allows using the latest types immediately (avoids stale state)\n  const fetchAmenities = async (latLng, typesOverride) => {\n    const activeTypes = Array.isArray(typesOverride) ? typesOverride : selectedAmenityTypes;\n    try {\n      setIsLoadingAmenities(true);\n      setAmenitiesError('');\n      const promises = activeTypes.map(t => nearbySearchOnce(latLng, t));\n      const results = await Promise.all(promises);\n      const flat = results.flat();\n      // Deduplicate by place_id\n      const uniqueMap = new Map();\n      for (const r of flat) {\n        if (!uniqueMap.has(r.place_id)) uniqueMap.set(r.place_id, r);\n      }\n      // Enrich with distance and primary type label\n      const google = window.google;\n      const enriched = Array.from(uniqueMap.values()).map(p => {\n        const distance = google && google.maps.geometry ? google.maps.geometry.spherical.computeDistanceBetween(latLng, p.geometry.location) : null;\n        return {\n          id: p.place_id,\n          name: p.name,\n          vicinity: p.vicinity,\n          rating: p.rating,\n          userRatingsTotal: p.user_ratings_total,\n          types: p.types,\n          location: p.geometry && p.geometry.location,\n          distance\n        };\n      });\n      // Sort by distance\n      enriched.sort((a, b) => (a.distance || Infinity) - (b.distance || Infinity));\n      setAmenities(enriched);\n    } catch (e) {\n      setAmenitiesError('Failed to load nearby amenities.');\n    } finally {\n      setIsLoadingAmenities(false);\n    }\n  };\n  const handleSearchAddress = async () => {\n    setSearchError('');\n    const google = window.google;\n    if (!google || !mapInstanceRef.current) {\n      setSearchError('Map not ready. Please wait a moment and try again.');\n      return;\n    }\n    if (!searchAddress.trim()) return;\n    setIsSearching(true);\n    try {\n      const geocoder = geocoderRef.current || new google.maps.Geocoder();\n      geocoderRef.current = geocoder;\n      geocoder.geocode({\n        address: `${searchAddress}, Singapore`\n      }, (results, status) => {\n        if (status === 'OK' && results && results.length) {\n          const result = results[0];\n          const latLng = result.geometry.location;\n\n          // Check if the address is in a commercial or industrial planning zone\n          // We'll need to use URA planning zone data or a similar service\n          // For now, we'll use a broader approach with establishment types\n          const addressTypes = result.types || [];\n          const isCommercialOrIndustrial = addressTypes.some(type => type === 'establishment' || type === 'point_of_interest' || type === 'premise');\n          if (!isCommercialOrIndustrial) {\n            setSearchError('Only commercial and industrial zones are supported. Please select a business or commercial area.');\n            setIsSearching(false);\n            return;\n          }\n          mapInstanceRef.current.panTo(latLng);\n          mapInstanceRef.current.setZoom(18);\n          placeMarker(latLng);\n          const address = result.formatted_address;\n          setClickedAddress(address);\n          setSearchAddress(address);\n          fetchAmenities(latLng, selectedAmenityTypes);\n        } else {\n          setSearchError('No results found for this address.');\n        }\n        setIsSearching(false);\n      });\n    } catch (err) {\n      setSearchError('Error searching address.');\n      setIsSearching(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter') {\n      handleSearchAddress();\n    }\n  };\n  const toggleAmenity = type => {\n    setSelectedAmenityTypes(prev => {\n      const next = prev.includes(type) ? prev.filter(t => t !== type) : [...prev, type];\n      if (lastLocationRef.current) {\n        // Use the new selection immediately\n        fetchAmenities(lastLocationRef.current, next);\n      }\n      return next;\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"explore\",\n    id: \"intro\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"section-title\",\n      children: \"Explore Automated Valuations\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"explore-header\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"section-subtitle\",\n        children: \"Estimate the value of your property now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"explore-types\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"type-pill\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"http://localhost:3845/assets/1f2c5cefac5c3b843f4e0ea23b4d6916bfbd2857.svg\",\n          alt: \"Commercial\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Commercial\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"type-pill\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"http://localhost:3845/assets/a6a567e6434a0a9b58b53865a5cf0064ee43d31b.svg\",\n          alt: \"Industrial\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Industrial\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"explore-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"explore-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Address Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              ref: inputRef,\n              type: \"text\",\n              className: \"search-input\",\n              placeholder: \"Search an address in Singapore (Google Places Autocomplete)\",\n              value: searchAddress,\n              onChange: e => {\n                setSearchAddress(e.target.value);\n                if (e.target.value === '') {\n                  setSearchError('');\n                  setClickedAddress('');\n                  setAmenities([]);\n                  if (markerRef.current) {\n                    markerRef.current.setMap(null);\n                    markerRef.current = null;\n                  }\n                }\n              },\n              onKeyPress: handleKeyPress,\n              disabled: isSearching\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"search-btn\",\n              onClick: handleSearchAddress,\n              type: \"button\",\n              disabled: isSearching || !searchAddress.trim(),\n              children: isSearching ? 'Searching...' : 'Search'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this), searchError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-error\",\n            children: searchError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this), clickedAddress && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Selected Location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"selected-address\",\n            children: clickedAddress\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row two-cols\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Property Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input like-input\",\n              children: \"Select Property Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Floor Area\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input like-input\",\n              children: \"Enter Floor Area\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            children: \"Predict Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hint\",\n            children: \"Sign in to view full prediction and data insights.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"explore-image\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"mapdiv\",\n          style: {\n            height: '400px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"map-instructions\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uD83E\\uDDED \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Nearby Amenities\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Click the map or use search to pick a location.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"We\\u2019ll list nearby schools, transport, food, healthcare and more.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"amenities-panel\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"amenities-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Nearby Amenities\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"amenity-filters\",\n              children: AMENITY_OPTIONS.map(opt => /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: `amenity-chip ${selectedAmenityTypes.includes(opt.type) ? 'active' : ''}`,\n                onClick: () => toggleAmenity(opt.type),\n                children: opt.label\n              }, opt.type, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 13\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 13\n          }, this), isLoadingAmenities && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"amenities-loading\",\n            children: \"Loading amenities\\u2026\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 15\n          }, this), amenitiesError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"amenities-error\",\n            children: amenitiesError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 15\n          }, this), !isLoadingAmenities && !amenitiesError && amenities.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"amenities-empty\",\n            children: \"Select a location to load nearby amenities.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this), !isLoadingAmenities && amenities.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"amenities-list\",\n            children: amenities.map(a => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"amenity-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"amenity-main\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"amenity-name\",\n                  children: a.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 23\n                }, this), a.vicinity && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"amenity-address\",\n                  children: a.vicinity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 38\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"amenity-meta\",\n                children: [typeof a.rating === 'number' && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"amenity-rating\",\n                  children: [\"\\u2605 \", a.rating.toFixed(1)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 25\n                }, this), typeof a.distance === 'number' && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"amenity-distance\",\n                  children: [Math.round(a.distance), \" m\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"amenity-link\",\n                  href: `https://www.google.com/maps/place/?q=place_id:${a.id}`,\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\",\n                  children: \"Open in Maps\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 21\n              }, this)]\n            }, a.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 332,\n    columnNumber: 5\n  }, this);\n};\n_s(Explore, \"WeA2N4gJxvty2S7iHt+0X6o+8dI=\");\n_c = Explore;\nexport default Explore;\nvar _c;\n$RefreshReg$(_c, \"Explore\");","map":{"version":3,"names":["React","useEffect","useState","useRef","GOOGLE_MAPS_API_KEY","jsxDEV","_jsxDEV","GOOGLE_MAPS_LIBRARIES","loadGoogleMaps","apiKey","Promise","reject","Error","window","google","maps","resolve","_googleMapsPromise","script","document","createElement","libs","join","src","async","defer","onload","onerror","head","appendChild","DEFAULT_CENTER","lat","lng","SEARCH_RADIUS_METERS","AMENITY_OPTIONS","type","label","Explore","_s","searchAddress","setSearchAddress","clickedAddress","setClickedAddress","isSearching","setIsSearching","searchError","setSearchError","selectedAmenityTypes","setSelectedAmenityTypes","amenities","setAmenities","isLoadingAmenities","setIsLoadingAmenities","amenitiesError","setAmenitiesError","markerRef","mapInstanceRef","geocoderRef","placesServiceRef","autocompleteRef","inputRef","lastLocationRef","then","mapDiv","getElementById","console","error","map","Map","center","zoom","mapTypeControl","streetViewControl","fullscreenControl","current","Geocoder","places","PlacesService","addListener","e","latLng","placeMarker","reverseGeocode","autocomplete","Autocomplete","componentRestrictions","country","fields","place","getPlace","geometry","location","placeTypes","types","isIndustrialOrCommercial","some","setMap","panTo","setZoom","address","formatted_address","name","fetchAmenities","catch","err","marker","Marker","position","animation","Animation","DROP","geocoder","geocode","results","status","length","result","addressTypes","isCommercialOrIndustrial","infowindow","InfoWindow","content","open","anchor","nearbySearchOnce","nearbySearch","radius","PlacesServiceStatus","OK","slice","typesOverride","activeTypes","Array","isArray","promises","t","all","flat","uniqueMap","r","has","place_id","set","enriched","from","values","p","distance","spherical","computeDistanceBetween","id","vicinity","rating","userRatingsTotal","user_ratings_total","sort","a","b","Infinity","handleSearchAddress","trim","handleKeyPress","key","toggleAmenity","prev","next","includes","filter","className","children","fileName","_jsxFileName","lineNumber","columnNumber","alt","ref","placeholder","value","onChange","target","onKeyPress","disabled","onClick","style","height","opt","toFixed","Math","round","href","rel","_c","$RefreshReg$"],"sources":["/Users/mandyng/fyp-app/src/components/landing-page/Explore.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport './Explore.css';\nimport { GOOGLE_MAPS_API_KEY } from '../../config/maps';\n\nconst GOOGLE_MAPS_LIBRARIES = ['places', 'geometry'];\n\nfunction loadGoogleMaps(apiKey) {\n  if (!apiKey) {\n    return Promise.reject(new Error('Missing Google Maps API key (set in src/config/maps.js or .env)'));\n  }\n  if (window.google && window.google.maps) {\n    return Promise.resolve(window.google);\n  }\n  if (window._googleMapsPromise) {\n    return window._googleMapsPromise;\n  }\n  const script = document.createElement('script');\n  const libs = GOOGLE_MAPS_LIBRARIES.join(',');\n  script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&libraries=${libs}`;\n  script.async = true;\n  script.defer = true;\n  window._googleMapsPromise = new Promise((resolve, reject) => {\n    script.onload = () => resolve(window.google);\n    script.onerror = reject;\n  });\n  document.head.appendChild(script);\n  return window._googleMapsPromise;\n}\n\nconst DEFAULT_CENTER = { lat: 1.2868108, lng: 103.8545349 }; // SG center-ish\nconst SEARCH_RADIUS_METERS = 1000;\n\nconst AMENITY_OPTIONS = [\n  { type: 'school', label: 'Schools' },\n  { type: 'hospital', label: 'Hospitals' },\n  { type: 'supermarket', label: 'Supermarkets' },\n  { type: 'restaurant', label: 'Restaurants' },\n  { type: 'cafe', label: 'Cafes' },\n  { type: 'bank', label: 'Banks' },\n  { type: 'atm', label: 'ATMs' },\n  { type: 'shopping_mall', label: 'Shopping Malls' },\n  { type: 'bus_station', label: 'Bus Stations' },\n  { type: 'subway_station', label: 'MRT' },\n  { type: 'gym', label: 'Gyms' },\n  { type: 'pharmacy', label: 'Pharmacies' },\n];\n\nconst Explore = () => {\n  const [searchAddress, setSearchAddress] = useState('');\n  const [clickedAddress, setClickedAddress] = useState('');\n  const [isSearching, setIsSearching] = useState(false);\n  const [searchError, setSearchError] = useState('');\n\n  const [selectedAmenityTypes, setSelectedAmenityTypes] = useState(\n    ['school', 'supermarket', 'restaurant', 'bus_station', 'subway_station']\n  );\n  const [amenities, setAmenities] = useState([]);\n  const [isLoadingAmenities, setIsLoadingAmenities] = useState(false);\n  const [amenitiesError, setAmenitiesError] = useState('');\n\n  const markerRef = useRef(null);\n  const mapInstanceRef = useRef(null);\n  const geocoderRef = useRef(null);\n  const placesServiceRef = useRef(null);\n  const autocompleteRef = useRef(null);\n  const inputRef = useRef(null);\n  const lastLocationRef = useRef(null);\n\n  // Initialize Google Maps\n  useEffect(() => {\n    loadGoogleMaps(GOOGLE_MAPS_API_KEY)\n      .then((google) => {\n    const mapDiv = document.getElementById('mapdiv');\n    if (!mapDiv) {\n      console.error('Map div not found');\n      return;\n    }\n        const map = new google.maps.Map(mapDiv, {\n          center: DEFAULT_CENTER,\n          zoom: 16,\n          mapTypeControl: false,\n          streetViewControl: false,\n          fullscreenControl: true,\n        });\n        mapInstanceRef.current = map;\n        geocoderRef.current = new google.maps.Geocoder();\n        placesServiceRef.current = new google.maps.places.PlacesService(map);\n\n        // Map click -> reverse geocode + marker + amenities\n        map.addListener('click', (e) => {\n          const latLng = e.latLng;\n          placeMarker(latLng);\n          reverseGeocode(latLng);\n          // Don't fetch amenities yet - wait for validation\n        });\n\n        // Autocomplete on input\n        if (inputRef.current) {\n          const autocomplete = new google.maps.places.Autocomplete(inputRef.current, {\n            componentRestrictions: { country: 'sg' },\n            fields: ['geometry', 'formatted_address', 'name'],\n          });\n          autocompleteRef.current = autocomplete;\n          autocomplete.addListener('place_changed', () => {\n            const place = autocomplete.getPlace();\n            if (!place || !place.geometry || !place.geometry.location) return;\n            \n            // Check if the place is industrial or commercial\n            const placeTypes = place.types || [];\n            const isIndustrialOrCommercial = placeTypes.some(type => \n              type === 'industrial' || \n              type === 'commercial' || \n              type === 'establishment' ||\n              type === 'point_of_interest'\n            );\n            \n            if (!isIndustrialOrCommercial) {\n              setSearchError('Only industrial and commercial properties are supported.');\n              setSearchAddress('');\n              setClickedAddress('');\n              setAmenities([]);\n              if (markerRef.current) {\n                markerRef.current.setMap(null);\n                markerRef.current = null;\n              }\n              return;\n            }\n            \n            const latLng = place.geometry.location;\n            map.panTo(latLng);\n            map.setZoom(18);\n            placeMarker(latLng);\n            const address = place.formatted_address || place.name || '';\n            setClickedAddress(address);\n            setSearchAddress(address);\n            setSearchError(''); // Clear any previous errors\n            fetchAmenities(latLng, selectedAmenityTypes);\n          });\n        }\n      })\n      .catch((err) => {\n        console.error('Error loading Google Maps:', err);\n        setSearchError('Map failed to load. Please configure your Google Maps API key in src/config/maps.js or .env');\n      });\n  }, [selectedAmenityTypes]);\n\n  const placeMarker = (latLng) => {\n    const google = window.google;\n    if (!google || !mapInstanceRef.current) return;\n    if (markerRef.current) {\n      markerRef.current.setMap(null);\n      markerRef.current = null;\n    }\n    const marker = new google.maps.Marker({\n      position: latLng,\n      map: mapInstanceRef.current,\n      animation: google.maps.Animation.DROP,\n    });\n    markerRef.current = marker;\n    lastLocationRef.current = latLng;\n  };\n\n  const reverseGeocode = (latLng) => {\n    const geocoder = geocoderRef.current;\n    if (!geocoder) return;\n    geocoder.geocode({ location: latLng }, (results, status) => {\n      if (status === 'OK' && results && results.length) {\n        const result = results[0];\n        const address = result.formatted_address;\n        \n        // Check if the address is in a commercial or industrial planning zone\n        // We'll need to use URA planning zone data or a similar service\n        // For now, we'll use a broader approach with establishment types\n        const addressTypes = result.types || [];\n        const isCommercialOrIndustrial = addressTypes.some(type => \n          type === 'establishment' ||\n          type === 'point_of_interest' ||\n          type === 'premise'\n        );\n        \n        if (!isCommercialOrIndustrial) {\n          setSearchError('Only commercial and industrial zones are supported. Please select a business or commercial area.');\n          setClickedAddress('');\n          setAmenities([]);\n          if (markerRef.current) {\n            markerRef.current.setMap(null);\n            markerRef.current = null;\n          }\n          return;\n        }\n        \n        setClickedAddress(address);\n        setSearchAddress(address);\n        setSearchError(''); // Clear any previous errors\n        if (markerRef.current) {\n          const infowindow = new window.google.maps.InfoWindow({\n            content: `<div style=\\\"font-weight:600\\\">${address}</div>`,\n          });\n          infowindow.open({ anchor: markerRef.current, map: mapInstanceRef.current });\n        }\n        // Now fetch amenities since validation passed\n        fetchAmenities(latLng, selectedAmenityTypes);\n      }\n    });\n  };\n\n  const nearbySearchOnce = (location, type) => {\n    return new Promise((resolve) => {\n      placesServiceRef.current.nearbySearch(\n        { location, radius: SEARCH_RADIUS_METERS, type },\n        (results, status) => {\n          if (status === window.google.maps.places.PlacesServiceStatus.OK && results) {\n            resolve(results.slice(0, 10));\n            } else {\n            resolve([]);\n          }\n        }\n      );\n    });\n  };\n\n  // typesOverride allows using the latest types immediately (avoids stale state)\n  const fetchAmenities = async (latLng, typesOverride) => {\n    const activeTypes = Array.isArray(typesOverride) ? typesOverride : selectedAmenityTypes;\n    try {\n      setIsLoadingAmenities(true);\n      setAmenitiesError('');\n      const promises = activeTypes.map((t) => nearbySearchOnce(latLng, t));\n      const results = await Promise.all(promises);\n      const flat = results.flat();\n      // Deduplicate by place_id\n      const uniqueMap = new Map();\n      for (const r of flat) {\n        if (!uniqueMap.has(r.place_id)) uniqueMap.set(r.place_id, r);\n      }\n      // Enrich with distance and primary type label\n      const google = window.google;\n      const enriched = Array.from(uniqueMap.values()).map((p) => {\n        const distance = google && google.maps.geometry\n          ? google.maps.geometry.spherical.computeDistanceBetween(latLng, p.geometry.location)\n          : null;\n        return {\n          id: p.place_id,\n          name: p.name,\n          vicinity: p.vicinity,\n          rating: p.rating,\n          userRatingsTotal: p.user_ratings_total,\n          types: p.types,\n          location: p.geometry && p.geometry.location,\n          distance,\n        };\n      });\n      // Sort by distance\n      enriched.sort((a, b) => (a.distance || Infinity) - (b.distance || Infinity));\n      setAmenities(enriched);\n    } catch (e) {\n      setAmenitiesError('Failed to load nearby amenities.');\n    } finally {\n      setIsLoadingAmenities(false);\n    }\n  };\n\n  const handleSearchAddress = async () => {\n    setSearchError('');\n    const google = window.google;\n    if (!google || !mapInstanceRef.current) {\n      setSearchError('Map not ready. Please wait a moment and try again.');\n      return;\n    }\n    if (!searchAddress.trim()) return;\n    setIsSearching(true);\n    try {\n      const geocoder = geocoderRef.current || new google.maps.Geocoder();\n      geocoderRef.current = geocoder;\n      geocoder.geocode({ address: `${searchAddress}, Singapore` }, (results, status) => {\n        if (status === 'OK' && results && results.length) {\n          const result = results[0];\n          const latLng = result.geometry.location;\n          \n          // Check if the address is in a commercial or industrial planning zone\n          // We'll need to use URA planning zone data or a similar service\n          // For now, we'll use a broader approach with establishment types\n          const addressTypes = result.types || [];\n          const isCommercialOrIndustrial = addressTypes.some(type => \n            type === 'establishment' ||\n            type === 'point_of_interest' ||\n            type === 'premise'\n          );\n          \n          if (!isCommercialOrIndustrial) {\n            setSearchError('Only commercial and industrial zones are supported. Please select a business or commercial area.');\n            setIsSearching(false);\n            return;\n          }\n          \n          mapInstanceRef.current.panTo(latLng);\n          mapInstanceRef.current.setZoom(18);\n          placeMarker(latLng);\n          const address = result.formatted_address;\n          setClickedAddress(address);\n          setSearchAddress(address);\n          fetchAmenities(latLng, selectedAmenityTypes);\n        } else {\n          setSearchError('No results found for this address.');\n        }\n        setIsSearching(false);\n      });\n    } catch (err) {\n      setSearchError('Error searching address.');\n      setIsSearching(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      handleSearchAddress();\n    }\n  };\n\n  const toggleAmenity = (type) => {\n    setSelectedAmenityTypes((prev) => {\n      const next = prev.includes(type) ? prev.filter((t) => t !== type) : [...prev, type];\n      if (lastLocationRef.current) {\n        // Use the new selection immediately\n        fetchAmenities(lastLocationRef.current, next);\n      }\n      return next;\n    });\n  };\n\n  return (\n    <section className=\"explore\" id=\"intro\">\n      <h2 className=\"section-title\">Explore Automated Valuations</h2>\n      <div className=\"explore-header\">\n        <p className=\"section-subtitle\">Estimate the value of your property now</p>\n      </div>\n      <div className=\"explore-types\">\n        <div className=\"type-pill\">\n          <img src=\"http://localhost:3845/assets/1f2c5cefac5c3b843f4e0ea23b4d6916bfbd2857.svg\" alt=\"Commercial\" />\n          <span>Commercial</span>\n        </div>\n        <div className=\"type-pill\">\n          <img src=\"http://localhost:3845/assets/a6a567e6434a0a9b58b53865a5cf0064ee43d31b.svg\" alt=\"Industrial\" />\n          <span>Industrial</span>\n        </div>\n      </div>\n      <div className=\"explore-grid\">\n        <div className=\"explore-form\">\n          <div className=\"form-row\">\n            <label>Address Search</label>\n            <div className=\"search-container\">\n              <input\n                ref={inputRef}\n                type=\"text\"\n                className=\"search-input\"\n                placeholder=\"Search an address in Singapore (Google Places Autocomplete)\"\n                value={searchAddress}\n                onChange={(e) => {\n                  setSearchAddress(e.target.value);\n                  if (e.target.value === '') {\n                    setSearchError('');\n                    setClickedAddress('');\n                    setAmenities([]);\n                    if (markerRef.current) {\n                      markerRef.current.setMap(null);\n                      markerRef.current = null;\n                    }\n                  }\n                }}\n                onKeyPress={handleKeyPress}\n                disabled={isSearching}\n              />\n              <button \n                className=\"search-btn\" \n                onClick={handleSearchAddress}\n                type=\"button\"\n                disabled={isSearching || !searchAddress.trim()}\n              >\n                {isSearching ? 'Searching...' : 'Search'}\n              </button>\n            </div>\n            {searchError && (\n              <div className=\"search-error\">{searchError}</div>\n            )}\n          </div>\n          {clickedAddress && (\n            <div className=\"form-row\">\n              <label>Selected Location</label>\n              <div className=\"selected-address\">{clickedAddress}</div>\n            </div>\n          )}\n          <div className=\"form-row two-cols\">\n            <div>\n              <label>Property Type</label>\n              <div className=\"input like-input\">Select Property Type</div>\n            </div>\n            <div>\n              <label>Floor Area</label>\n              <div className=\"input like-input\">Enter Floor Area</div>\n            </div>\n          </div>\n          <div className=\"form-row\">\n            <button className=\"btn btn-primary\">Predict Price</button>\n            <div className=\"hint\">Sign in to view full prediction and data insights.</div>\n          </div>\n        </div>\n        <div className=\"explore-image\">\n          <div id=\"mapdiv\" style={{ height: '400px' }}></div>\n          <div className=\"map-instructions\">\n            <p>ðŸ§­ <strong>Nearby Amenities</strong></p>\n            <p>Click the map or use search to pick a location.</p>\n            <p><small>Weâ€™ll list nearby schools, transport, food, healthcare and more.</small></p>\n          </div>\n\n          <div className=\"amenities-panel\">\n            <div className=\"amenities-header\">\n              <h3>Nearby Amenities</h3>\n              <div className=\"amenity-filters\">\n                {AMENITY_OPTIONS.map((opt) => (\n            <button \n                    key={opt.type}\n              type=\"button\" \n                    className={`amenity-chip ${selectedAmenityTypes.includes(opt.type) ? 'active' : ''}`}\n                    onClick={() => toggleAmenity(opt.type)}\n                  >\n                    {opt.label}\n            </button>\n                ))}\n              </div>\n            </div>\n\n            {isLoadingAmenities && (\n              <div className=\"amenities-loading\">Loading amenitiesâ€¦</div>\n            )}\n            {amenitiesError && (\n              <div className=\"amenities-error\">{amenitiesError}</div>\n            )}\n\n            {!isLoadingAmenities && !amenitiesError && amenities.length === 0 && (\n              <div className=\"amenities-empty\">Select a location to load nearby amenities.</div>\n            )}\n\n            {!isLoadingAmenities && amenities.length > 0 && (\n              <ul className=\"amenities-list\">\n                {amenities.map((a) => (\n                  <li className=\"amenity-item\" key={a.id}>\n                    <div className=\"amenity-main\">\n                      <div className=\"amenity-name\">{a.name}</div>\n                      {a.vicinity && <div className=\"amenity-address\">{a.vicinity}</div>}\n                    </div>\n                    <div className=\"amenity-meta\">\n                      {typeof a.rating === 'number' && (\n                        <span className=\"amenity-rating\">â˜… {a.rating.toFixed(1)}</span>\n                      )}\n                      {typeof a.distance === 'number' && (\n                        <span className=\"amenity-distance\">{Math.round(a.distance)} m</span>\n                      )}\n                      <a\n                        className=\"amenity-link\"\n                        href={`https://www.google.com/maps/place/?q=place_id:${a.id}`}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                      >\n                        Open in Maps\n                      </a>\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default Explore;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}