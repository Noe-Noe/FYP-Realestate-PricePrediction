{"ast":null,"code":"var _jsxFileName = \"/Users/mandyng/fyp-app/src/components/landing-page/Explore.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport './Explore.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GOOGLE_MAPS_LIBRARIES = ['places', 'geometry'];\nfunction loadGoogleMaps(apiKey) {\n  if (!apiKey) {\n    return Promise.reject(new Error('Missing Google Maps API key (REACT_APP_GOOGLE_MAPS_API_KEY)'));\n  }\n  if (window.google && window.google.maps) {\n    return Promise.resolve(window.google);\n  }\n  if (window._googleMapsPromise) {\n    return window._googleMapsPromise;\n  }\n  const script = document.createElement('script');\n  const libs = GOOGLE_MAPS_LIBRARIES.join(',');\n  script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&libraries=${libs}`;\n  script.async = true;\n  script.defer = true;\n  window._googleMapsPromise = new Promise((resolve, reject) => {\n    script.onload = () => resolve(window.google);\n    script.onerror = reject;\n  });\n  document.head.appendChild(script);\n  return window._googleMapsPromise;\n}\nconst DEFAULT_CENTER = {\n  lat: 1.2868108,\n  lng: 103.8545349\n}; // SG center-ish\nconst SEARCH_RADIUS_METERS = 1000;\nconst AMENITY_OPTIONS = [{\n  type: 'school',\n  label: 'Schools'\n}, {\n  type: 'hospital',\n  label: 'Hospitals'\n}, {\n  type: 'supermarket',\n  label: 'Supermarkets'\n}, {\n  type: 'restaurant',\n  label: 'Restaurants'\n}, {\n  type: 'cafe',\n  label: 'Cafes'\n}, {\n  type: 'bank',\n  label: 'Banks'\n}, {\n  type: 'atm',\n  label: 'ATMs'\n}, {\n  type: 'shopping_mall',\n  label: 'Shopping Malls'\n}, {\n  type: 'bus_station',\n  label: 'Bus Stations'\n}, {\n  type: 'subway_station',\n  label: 'MRT'\n}, {\n  type: 'train_station',\n  label: 'Train Stations'\n}, {\n  type: 'park',\n  label: 'Parks'\n}, {\n  type: 'gym',\n  label: 'Gyms'\n}, {\n  type: 'pharmacy',\n  label: 'Pharmacies'\n}];\nconst Explore = () => {\n  _s();\n  const [searchAddress, setSearchAddress] = useState('');\n  const [clickedAddress, setClickedAddress] = useState('');\n  const [isSearching, setIsSearching] = useState(false);\n  const [searchError, setSearchError] = useState('');\n  const [selectedAmenityTypes, setSelectedAmenityTypes] = useState(['school', 'supermarket', 'restaurant', 'bus_station', 'subway_station']);\n  const [amenities, setAmenities] = useState([]);\n  const [isLoadingAmenities, setIsLoadingAmenities] = useState(false);\n  const [amenitiesError, setAmenitiesError] = useState('');\n  const mapRef = useRef(null);\n  const markerRef = useRef(null);\n  const mapInstanceRef = useRef(null);\n  const geocoderRef = useRef(null);\n  const placesServiceRef = useRef(null);\n  const autocompleteRef = useRef(null);\n  const inputRef = useRef(null);\n  const lastLocationRef = useRef(null);\n\n  // Initialize Google Maps\n  useEffect(() => {\n    const apiKey = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\n    loadGoogleMaps(apiKey).then(google => {\n      const mapDiv = document.getElementById('mapdiv');\n      if (!mapDiv) {\n        console.error('Map div not found');\n        return;\n      }\n      const map = new google.maps.Map(mapDiv, {\n        center: DEFAULT_CENTER,\n        zoom: 16,\n        mapTypeControl: false,\n        streetViewControl: false,\n        fullscreenControl: true\n      });\n      mapInstanceRef.current = map;\n      geocoderRef.current = new google.maps.Geocoder();\n      placesServiceRef.current = new google.maps.places.PlacesService(map);\n\n      // Map click -> reverse geocode + marker + amenities\n      map.addListener('click', e => {\n        const latLng = e.latLng;\n        placeMarker(latLng);\n        reverseGeocode(latLng);\n        fetchAmenities(latLng);\n      });\n\n      // Autocomplete on input\n      if (inputRef.current) {\n        const autocomplete = new google.maps.places.Autocomplete(inputRef.current, {\n          componentRestrictions: {\n            country: 'sg'\n          },\n          fields: ['geometry', 'formatted_address', 'name']\n        });\n        autocompleteRef.current = autocomplete;\n        autocomplete.addListener('place_changed', () => {\n          const place = autocomplete.getPlace();\n          if (!place || !place.geometry || !place.geometry.location) return;\n          const latLng = place.geometry.location;\n          map.panTo(latLng);\n          map.setZoom(18);\n          placeMarker(latLng);\n          const address = place.formatted_address || place.name || '';\n          setClickedAddress(address);\n          setSearchAddress(address);\n          fetchAmenities(latLng);\n        });\n      }\n    }).catch(err => {\n      console.error('Error loading Google Maps:', err);\n      setSearchError('Map failed to load. Please configure your Google Maps API key.');\n    });\n  }, []);\n  const placeMarker = latLng => {\n    const google = window.google;\n    if (!google || !mapInstanceRef.current) return;\n    if (markerRef.current) {\n      markerRef.current.setMap(null);\n      markerRef.current = null;\n    }\n    const marker = new google.maps.Marker({\n      position: latLng,\n      map: mapInstanceRef.current,\n      animation: google.maps.Animation.DROP\n    });\n    markerRef.current = marker;\n    lastLocationRef.current = latLng;\n  };\n  const reverseGeocode = latLng => {\n    const geocoder = geocoderRef.current;\n    if (!geocoder) return;\n    geocoder.geocode({\n      location: latLng\n    }, (results, status) => {\n      if (status === 'OK' && results && results.length) {\n        const address = results[0].formatted_address;\n        setClickedAddress(address);\n        setSearchAddress(address);\n        if (markerRef.current) {\n          const infowindow = new window.google.maps.InfoWindow({\n            content: `<div style=\"font-weight:600\">${address}</div>`\n          });\n          infowindow.open({\n            anchor: markerRef.current,\n            map: mapInstanceRef.current\n          });\n        }\n      }\n    });\n  };\n  const nearbySearchOnce = (location, type) => {\n    return new Promise(resolve => {\n      placesServiceRef.current.nearbySearch({\n        location,\n        radius: SEARCH_RADIUS_METERS,\n        type\n      }, (results, status) => {\n        if (status === window.google.maps.places.PlacesServiceStatus.OK && results) {\n          resolve(results.slice(0, 10));\n        } else {\n          resolve([]);\n        }\n      });\n    });\n  };\n  const fetchAmenities = async latLng => {\n    try {\n      setIsLoadingAmenities(true);\n      setAmenitiesError('');\n      const promises = selectedAmenityTypes.map(t => nearbySearchOnce(latLng, t));\n      const results = await Promise.all(promises);\n      const flat = results.flat();\n      // Deduplicate by place_id\n      const uniqueMap = new Map();\n      for (const r of flat) {\n        if (!uniqueMap.has(r.place_id)) uniqueMap.set(r.place_id, r);\n      }\n      // Enrich with distance and primary type label\n      const google = window.google;\n      const enriched = Array.from(uniqueMap.values()).map(p => {\n        const distance = google && google.maps.geometry ? google.maps.geometry.spherical.computeDistanceBetween(latLng, p.geometry.location) : null;\n        return {\n          id: p.place_id,\n          name: p.name,\n          vicinity: p.vicinity,\n          rating: p.rating,\n          userRatingsTotal: p.user_ratings_total,\n          types: p.types,\n          location: p.geometry && p.geometry.location,\n          distance\n        };\n      });\n      // Sort by distance\n      enriched.sort((a, b) => (a.distance || Infinity) - (b.distance || Infinity));\n      setAmenities(enriched);\n    } catch (e) {\n      setAmenitiesError('Failed to load nearby amenities.');\n    } finally {\n      setIsLoadingAmenities(false);\n    }\n  };\n  const handleSearchAddress = async () => {\n    setSearchError('');\n    const google = window.google;\n    if (!google || !mapInstanceRef.current) {\n      setSearchError('Map not ready. Please wait a moment and try again.');\n      return;\n    }\n    if (!searchAddress.trim()) return;\n    setIsSearching(true);\n    try {\n      const geocoder = geocoderRef.current || new google.maps.Geocoder();\n      geocoderRef.current = geocoder;\n      geocoder.geocode({\n        address: `${searchAddress}, Singapore`\n      }, (results, status) => {\n        if (status === 'OK' && results && results.length) {\n          const result = results[0];\n          const latLng = result.geometry.location;\n          mapInstanceRef.current.panTo(latLng);\n          mapInstanceRef.current.setZoom(18);\n          placeMarker(latLng);\n          const address = result.formatted_address;\n          setClickedAddress(address);\n          setSearchAddress(address);\n          fetchAmenities(latLng);\n        } else {\n          setSearchError('No results found for this address.');\n        }\n        setIsSearching(false);\n      });\n    } catch (err) {\n      setSearchError('Error searching address.');\n      setIsSearching(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter') {\n      handleSearchAddress();\n    }\n  };\n  const toggleAmenity = type => {\n    setSelectedAmenityTypes(prev => {\n      const next = prev.includes(type) ? prev.filter(t => t !== type) : [...prev, type];\n      // Re-fetch if we have a last location\n      if (lastLocationRef.current) {\n        fetchAmenities(lastLocationRef.current);\n      }\n      return next;\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"explore\",\n    id: \"intro\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"section-title\",\n      children: \"Explore Automated Valuations\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"explore-header\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"section-subtitle\",\n        children: \"Estimate the value of your property now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"explore-types\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"type-pill\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"http://localhost:3845/assets/1f2c5cefac5c3b843f4e0ea23b4d6916bfbd2857.svg\",\n          alt: \"Commercial\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Commercial\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"type-pill\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"http://localhost:3845/assets/a6a567e6434a0a9b58b53865a5cf0064ee43d31b.svg\",\n          alt: \"Industrial\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Industrial\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"explore-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"explore-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Address Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              ref: inputRef,\n              type: \"text\",\n              className: \"search-input\",\n              placeholder: \"Enter address (Autocomplete powered by Google Places)\",\n              value: searchAddress,\n              onChange: e => {\n                setSearchAddress(e.target.value);\n                if (e.target.value === '') {\n                  setSearchError('');\n                  setClickedAddress('');\n                  setAmenities([]);\n                  if (markerRef.current) {\n                    markerRef.current.setMap(null);\n                    markerRef.current = null;\n                  }\n                }\n              },\n              onKeyPress: handleKeyPress,\n              disabled: isSearching\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"search-btn\",\n              onClick: handleSearchAddress,\n              type: \"button\",\n              disabled: isSearching || !searchAddress.trim(),\n              children: isSearching ? 'Searching...' : 'Search'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), searchError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-error\",\n            children: searchError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this), clickedAddress && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Selected Location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"selected-address\",\n            children: clickedAddress\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row two-cols\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Property Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input like-input\",\n              children: \"Select Property Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Floor Area\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input like-input\",\n              children: \"Enter Floor Area\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            children: \"Predict Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hint\",\n            children: \"Sign in to view full prediction and data insights.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"explore-image\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"mapdiv\",\n          style: {\n            height: '400px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"map-instructions\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uD83C\\uDFE2 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Commercial & Industrial Properties Only\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uD83D\\uDCA1 Click on the map or use the search to select a location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"Nearby amenities will appear below\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"amenities-panel\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"amenities-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Nearby Amenities\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"amenity-filters\",\n              children: AMENITY_OPTIONS.map(opt => /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: `amenity-chip ${selectedAmenityTypes.includes(opt.type) ? 'active' : ''}`,\n                onClick: () => toggleAmenity(opt.type),\n                children: opt.label\n              }, opt.type, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this), isLoadingAmenities && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"amenities-loading\",\n            children: \"Loading amenities\\u2026\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 15\n          }, this), amenitiesError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"amenities-error\",\n            children: amenitiesError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this), !isLoadingAmenities && !amenitiesError && amenities.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"amenities-empty\",\n            children: \"No amenities to show yet. Select a location to view nearby places.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this), !isLoadingAmenities && amenities.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"amenities-list\",\n            children: amenities.map(a => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"amenity-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"amenity-main\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"amenity-name\",\n                  children: a.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 23\n                }, this), a.vicinity && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"amenity-address\",\n                  children: a.vicinity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 38\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"amenity-meta\",\n                children: [typeof a.rating === 'number' && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"amenity-rating\",\n                  children: [\"\\u2605 \", a.rating.toFixed(1)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 25\n                }, this), typeof a.distance === 'number' && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"amenity-distance\",\n                  children: [Math.round(a.distance), \" m\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"amenity-link\",\n                  href: `https://www.google.com/maps/place/?q=place_id:${a.id}`,\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\",\n                  children: \"Open in Maps\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 21\n              }, this)]\n            }, a.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 267,\n    columnNumber: 5\n  }, this);\n};\n_s(Explore, \"2rmJKv4/7KrPzy2yll90ksQ0tn0=\");\n_c = Explore;\nexport default Explore;\nvar _c;\n$RefreshReg$(_c, \"Explore\");","map":{"version":3,"names":["React","useEffect","useState","useRef","jsxDEV","_jsxDEV","GOOGLE_MAPS_LIBRARIES","loadGoogleMaps","apiKey","Promise","reject","Error","window","google","maps","resolve","_googleMapsPromise","script","document","createElement","libs","join","src","async","defer","onload","onerror","head","appendChild","DEFAULT_CENTER","lat","lng","SEARCH_RADIUS_METERS","AMENITY_OPTIONS","type","label","Explore","_s","searchAddress","setSearchAddress","clickedAddress","setClickedAddress","isSearching","setIsSearching","searchError","setSearchError","selectedAmenityTypes","setSelectedAmenityTypes","amenities","setAmenities","isLoadingAmenities","setIsLoadingAmenities","amenitiesError","setAmenitiesError","mapRef","markerRef","mapInstanceRef","geocoderRef","placesServiceRef","autocompleteRef","inputRef","lastLocationRef","process","env","REACT_APP_GOOGLE_MAPS_API_KEY","then","mapDiv","getElementById","console","error","map","Map","center","zoom","mapTypeControl","streetViewControl","fullscreenControl","current","Geocoder","places","PlacesService","addListener","e","latLng","placeMarker","reverseGeocode","fetchAmenities","autocomplete","Autocomplete","componentRestrictions","country","fields","place","getPlace","geometry","location","panTo","setZoom","address","formatted_address","name","catch","err","setMap","marker","Marker","position","animation","Animation","DROP","geocoder","geocode","results","status","length","infowindow","InfoWindow","content","open","anchor","nearbySearchOnce","nearbySearch","radius","PlacesServiceStatus","OK","slice","promises","t","all","flat","uniqueMap","r","has","place_id","set","enriched","Array","from","values","p","distance","spherical","computeDistanceBetween","id","vicinity","rating","userRatingsTotal","user_ratings_total","types","sort","a","b","Infinity","handleSearchAddress","trim","result","handleKeyPress","key","toggleAmenity","prev","next","includes","filter","className","children","fileName","_jsxFileName","lineNumber","columnNumber","alt","ref","placeholder","value","onChange","target","onKeyPress","disabled","onClick","style","height","opt","toFixed","Math","round","href","rel","_c","$RefreshReg$"],"sources":["/Users/mandyng/fyp-app/src/components/landing-page/Explore.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport './Explore.css';\n\nconst GOOGLE_MAPS_LIBRARIES = ['places', 'geometry'];\n\nfunction loadGoogleMaps(apiKey) {\n  if (!apiKey) {\n    return Promise.reject(new Error('Missing Google Maps API key (REACT_APP_GOOGLE_MAPS_API_KEY)'));\n  }\n  if (window.google && window.google.maps) {\n    return Promise.resolve(window.google);\n  }\n  if (window._googleMapsPromise) {\n    return window._googleMapsPromise;\n  }\n  const script = document.createElement('script');\n  const libs = GOOGLE_MAPS_LIBRARIES.join(',');\n  script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&libraries=${libs}`;\n  script.async = true;\n  script.defer = true;\n  window._googleMapsPromise = new Promise((resolve, reject) => {\n    script.onload = () => resolve(window.google);\n    script.onerror = reject;\n  });\n  document.head.appendChild(script);\n  return window._googleMapsPromise;\n}\n\nconst DEFAULT_CENTER = { lat: 1.2868108, lng: 103.8545349 }; // SG center-ish\nconst SEARCH_RADIUS_METERS = 1000;\n\nconst AMENITY_OPTIONS = [\n  { type: 'school', label: 'Schools' },\n  { type: 'hospital', label: 'Hospitals' },\n  { type: 'supermarket', label: 'Supermarkets' },\n  { type: 'restaurant', label: 'Restaurants' },\n  { type: 'cafe', label: 'Cafes' },\n  { type: 'bank', label: 'Banks' },\n  { type: 'atm', label: 'ATMs' },\n  { type: 'shopping_mall', label: 'Shopping Malls' },\n  { type: 'bus_station', label: 'Bus Stations' },\n  { type: 'subway_station', label: 'MRT' },\n  { type: 'train_station', label: 'Train Stations' },\n  { type: 'park', label: 'Parks' },\n  { type: 'gym', label: 'Gyms' },\n  { type: 'pharmacy', label: 'Pharmacies' },\n];\n\nconst Explore = () => {\n  const [searchAddress, setSearchAddress] = useState('');\n  const [clickedAddress, setClickedAddress] = useState('');\n  const [isSearching, setIsSearching] = useState(false);\n  const [searchError, setSearchError] = useState('');\n\n  const [selectedAmenityTypes, setSelectedAmenityTypes] = useState(\n    ['school', 'supermarket', 'restaurant', 'bus_station', 'subway_station']\n  );\n  const [amenities, setAmenities] = useState([]);\n  const [isLoadingAmenities, setIsLoadingAmenities] = useState(false);\n  const [amenitiesError, setAmenitiesError] = useState('');\n\n  const mapRef = useRef(null);\n  const markerRef = useRef(null);\n  const mapInstanceRef = useRef(null);\n  const geocoderRef = useRef(null);\n  const placesServiceRef = useRef(null);\n  const autocompleteRef = useRef(null);\n  const inputRef = useRef(null);\n  const lastLocationRef = useRef(null);\n\n  // Initialize Google Maps\n  useEffect(() => {\n    const apiKey = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\n    loadGoogleMaps(apiKey)\n      .then((google) => {\n        const mapDiv = document.getElementById('mapdiv');\n        if (!mapDiv) {\n          console.error('Map div not found');\n          return;\n        }\n        const map = new google.maps.Map(mapDiv, {\n          center: DEFAULT_CENTER,\n          zoom: 16,\n          mapTypeControl: false,\n          streetViewControl: false,\n          fullscreenControl: true,\n        });\n        mapInstanceRef.current = map;\n        geocoderRef.current = new google.maps.Geocoder();\n        placesServiceRef.current = new google.maps.places.PlacesService(map);\n\n        // Map click -> reverse geocode + marker + amenities\n        map.addListener('click', (e) => {\n          const latLng = e.latLng;\n          placeMarker(latLng);\n          reverseGeocode(latLng);\n          fetchAmenities(latLng);\n        });\n\n        // Autocomplete on input\n        if (inputRef.current) {\n          const autocomplete = new google.maps.places.Autocomplete(inputRef.current, {\n            componentRestrictions: { country: 'sg' },\n            fields: ['geometry', 'formatted_address', 'name'],\n          });\n          autocompleteRef.current = autocomplete;\n          autocomplete.addListener('place_changed', () => {\n            const place = autocomplete.getPlace();\n            if (!place || !place.geometry || !place.geometry.location) return;\n            const latLng = place.geometry.location;\n            map.panTo(latLng);\n            map.setZoom(18);\n            placeMarker(latLng);\n            const address = place.formatted_address || place.name || '';\n            setClickedAddress(address);\n            setSearchAddress(address);\n            fetchAmenities(latLng);\n          });\n        }\n      })\n      .catch((err) => {\n        console.error('Error loading Google Maps:', err);\n        setSearchError('Map failed to load. Please configure your Google Maps API key.');\n      });\n  }, []);\n\n  const placeMarker = (latLng) => {\n    const google = window.google;\n    if (!google || !mapInstanceRef.current) return;\n    if (markerRef.current) {\n      markerRef.current.setMap(null);\n      markerRef.current = null;\n    }\n    const marker = new google.maps.Marker({\n      position: latLng,\n      map: mapInstanceRef.current,\n      animation: google.maps.Animation.DROP,\n    });\n    markerRef.current = marker;\n    lastLocationRef.current = latLng;\n  };\n\n  const reverseGeocode = (latLng) => {\n    const geocoder = geocoderRef.current;\n    if (!geocoder) return;\n    geocoder.geocode({ location: latLng }, (results, status) => {\n      if (status === 'OK' && results && results.length) {\n        const address = results[0].formatted_address;\n        setClickedAddress(address);\n        setSearchAddress(address);\n        if (markerRef.current) {\n          const infowindow = new window.google.maps.InfoWindow({\n            content: `<div style=\"font-weight:600\">${address}</div>`,\n          });\n          infowindow.open({ anchor: markerRef.current, map: mapInstanceRef.current });\n        }\n      }\n    });\n  };\n\n  const nearbySearchOnce = (location, type) => {\n    return new Promise((resolve) => {\n      placesServiceRef.current.nearbySearch(\n        { location, radius: SEARCH_RADIUS_METERS, type },\n        (results, status) => {\n          if (status === window.google.maps.places.PlacesServiceStatus.OK && results) {\n            resolve(results.slice(0, 10));\n          } else {\n            resolve([]);\n          }\n        }\n      );\n    });\n  };\n\n  const fetchAmenities = async (latLng) => {\n    try {\n      setIsLoadingAmenities(true);\n      setAmenitiesError('');\n      const promises = selectedAmenityTypes.map((t) => nearbySearchOnce(latLng, t));\n      const results = await Promise.all(promises);\n      const flat = results.flat();\n      // Deduplicate by place_id\n      const uniqueMap = new Map();\n      for (const r of flat) {\n        if (!uniqueMap.has(r.place_id)) uniqueMap.set(r.place_id, r);\n      }\n      // Enrich with distance and primary type label\n      const google = window.google;\n      const enriched = Array.from(uniqueMap.values()).map((p) => {\n        const distance = google && google.maps.geometry\n          ? google.maps.geometry.spherical.computeDistanceBetween(latLng, p.geometry.location)\n          : null;\n        return {\n          id: p.place_id,\n          name: p.name,\n          vicinity: p.vicinity,\n          rating: p.rating,\n          userRatingsTotal: p.user_ratings_total,\n          types: p.types,\n          location: p.geometry && p.geometry.location,\n          distance,\n        };\n      });\n      // Sort by distance\n      enriched.sort((a, b) => (a.distance || Infinity) - (b.distance || Infinity));\n      setAmenities(enriched);\n    } catch (e) {\n      setAmenitiesError('Failed to load nearby amenities.');\n    } finally {\n      setIsLoadingAmenities(false);\n    }\n  };\n\n  const handleSearchAddress = async () => {\n    setSearchError('');\n    const google = window.google;\n    if (!google || !mapInstanceRef.current) {\n      setSearchError('Map not ready. Please wait a moment and try again.');\n      return;\n    }\n    if (!searchAddress.trim()) return;\n    setIsSearching(true);\n    try {\n      const geocoder = geocoderRef.current || new google.maps.Geocoder();\n      geocoderRef.current = geocoder;\n      geocoder.geocode({ address: `${searchAddress}, Singapore` }, (results, status) => {\n        if (status === 'OK' && results && results.length) {\n          const result = results[0];\n          const latLng = result.geometry.location;\n          mapInstanceRef.current.panTo(latLng);\n          mapInstanceRef.current.setZoom(18);\n          placeMarker(latLng);\n          const address = result.formatted_address;\n          setClickedAddress(address);\n          setSearchAddress(address);\n          fetchAmenities(latLng);\n        } else {\n          setSearchError('No results found for this address.');\n        }\n        setIsSearching(false);\n      });\n    } catch (err) {\n      setSearchError('Error searching address.');\n      setIsSearching(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      handleSearchAddress();\n    }\n  };\n\n  const toggleAmenity = (type) => {\n    setSelectedAmenityTypes((prev) => {\n      const next = prev.includes(type) ? prev.filter((t) => t !== type) : [...prev, type];\n      // Re-fetch if we have a last location\n      if (lastLocationRef.current) {\n        fetchAmenities(lastLocationRef.current);\n      }\n      return next;\n    });\n  };\n\n  return (\n    <section className=\"explore\" id=\"intro\">\n      <h2 className=\"section-title\">Explore Automated Valuations</h2>\n      <div className=\"explore-header\">\n        <p className=\"section-subtitle\">Estimate the value of your property now</p>\n      </div>\n      <div className=\"explore-types\">\n        <div className=\"type-pill\">\n          <img src=\"http://localhost:3845/assets/1f2c5cefac5c3b843f4e0ea23b4d6916bfbd2857.svg\" alt=\"Commercial\" />\n          <span>Commercial</span>\n        </div>\n        <div className=\"type-pill\">\n          <img src=\"http://localhost:3845/assets/a6a567e6434a0a9b58b53865a5cf0064ee43d31b.svg\" alt=\"Industrial\" />\n          <span>Industrial</span>\n        </div>\n      </div>\n      <div className=\"explore-grid\">\n        <div className=\"explore-form\">\n          <div className=\"form-row\">\n            <label>Address Search</label>\n            <div className=\"search-container\">\n              <input\n                ref={inputRef}\n                type=\"text\"\n                className=\"search-input\"\n                placeholder=\"Enter address (Autocomplete powered by Google Places)\"\n                value={searchAddress}\n                onChange={(e) => {\n                  setSearchAddress(e.target.value);\n                  if (e.target.value === '') {\n                    setSearchError('');\n                    setClickedAddress('');\n                    setAmenities([]);\n                    if (markerRef.current) {\n                      markerRef.current.setMap(null);\n                      markerRef.current = null;\n                    }\n                  }\n                }}\n                onKeyPress={handleKeyPress}\n                disabled={isSearching}\n              />\n              <button \n                className=\"search-btn\" \n                onClick={handleSearchAddress}\n                type=\"button\"\n                disabled={isSearching || !searchAddress.trim()}\n              >\n                {isSearching ? 'Searching...' : 'Search'}\n              </button>\n            </div>\n            {searchError && (\n              <div className=\"search-error\">{searchError}</div>\n            )}\n          </div>\n          {clickedAddress && (\n            <div className=\"form-row\">\n              <label>Selected Location</label>\n              <div className=\"selected-address\">{clickedAddress}</div>\n            </div>\n          )}\n          <div className=\"form-row two-cols\">\n            <div>\n              <label>Property Type</label>\n              <div className=\"input like-input\">Select Property Type</div>\n            </div>\n            <div>\n              <label>Floor Area</label>\n              <div className=\"input like-input\">Enter Floor Area</div>\n            </div>\n          </div>\n          <div className=\"form-row\">\n            <button className=\"btn btn-primary\">Predict Price</button>\n            <div className=\"hint\">Sign in to view full prediction and data insights.</div>\n          </div>\n        </div>\n        <div className=\"explore-image\">\n          <div id=\"mapdiv\" style={{ height: '400px' }}></div>\n          <div className=\"map-instructions\">\n            <p>üè¢ <strong>Commercial & Industrial Properties Only</strong></p>\n            <p>üí° Click on the map or use the search to select a location</p>\n            <p><small>Nearby amenities will appear below</small></p>\n          </div>\n\n          <div className=\"amenities-panel\">\n            <div className=\"amenities-header\">\n              <h3>Nearby Amenities</h3>\n              <div className=\"amenity-filters\">\n                {AMENITY_OPTIONS.map((opt) => (\n                  <button\n                    key={opt.type}\n                    type=\"button\"\n                    className={`amenity-chip ${selectedAmenityTypes.includes(opt.type) ? 'active' : ''}`}\n                    onClick={() => toggleAmenity(opt.type)}\n                  >\n                    {opt.label}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {isLoadingAmenities && (\n              <div className=\"amenities-loading\">Loading amenities‚Ä¶</div>\n            )}\n            {amenitiesError && (\n              <div className=\"amenities-error\">{amenitiesError}</div>\n            )}\n\n            {!isLoadingAmenities && !amenitiesError && amenities.length === 0 && (\n              <div className=\"amenities-empty\">No amenities to show yet. Select a location to view nearby places.</div>\n            )}\n\n            {!isLoadingAmenities && amenities.length > 0 && (\n              <ul className=\"amenities-list\">\n                {amenities.map((a) => (\n                  <li className=\"amenity-item\" key={a.id}>\n                    <div className=\"amenity-main\">\n                      <div className=\"amenity-name\">{a.name}</div>\n                      {a.vicinity && <div className=\"amenity-address\">{a.vicinity}</div>}\n                    </div>\n                    <div className=\"amenity-meta\">\n                      {typeof a.rating === 'number' && (\n                        <span className=\"amenity-rating\">‚òÖ {a.rating.toFixed(1)}</span>\n                      )}\n                      {typeof a.distance === 'number' && (\n                        <span className=\"amenity-distance\">{Math.round(a.distance)} m</span>\n                      )}\n                      <a\n                        className=\"amenity-link\"\n                        href={`https://www.google.com/maps/place/?q=place_id:${a.id}`}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                      >\n                        Open in Maps\n                      </a>\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default Explore;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}