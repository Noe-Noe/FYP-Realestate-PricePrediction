{"ast":null,"code":"// Google Search Images API Service for fetching address images\n// You'll need to set these in your .env file:\n// REACT_APP_GOOGLE_API_KEY=your_google_api_key\n// REACT_APP_GOOGLE_CSE_ID=your_custom_search_engine_id\n\nconst GOOGLE_API_KEY = process.env.REACT_APP_GOOGLE_API_KEY;\nconst GOOGLE_CSE_ID = process.env.REACT_APP_GOOGLE_CSE_ID;\nclass GoogleSearchImageService {\n  // Get Google Search Image for a specific address\n  static async getSearchImage(address, size = '400x250') {\n    if (!GOOGLE_API_KEY || !GOOGLE_CSE_ID) {\n      console.warn('Google API key or Custom Search Engine ID not found. Please set both REACT_APP_GOOGLE_API_KEY and REACT_APP_GOOGLE_CSE_ID in your .env file');\n      return null;\n    }\n    try {\n      const searchQuery = encodeURIComponent(`${address} property building`);\n      const url = `https://www.googleapis.com/customsearch/v1?key=${GOOGLE_API_KEY}&cx=${GOOGLE_CSE_ID}&q=${searchQuery}&searchType=image&imgSize=medium&num=1`;\n      const response = await fetch(url);\n      const data = await response.json();\n      if (data.items && data.items.length > 0) {\n        return data.items[0].link; // Return the first image URL\n      }\n      return null;\n    } catch (error) {\n      console.error('Error fetching Google Search image:', error);\n      return null;\n    }\n  }\n\n  // Get the best available image for an address\n  static async getBestAddressImage(address, size = '400x250') {\n    try {\n      // Try Google Search Images first\n      const searchImage = await this.getSearchImage(address, size);\n      if (searchImage) {\n        return searchImage;\n      }\n      return null;\n    } catch (error) {\n      console.error('Error getting best address image:', error);\n      return null;\n    }\n  }\n\n  // Get multiple images for comparison (address1 vs address2)\n  static async getComparisonImages(address1, address2) {\n    try {\n      const [image1, image2] = await Promise.all([this.getSearchImage(address1), this.getSearchImage(address2)]);\n      return {\n        image1,\n        image2\n      };\n    } catch (error) {\n      console.error('Error getting comparison images:', error);\n      return {\n        image1: null,\n        image2: null\n      };\n    }\n  }\n}\nexport default GoogleSearchImageService;","map":{"version":3,"names":["GOOGLE_API_KEY","process","env","REACT_APP_GOOGLE_API_KEY","GOOGLE_CSE_ID","REACT_APP_GOOGLE_CSE_ID","GoogleSearchImageService","getSearchImage","address","size","console","warn","searchQuery","encodeURIComponent","url","response","fetch","data","json","items","length","link","error","getBestAddressImage","searchImage","getComparisonImages","address1","address2","image1","image2","Promise","all"],"sources":["C:/Users/mandy/Downloads/fyp-app/fyp-app/frontend/src/services/googlePlaces.js"],"sourcesContent":["// Google Search Images API Service for fetching address images\r\n// You'll need to set these in your .env file:\r\n// REACT_APP_GOOGLE_API_KEY=your_google_api_key\r\n// REACT_APP_GOOGLE_CSE_ID=your_custom_search_engine_id\r\n\r\nconst GOOGLE_API_KEY = process.env.REACT_APP_GOOGLE_API_KEY;\r\nconst GOOGLE_CSE_ID = process.env.REACT_APP_GOOGLE_CSE_ID;\r\n\r\nclass GoogleSearchImageService {\r\n  // Get Google Search Image for a specific address\r\n  static async getSearchImage(address, size = '400x250') {\r\n    if (!GOOGLE_API_KEY || !GOOGLE_CSE_ID) {\r\n      console.warn('Google API key or Custom Search Engine ID not found. Please set both REACT_APP_GOOGLE_API_KEY and REACT_APP_GOOGLE_CSE_ID in your .env file');\r\n      return null;\r\n    }\r\n\r\n    try {\r\n      const searchQuery = encodeURIComponent(`${address} property building`);\r\n      const url = `https://www.googleapis.com/customsearch/v1?key=${GOOGLE_API_KEY}&cx=${GOOGLE_CSE_ID}&q=${searchQuery}&searchType=image&imgSize=medium&num=1`;\r\n      \r\n      const response = await fetch(url);\r\n      const data = await response.json();\r\n      \r\n      if (data.items && data.items.length > 0) {\r\n        return data.items[0].link; // Return the first image URL\r\n      }\r\n      \r\n      return null;\r\n    } catch (error) {\r\n      console.error('Error fetching Google Search image:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // Get the best available image for an address\r\n  static async getBestAddressImage(address, size = '400x250') {\r\n    try {\r\n      // Try Google Search Images first\r\n      const searchImage = await this.getSearchImage(address, size);\r\n      if (searchImage) {\r\n        return searchImage;\r\n      }\r\n      \r\n      return null;\r\n    } catch (error) {\r\n      console.error('Error getting best address image:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // Get multiple images for comparison (address1 vs address2)\r\n  static async getComparisonImages(address1, address2) {\r\n    try {\r\n      const [image1, image2] = await Promise.all([\r\n        this.getSearchImage(address1),\r\n        this.getSearchImage(address2)\r\n      ]);\r\n      \r\n      return { image1, image2 };\r\n    } catch (error) {\r\n      console.error('Error getting comparison images:', error);\r\n      return { image1: null, image2: null };\r\n    }\r\n  }\r\n}\r\n\r\nexport default GoogleSearchImageService;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,MAAMA,cAAc,GAAGC,OAAO,CAACC,GAAG,CAACC,wBAAwB;AAC3D,MAAMC,aAAa,GAAGH,OAAO,CAACC,GAAG,CAACG,uBAAuB;AAEzD,MAAMC,wBAAwB,CAAC;EAC7B;EACA,aAAaC,cAAcA,CAACC,OAAO,EAAEC,IAAI,GAAG,SAAS,EAAE;IACrD,IAAI,CAACT,cAAc,IAAI,CAACI,aAAa,EAAE;MACrCM,OAAO,CAACC,IAAI,CAAC,6IAA6I,CAAC;MAC3J,OAAO,IAAI;IACb;IAEA,IAAI;MACF,MAAMC,WAAW,GAAGC,kBAAkB,CAAC,GAAGL,OAAO,oBAAoB,CAAC;MACtE,MAAMM,GAAG,GAAG,kDAAkDd,cAAc,OAAOI,aAAa,MAAMQ,WAAW,wCAAwC;MAEzJ,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAG,CAAC;MACjC,MAAMG,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;MAElC,IAAID,IAAI,CAACE,KAAK,IAAIF,IAAI,CAACE,KAAK,CAACC,MAAM,GAAG,CAAC,EAAE;QACvC,OAAOH,IAAI,CAACE,KAAK,CAAC,CAAC,CAAC,CAACE,IAAI,CAAC,CAAC;MAC7B;MAEA,OAAO,IAAI;IACb,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdZ,OAAO,CAACY,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;MAC3D,OAAO,IAAI;IACb;EACF;;EAEA;EACA,aAAaC,mBAAmBA,CAACf,OAAO,EAAEC,IAAI,GAAG,SAAS,EAAE;IAC1D,IAAI;MACF;MACA,MAAMe,WAAW,GAAG,MAAM,IAAI,CAACjB,cAAc,CAACC,OAAO,EAAEC,IAAI,CAAC;MAC5D,IAAIe,WAAW,EAAE;QACf,OAAOA,WAAW;MACpB;MAEA,OAAO,IAAI;IACb,CAAC,CAAC,OAAOF,KAAK,EAAE;MACdZ,OAAO,CAACY,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;MACzD,OAAO,IAAI;IACb;EACF;;EAEA;EACA,aAAaG,mBAAmBA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;IACnD,IAAI;MACF,MAAM,CAACC,MAAM,EAAEC,MAAM,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACzC,IAAI,CAACxB,cAAc,CAACmB,QAAQ,CAAC,EAC7B,IAAI,CAACnB,cAAc,CAACoB,QAAQ,CAAC,CAC9B,CAAC;MAEF,OAAO;QAAEC,MAAM;QAAEC;MAAO,CAAC;IAC3B,CAAC,CAAC,OAAOP,KAAK,EAAE;MACdZ,OAAO,CAACY,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MACxD,OAAO;QAAEM,MAAM,EAAE,IAAI;QAAEC,MAAM,EAAE;MAAK,CAAC;IACvC;EACF;AACF;AAEA,eAAevB,wBAAwB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}