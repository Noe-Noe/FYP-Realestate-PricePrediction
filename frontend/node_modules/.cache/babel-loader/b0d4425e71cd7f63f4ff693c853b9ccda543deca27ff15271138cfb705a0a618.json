{"ast":null,"code":"const API_BASE_URL = 'http://localhost:5000/api';\n\n// Helper function for API calls\nconst apiCall = async (endpoint, options = {}) => {\n  const url = `${API_BASE_URL}${endpoint}`;\n\n  // Get JWT token from localStorage\n  const token = localStorage.getItem('accessToken');\n  const defaultOptions = {\n    headers: {\n      'Content-Type': 'application/json',\n      // Add Authorization header if token exists\n      ...(token && {\n        'Authorization': `Bearer ${token}`\n      })\n    },\n    ...options\n  };\n  try {\n    const response = await fetch(url, defaultOptions);\n    const data = await response.json();\n    if (!response.ok) {\n      throw new Error(data.error || `HTTP error! status: ${response.status}`);\n    }\n    return data;\n  } catch (error) {\n    console.error('API call failed:', error);\n    throw error;\n  }\n};\n\n// Auth API calls\nexport const authAPI = {\n  // User registration\n  register: async userData => {\n    return apiCall('/auth/register', {\n      method: 'POST',\n      body: JSON.stringify(userData)\n    });\n  },\n  // User login\n  login: async credentials => {\n    return apiCall('/auth/login', {\n      method: 'POST',\n      body: JSON.stringify(credentials)\n    });\n  },\n  // Send OTP for email verification\n  sendOTP: async email => {\n    return apiCall('/auth/send-otp', {\n      method: 'POST',\n      body: JSON.stringify({\n        email\n      })\n    });\n  },\n  // Verify OTP\n  verifyOTP: async (email, otp) => {\n    return apiCall('/auth/verify-otp', {\n      method: 'POST',\n      body: JSON.stringify({\n        email,\n        otp\n      })\n    });\n  },\n  // Forgot password - send recovery OTP\n  forgotPassword: async email => {\n    return apiCall('/auth/forgot-password', {\n      method: 'POST',\n      body: JSON.stringify({\n        email\n      })\n    });\n  },\n  // Reset password with OTP\n  resetPassword: async (email, otp, newPassword) => {\n    return apiCall('/auth/reset-password', {\n      method: 'POST',\n      body: JSON.stringify({\n        email,\n        otp,\n        new_password: newPassword\n      })\n    });\n  },\n  // Get user profile\n  getProfile: async () => {\n    return apiCall('/auth/profile');\n  },\n  // Update user profile\n  updateProfile: async profileData => {\n    return apiCall('/auth/profile', {\n      method: 'PUT',\n      body: JSON.stringify(profileData)\n    });\n  },\n  // Change password\n  changePassword: async (currentPassword, newPassword) => {\n    return apiCall('/auth/change-password', {\n      method: 'POST',\n      body: JSON.stringify({\n        current_password: currentPassword,\n        new_password: newPassword\n      })\n    });\n  },\n  // Delete account\n  deleteAccount: async () => {\n    return apiCall('/auth/deactivate', {\n      method: 'POST'\n    });\n  },\n  // Upgrade to Premium\n  upgradeToPremium: async () => {\n    return apiCall('/auth/upgrade-to-premium', {\n      method: 'POST'\n    });\n  },\n  // Downgrade to Free\n  downgradeToFree: async () => {\n    return apiCall('/auth/downgrade-to-free', {\n      method: 'POST'\n    });\n  },\n  // Get user properties and recommendations\n  getUserProperties: async () => {\n    return apiCall('/user/properties');\n  },\n  // Get published reviews for feedback page\n  getPublishedReviews: async () => {\n    return apiCall('/feedback/reviews');\n  }\n};\n\n// Properties API calls\nexport const propertiesAPI = {\n  // Get all properties\n  getAll: async () => {\n    return apiCall('/properties');\n  },\n  // Get property by ID\n  getById: async id => {\n    return apiCall(`/properties/${id}`);\n  },\n  // Search properties (you can add filters later)\n  search: async (filters = {}) => {\n    const queryParams = new URLSearchParams(filters).toString();\n    return apiCall(`/properties/search?${queryParams}`);\n  }\n};\n\n// FAQ API calls\nexport const faqAPI = {\n  // Get all FAQ entries\n  getAll: async () => {\n    return apiCall('/faq');\n  }\n};\n\n// Content API calls\nexport const contentAPI = {\n  // Get content sections\n  getSections: async () => {\n    return apiCall('/content/sections');\n  }\n};\n\n// Price Prediction API calls\nexport const predictionAPI = {\n  // Create price prediction\n  create: async predictionData => {\n    return apiCall('/predictions', {\n      method: 'POST',\n      body: JSON.stringify(predictionData)\n    });\n  },\n  // Get user predictions\n  getUserPredictions: async userId => {\n    return apiCall(`/predictions/user/${userId}`);\n  }\n};\n\n// Export the main API object\nexport default {\n  auth: authAPI,\n  properties: propertiesAPI,\n  faq: faqAPI,\n  content: contentAPI,\n  prediction: predictionAPI\n};","map":{"version":3,"names":["API_BASE_URL","apiCall","endpoint","options","url","token","localStorage","getItem","defaultOptions","headers","response","fetch","data","json","ok","Error","error","status","console","authAPI","register","userData","method","body","JSON","stringify","login","credentials","sendOTP","email","verifyOTP","otp","forgotPassword","resetPassword","newPassword","new_password","getProfile","updateProfile","profileData","changePassword","currentPassword","current_password","deleteAccount","upgradeToPremium","downgradeToFree","getUserProperties","getPublishedReviews","propertiesAPI","getAll","getById","id","search","filters","queryParams","URLSearchParams","toString","faqAPI","contentAPI","getSections","predictionAPI","create","predictionData","getUserPredictions","userId","auth","properties","faq","content","prediction"],"sources":["C:/Users/mandy/Downloads/fyp-app/fyp-app/frontend/src/services/api.js"],"sourcesContent":["const API_BASE_URL = 'http://localhost:5000/api';\n\n// Helper function for API calls\nconst apiCall = async (endpoint, options = {}) => {\n  const url = `${API_BASE_URL}${endpoint}`;\n  \n  // Get JWT token from localStorage\n  const token = localStorage.getItem('accessToken');\n  \n  const defaultOptions = {\n    headers: {\n      'Content-Type': 'application/json',\n      // Add Authorization header if token exists\n      ...(token && { 'Authorization': `Bearer ${token}` }),\n    },\n    ...options,\n  };\n\n  try {\n    const response = await fetch(url, defaultOptions);\n    const data = await response.json();\n    \n    if (!response.ok) {\n      throw new Error(data.error || `HTTP error! status: ${response.status}`);\n    }\n    \n    return data;\n  } catch (error) {\n    console.error('API call failed:', error);\n    throw error;\n  }\n};\n\n// Auth API calls\nexport const authAPI = {\n  // User registration\n  register: async (userData) => {\n    return apiCall('/auth/register', {\n      method: 'POST',\n      body: JSON.stringify(userData),\n    });\n  },\n\n  // User login\n  login: async (credentials) => {\n    return apiCall('/auth/login', {\n      method: 'POST',\n      body: JSON.stringify(credentials),\n    });\n  },\n\n  // Send OTP for email verification\n  sendOTP: async (email) => {\n    return apiCall('/auth/send-otp', {\n      method: 'POST',\n      body: JSON.stringify({ email }),\n    });\n  },\n\n  // Verify OTP\n  verifyOTP: async (email, otp) => {\n    return apiCall('/auth/verify-otp', {\n      method: 'POST',\n      body: JSON.stringify({ email, otp }),\n    });\n  },\n\n  // Forgot password - send recovery OTP\n  forgotPassword: async (email) => {\n    return apiCall('/auth/forgot-password', {\n      method: 'POST',\n      body: JSON.stringify({ email }),\n    });\n  },\n\n  // Reset password with OTP\n  resetPassword: async (email, otp, newPassword) => {\n    return apiCall('/auth/reset-password', {\n      method: 'POST',\n      body: JSON.stringify({ email, otp, new_password: newPassword }),\n    });\n  },\n\n  // Get user profile\n  getProfile: async () => {\n    return apiCall('/auth/profile');\n  },\n\n  // Update user profile\n  updateProfile: async (profileData) => {\n    return apiCall('/auth/profile', {\n      method: 'PUT',\n      body: JSON.stringify(profileData),\n    });\n  },\n\n  // Change password\n  changePassword: async (currentPassword, newPassword) => {\n    return apiCall('/auth/change-password', {\n      method: 'POST',\n      body: JSON.stringify({ current_password: currentPassword, new_password: newPassword }),\n    });\n  },\n\n  // Delete account\n  deleteAccount: async () => {\n    return apiCall('/auth/deactivate', {\n      method: 'POST',\n    });\n  },\n\n  // Upgrade to Premium\n  upgradeToPremium: async () => {\n    return apiCall('/auth/upgrade-to-premium', {\n      method: 'POST',\n    });\n  },\n\n  // Downgrade to Free\n  downgradeToFree: async () => {\n    return apiCall('/auth/downgrade-to-free', {\n      method: 'POST',\n    });\n  },\n\n  // Get user properties and recommendations\n  getUserProperties: async () => {\n    return apiCall('/user/properties');\n  },\n\n  // Get published reviews for feedback page\n  getPublishedReviews: async () => {\n    return apiCall('/feedback/reviews');\n  },\n};\n\n// Properties API calls\nexport const propertiesAPI = {\n  // Get all properties\n  getAll: async () => {\n    return apiCall('/properties');\n  },\n\n  // Get property by ID\n  getById: async (id) => {\n    return apiCall(`/properties/${id}`);\n  },\n\n  // Search properties (you can add filters later)\n  search: async (filters = {}) => {\n    const queryParams = new URLSearchParams(filters).toString();\n    return apiCall(`/properties/search?${queryParams}`);\n  },\n};\n\n// FAQ API calls\nexport const faqAPI = {\n  // Get all FAQ entries\n  getAll: async () => {\n    return apiCall('/faq');\n  },\n};\n\n// Content API calls\nexport const contentAPI = {\n  // Get content sections\n  getSections: async () => {\n    return apiCall('/content/sections');\n  },\n};\n\n// Price Prediction API calls\nexport const predictionAPI = {\n  // Create price prediction\n  create: async (predictionData) => {\n    return apiCall('/predictions', {\n      method: 'POST',\n      body: JSON.stringify(predictionData),\n    });\n  },\n\n  // Get user predictions\n  getUserPredictions: async (userId) => {\n    return apiCall(`/predictions/user/${userId}`);\n  },\n};\n\n// Export the main API object\nexport default {\n  auth: authAPI,\n  properties: propertiesAPI,\n  faq: faqAPI,\n  content: contentAPI,\n  prediction: predictionAPI,\n};\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG,2BAA2B;;AAEhD;AACA,MAAMC,OAAO,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;EAChD,MAAMC,GAAG,GAAG,GAAGJ,YAAY,GAAGE,QAAQ,EAAE;;EAExC;EACA,MAAMG,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;EAEjD,MAAMC,cAAc,GAAG;IACrBC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClC;MACA,IAAIJ,KAAK,IAAI;QAAE,eAAe,EAAE,UAAUA,KAAK;MAAG,CAAC;IACrD,CAAC;IACD,GAAGF;EACL,CAAC;EAED,IAAI;IACF,MAAMO,QAAQ,GAAG,MAAMC,KAAK,CAACP,GAAG,EAAEI,cAAc,CAAC;IACjD,MAAMI,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;IAElC,IAAI,CAACH,QAAQ,CAACI,EAAE,EAAE;MAChB,MAAM,IAAIC,KAAK,CAACH,IAAI,CAACI,KAAK,IAAI,uBAAuBN,QAAQ,CAACO,MAAM,EAAE,CAAC;IACzE;IAEA,OAAOL,IAAI;EACb,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdE,OAAO,CAACF,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;IACxC,MAAMA,KAAK;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAMG,OAAO,GAAG;EACrB;EACAC,QAAQ,EAAE,MAAOC,QAAQ,IAAK;IAC5B,OAAOpB,OAAO,CAAC,gBAAgB,EAAE;MAC/BqB,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ;IAC/B,CAAC,CAAC;EACJ,CAAC;EAED;EACAK,KAAK,EAAE,MAAOC,WAAW,IAAK;IAC5B,OAAO1B,OAAO,CAAC,aAAa,EAAE;MAC5BqB,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACE,WAAW;IAClC,CAAC,CAAC;EACJ,CAAC;EAED;EACAC,OAAO,EAAE,MAAOC,KAAK,IAAK;IACxB,OAAO5B,OAAO,CAAC,gBAAgB,EAAE;MAC/BqB,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEI;MAAM,CAAC;IAChC,CAAC,CAAC;EACJ,CAAC;EAED;EACAC,SAAS,EAAE,MAAAA,CAAOD,KAAK,EAAEE,GAAG,KAAK;IAC/B,OAAO9B,OAAO,CAAC,kBAAkB,EAAE;MACjCqB,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEI,KAAK;QAAEE;MAAI,CAAC;IACrC,CAAC,CAAC;EACJ,CAAC;EAED;EACAC,cAAc,EAAE,MAAOH,KAAK,IAAK;IAC/B,OAAO5B,OAAO,CAAC,uBAAuB,EAAE;MACtCqB,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEI;MAAM,CAAC;IAChC,CAAC,CAAC;EACJ,CAAC;EAED;EACAI,aAAa,EAAE,MAAAA,CAAOJ,KAAK,EAAEE,GAAG,EAAEG,WAAW,KAAK;IAChD,OAAOjC,OAAO,CAAC,sBAAsB,EAAE;MACrCqB,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEI,KAAK;QAAEE,GAAG;QAAEI,YAAY,EAAED;MAAY,CAAC;IAChE,CAAC,CAAC;EACJ,CAAC;EAED;EACAE,UAAU,EAAE,MAAAA,CAAA,KAAY;IACtB,OAAOnC,OAAO,CAAC,eAAe,CAAC;EACjC,CAAC;EAED;EACAoC,aAAa,EAAE,MAAOC,WAAW,IAAK;IACpC,OAAOrC,OAAO,CAAC,eAAe,EAAE;MAC9BqB,MAAM,EAAE,KAAK;MACbC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACa,WAAW;IAClC,CAAC,CAAC;EACJ,CAAC;EAED;EACAC,cAAc,EAAE,MAAAA,CAAOC,eAAe,EAAEN,WAAW,KAAK;IACtD,OAAOjC,OAAO,CAAC,uBAAuB,EAAE;MACtCqB,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEgB,gBAAgB,EAAED,eAAe;QAAEL,YAAY,EAAED;MAAY,CAAC;IACvF,CAAC,CAAC;EACJ,CAAC;EAED;EACAQ,aAAa,EAAE,MAAAA,CAAA,KAAY;IACzB,OAAOzC,OAAO,CAAC,kBAAkB,EAAE;MACjCqB,MAAM,EAAE;IACV,CAAC,CAAC;EACJ,CAAC;EAED;EACAqB,gBAAgB,EAAE,MAAAA,CAAA,KAAY;IAC5B,OAAO1C,OAAO,CAAC,0BAA0B,EAAE;MACzCqB,MAAM,EAAE;IACV,CAAC,CAAC;EACJ,CAAC;EAED;EACAsB,eAAe,EAAE,MAAAA,CAAA,KAAY;IAC3B,OAAO3C,OAAO,CAAC,yBAAyB,EAAE;MACxCqB,MAAM,EAAE;IACV,CAAC,CAAC;EACJ,CAAC;EAED;EACAuB,iBAAiB,EAAE,MAAAA,CAAA,KAAY;IAC7B,OAAO5C,OAAO,CAAC,kBAAkB,CAAC;EACpC,CAAC;EAED;EACA6C,mBAAmB,EAAE,MAAAA,CAAA,KAAY;IAC/B,OAAO7C,OAAO,CAAC,mBAAmB,CAAC;EACrC;AACF,CAAC;;AAED;AACA,OAAO,MAAM8C,aAAa,GAAG;EAC3B;EACAC,MAAM,EAAE,MAAAA,CAAA,KAAY;IAClB,OAAO/C,OAAO,CAAC,aAAa,CAAC;EAC/B,CAAC;EAED;EACAgD,OAAO,EAAE,MAAOC,EAAE,IAAK;IACrB,OAAOjD,OAAO,CAAC,eAAeiD,EAAE,EAAE,CAAC;EACrC,CAAC;EAED;EACAC,MAAM,EAAE,MAAAA,CAAOC,OAAO,GAAG,CAAC,CAAC,KAAK;IAC9B,MAAMC,WAAW,GAAG,IAAIC,eAAe,CAACF,OAAO,CAAC,CAACG,QAAQ,CAAC,CAAC;IAC3D,OAAOtD,OAAO,CAAC,sBAAsBoD,WAAW,EAAE,CAAC;EACrD;AACF,CAAC;;AAED;AACA,OAAO,MAAMG,MAAM,GAAG;EACpB;EACAR,MAAM,EAAE,MAAAA,CAAA,KAAY;IAClB,OAAO/C,OAAO,CAAC,MAAM,CAAC;EACxB;AACF,CAAC;;AAED;AACA,OAAO,MAAMwD,UAAU,GAAG;EACxB;EACAC,WAAW,EAAE,MAAAA,CAAA,KAAY;IACvB,OAAOzD,OAAO,CAAC,mBAAmB,CAAC;EACrC;AACF,CAAC;;AAED;AACA,OAAO,MAAM0D,aAAa,GAAG;EAC3B;EACAC,MAAM,EAAE,MAAOC,cAAc,IAAK;IAChC,OAAO5D,OAAO,CAAC,cAAc,EAAE;MAC7BqB,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACoC,cAAc;IACrC,CAAC,CAAC;EACJ,CAAC;EAED;EACAC,kBAAkB,EAAE,MAAOC,MAAM,IAAK;IACpC,OAAO9D,OAAO,CAAC,qBAAqB8D,MAAM,EAAE,CAAC;EAC/C;AACF,CAAC;;AAED;AACA,eAAe;EACbC,IAAI,EAAE7C,OAAO;EACb8C,UAAU,EAAElB,aAAa;EACzBmB,GAAG,EAAEV,MAAM;EACXW,OAAO,EAAEV,UAAU;EACnBW,UAAU,EAAET;AACd,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}