{"ast":null,"code":"var _jsxFileName = \"/Users/mandyng/fyp-app/src/components/landing-page/Explore.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport './Explore.css';\n\n// Check if Leaflet is available\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet L;\ntry {\n  L = require('leaflet');\n  require('leaflet/dist/leaflet.css');\n} catch (error) {\n  console.error('Error loading Leaflet:', error);\n}\nconst Explore = () => {\n  _s();\n  const [searchAddress, setSearchAddress] = useState('');\n  const [currentMarker, setCurrentMarker] = useState(null);\n  const [clickedAddress, setClickedAddress] = useState('');\n  const [isSearching, setIsSearching] = useState(false);\n  const [searchError, setSearchError] = useState('');\n  const mapRef = useRef(null);\n  const markerRef = useRef(null);\n  useEffect(() => {\n    if (!L) {\n      console.error('Leaflet not available');\n      return;\n    }\n    const mapDiv = document.getElementById('mapdiv');\n    if (!mapDiv) {\n      console.error('Map div not found');\n      return;\n    }\n    setTimeout(() => {\n      try {\n        const southWest = L.latLng(1.144, 103.535);\n        const northEast = L.latLng(1.494, 104.502);\n        const maxBounds = L.latLngBounds(southWest, northEast);\n        const map = L.map('mapdiv', {\n          center: L.latLng(1.2868108, 103.8545349),\n          zoom: 16\n        });\n        mapRef.current = map;\n        map.setMaxBounds(maxBounds);\n        const basemap = L.tileLayer('https://www.onemap.gov.sg/maps/tiles/Default/{z}/{x}/{y}.png', {\n          detectRetina: true,\n          maxZoom: 19,\n          minZoom: 11,\n          attribution: '<img src=\"https://www.onemap.gov.sg/web-assets/images/logo/om_logo.png\" style=\"height:20px;width:20px;\"/>&nbsp;<a href=\"https://www.onemap.gov.sg/\" target=\"_blank\" rel=\"noopener noreferrer\">OneMap</a>&nbsp;&copy;&nbsp;contributors&nbsp;&#124;&nbsp;<a href=\"https://www.sla.gov.sg/\" target=\"_blank\" rel=\"noopener noreferrer\">Singapore Land Authority</a>'\n        });\n        basemap.addTo(map);\n\n        // Click handler\n        map.on('click', async e => {\n          const {\n            lat,\n            lng\n          } = e.latlng;\n\n          // Remove previous marker\n          if (markerRef.current) {\n            map.removeLayer(markerRef.current);\n          }\n          const marker = L.marker([lat, lng]).addTo(map);\n          markerRef.current = marker;\n          let address;\n\n          // OneMap reverse geocoding\n          try {\n            const response = await fetch(`https://developers.onemap.sg/commonapi/revgeocode?location=${lat},${lng}&buffer=200&addressType=S&otherFeatures=true`);\n            if (response.ok) {\n              const data = await response.json();\n              if (data.results && data.results.length > 0) {\n                const commercialResults = data.results.filter(result => {\n                  const addressStr = result.ADDRESS || '';\n                  const type = result.TYPE || '';\n                  return addressStr.toLowerCase().includes('office') || addressStr.toLowerCase().includes('commercial') || addressStr.toLowerCase().includes('industrial') || addressStr.toLowerCase().includes('warehouse') || addressStr.toLowerCase().includes('factory') || addressStr.toLowerCase().includes('shop') || addressStr.toLowerCase().includes('mall') || addressStr.toLowerCase().includes('building') || type.toLowerCase().includes('commercial') || type.toLowerCase().includes('industrial');\n                });\n                address = commercialResults.length > 0 ? commercialResults[0].ADDRESS : data.results[0].ADDRESS;\n              }\n            }\n          } catch (err) {\n            console.log('OneMap reverse geocoding failed, trying OpenStreetMap...');\n          }\n\n          // Fallback OpenStreetMap\n          if (!address) {\n            try {\n              const response = await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${lat}&lon=${lng}&format=json&addressdetails=1`);\n              const data = await response.json();\n              address = data.display_name;\n            } catch (err) {\n              console.log('OpenStreetMap reverse geocoding failed');\n            }\n          }\n          if (address) {\n            setClickedAddress(address);\n            setSearchAddress(address);\n            marker.bindPopup(`<b>Address:</b><br>${address}`).openPopup();\n          } else {\n            const fallback = `Lat: ${lat.toFixed(6)}, Lng: ${lng.toFixed(6)}`;\n            setClickedAddress(fallback);\n            setSearchAddress(fallback);\n            marker.bindPopup(`<b>Coordinates:</b><br>${fallback}`).openPopup();\n          }\n        });\n        return () => {\n          map.remove();\n        };\n      } catch (err) {\n        console.error('Error initializing map:', err);\n      }\n    }, 100);\n  }, []);\n  const handleSearchAddress = async () => {\n    if (!searchAddress.trim() || !mapRef.current) {\n      setSearchError('Map not ready or address empty.');\n      return;\n    }\n    setIsSearching(true);\n    setSearchError('');\n    setClickedAddress('');\n    if (markerRef.current) {\n      mapRef.current.removeLayer(markerRef.current);\n      markerRef.current = null;\n    }\n    try {\n      let data;\n      // OneMap search\n      try {\n        const response = await fetch(`https://developers.onemap.sg/commonapi/search?searchVal=${encodeURIComponent(searchAddress)}&returnGeom=Y&getAddrDetails=Y&pageNum=1`);\n        data = await response.json();\n        if (data.results && data.results.length > 0) {\n          const {\n            LATITUDE,\n            LONGITUDE,\n            ADDRESS\n          } = data.results[0];\n          const lat = parseFloat(LATITUDE);\n          const lng = parseFloat(LONGITUDE);\n          const marker = L.marker([lat, lng]).addTo(mapRef.current);\n          markerRef.current = marker;\n          marker.bindPopup(`<b>Address:</b><br>${ADDRESS}`).openPopup();\n          mapRef.current.setView([lat, lng], 16);\n          setClickedAddress(ADDRESS);\n        } else {\n          throw new Error('No results from OneMap');\n        }\n      } catch (err) {\n        // Fallback to OpenStreetMap\n        const response = await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(searchAddress + ', Singapore')}&format=json&limit=1`);\n        data = await response.json();\n        if (data && data.length > 0) {\n          const lat = parseFloat(data[0].lat);\n          const lng = parseFloat(data[0].lon);\n          const display_name = data[0].display_name;\n          const marker = L.marker([lat, lng]).addTo(mapRef.current);\n          markerRef.current = marker;\n          marker.bindPopup(`<b>Address:</b><br>${display_name}`).openPopup();\n          mapRef.current.setView([lat, lng], 16);\n          setClickedAddress(display_name);\n        } else {\n          setSearchError('Address not found.');\n        }\n      }\n    } catch (err) {\n      console.error(err);\n      setSearchError('Error searching address.');\n    } finally {\n      setIsSearching(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"explore-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: searchAddress,\n        placeholder: \"Search address...\",\n        onChange: e => setSearchAddress(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSearchAddress,\n        disabled: isSearching,\n        children: isSearching ? 'Searching...' : 'Search'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), searchError && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: searchError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 25\n      }, this), clickedAddress && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Clicked/Selected Address: \", clickedAddress]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 28\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"mapdiv\",\n      className: \"map-container\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 210,\n    columnNumber: 5\n  }, this);\n};\n_s(Explore, \"f/msnI3BtQrmIsjoWh1Jl+L+XGM=\");\n_c = Explore;\nexport default Explore;\nvar _c;\n$RefreshReg$(_c, \"Explore\");","map":{"version":3,"names":["React","useEffect","useState","useRef","jsxDEV","_jsxDEV","L","require","error","console","Explore","_s","searchAddress","setSearchAddress","currentMarker","setCurrentMarker","clickedAddress","setClickedAddress","isSearching","setIsSearching","searchError","setSearchError","mapRef","markerRef","mapDiv","document","getElementById","setTimeout","southWest","latLng","northEast","maxBounds","latLngBounds","map","center","zoom","current","setMaxBounds","basemap","tileLayer","detectRetina","maxZoom","minZoom","attribution","addTo","on","e","lat","lng","latlng","removeLayer","marker","address","response","fetch","ok","data","json","results","length","commercialResults","filter","result","addressStr","ADDRESS","type","TYPE","toLowerCase","includes","err","log","display_name","bindPopup","openPopup","fallback","toFixed","remove","handleSearchAddress","trim","encodeURIComponent","LATITUDE","LONGITUDE","parseFloat","setView","Error","lon","className","children","value","placeholder","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","id","_c","$RefreshReg$"],"sources":["/Users/mandyng/fyp-app/src/components/landing-page/Explore.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport './Explore.css';\n\n// Check if Leaflet is available\nlet L;\ntry {\n  L = require('leaflet');\n  require('leaflet/dist/leaflet.css');\n} catch (error) {\n  console.error('Error loading Leaflet:', error);\n}\n\nconst Explore = () => {\n  const [searchAddress, setSearchAddress] = useState('');\n  const [currentMarker, setCurrentMarker] = useState(null);\n  const [clickedAddress, setClickedAddress] = useState('');\n  const [isSearching, setIsSearching] = useState(false);\n  const [searchError, setSearchError] = useState('');\n  const mapRef = useRef(null);\n  const markerRef = useRef(null);\n\n  useEffect(() => {\n    if (!L) {\n      console.error('Leaflet not available');\n      return;\n    }\n\n    const mapDiv = document.getElementById('mapdiv');\n    if (!mapDiv) {\n      console.error('Map div not found');\n      return;\n    }\n\n    setTimeout(() => {\n      try {\n        const southWest = L.latLng(1.144, 103.535);\n        const northEast = L.latLng(1.494, 104.502);\n        const maxBounds = L.latLngBounds(southWest, northEast);\n\n        const map = L.map('mapdiv', {\n          center: L.latLng(1.2868108, 103.8545349),\n          zoom: 16,\n        });\n\n        mapRef.current = map;\n        map.setMaxBounds(maxBounds);\n\n        const basemap = L.tileLayer(\n          'https://www.onemap.gov.sg/maps/tiles/Default/{z}/{x}/{y}.png',\n          {\n            detectRetina: true,\n            maxZoom: 19,\n            minZoom: 11,\n            attribution:\n              '<img src=\"https://www.onemap.gov.sg/web-assets/images/logo/om_logo.png\" style=\"height:20px;width:20px;\"/>&nbsp;<a href=\"https://www.onemap.gov.sg/\" target=\"_blank\" rel=\"noopener noreferrer\">OneMap</a>&nbsp;&copy;&nbsp;contributors&nbsp;&#124;&nbsp;<a href=\"https://www.sla.gov.sg/\" target=\"_blank\" rel=\"noopener noreferrer\">Singapore Land Authority</a>',\n          }\n        );\n\n        basemap.addTo(map);\n\n        // Click handler\n        map.on('click', async (e) => {\n          const { lat, lng } = e.latlng;\n\n          // Remove previous marker\n          if (markerRef.current) {\n            map.removeLayer(markerRef.current);\n          }\n\n          const marker = L.marker([lat, lng]).addTo(map);\n          markerRef.current = marker;\n\n          let address;\n\n          // OneMap reverse geocoding\n          try {\n            const response = await fetch(\n              `https://developers.onemap.sg/commonapi/revgeocode?location=${lat},${lng}&buffer=200&addressType=S&otherFeatures=true`\n            );\n            if (response.ok) {\n              const data = await response.json();\n              if (data.results && data.results.length > 0) {\n                const commercialResults = data.results.filter((result) => {\n                  const addressStr = result.ADDRESS || '';\n                  const type = result.TYPE || '';\n                  return (\n                    addressStr.toLowerCase().includes('office') ||\n                    addressStr.toLowerCase().includes('commercial') ||\n                    addressStr.toLowerCase().includes('industrial') ||\n                    addressStr.toLowerCase().includes('warehouse') ||\n                    addressStr.toLowerCase().includes('factory') ||\n                    addressStr.toLowerCase().includes('shop') ||\n                    addressStr.toLowerCase().includes('mall') ||\n                    addressStr.toLowerCase().includes('building') ||\n                    type.toLowerCase().includes('commercial') ||\n                    type.toLowerCase().includes('industrial')\n                  );\n                });\n                address =\n                  commercialResults.length > 0\n                    ? commercialResults[0].ADDRESS\n                    : data.results[0].ADDRESS;\n              }\n            }\n          } catch (err) {\n            console.log('OneMap reverse geocoding failed, trying OpenStreetMap...');\n          }\n\n          // Fallback OpenStreetMap\n          if (!address) {\n            try {\n              const response = await fetch(\n                `https://nominatim.openstreetmap.org/reverse?lat=${lat}&lon=${lng}&format=json&addressdetails=1`\n              );\n              const data = await response.json();\n              address = data.display_name;\n            } catch (err) {\n              console.log('OpenStreetMap reverse geocoding failed');\n            }\n          }\n\n          if (address) {\n            setClickedAddress(address);\n            setSearchAddress(address);\n            marker.bindPopup(`<b>Address:</b><br>${address}`).openPopup();\n          } else {\n            const fallback = `Lat: ${lat.toFixed(6)}, Lng: ${lng.toFixed(6)}`;\n            setClickedAddress(fallback);\n            setSearchAddress(fallback);\n            marker.bindPopup(`<b>Coordinates:</b><br>${fallback}`).openPopup();\n          }\n        });\n\n        return () => {\n          map.remove();\n        };\n      } catch (err) {\n        console.error('Error initializing map:', err);\n      }\n    }, 100);\n  }, []);\n\n  const handleSearchAddress = async () => {\n    if (!searchAddress.trim() || !mapRef.current) {\n      setSearchError('Map not ready or address empty.');\n      return;\n    }\n\n    setIsSearching(true);\n    setSearchError('');\n    setClickedAddress('');\n\n    if (markerRef.current) {\n      mapRef.current.removeLayer(markerRef.current);\n      markerRef.current = null;\n    }\n\n    try {\n      let data;\n      // OneMap search\n      try {\n        const response = await fetch(\n          `https://developers.onemap.sg/commonapi/search?searchVal=${encodeURIComponent(\n            searchAddress\n          )}&returnGeom=Y&getAddrDetails=Y&pageNum=1`\n        );\n        data = await response.json();\n        if (data.results && data.results.length > 0) {\n          const { LATITUDE, LONGITUDE, ADDRESS } = data.results[0];\n          const lat = parseFloat(LATITUDE);\n          const lng = parseFloat(LONGITUDE);\n          const marker = L.marker([lat, lng]).addTo(mapRef.current);\n          markerRef.current = marker;\n          marker.bindPopup(`<b>Address:</b><br>${ADDRESS}`).openPopup();\n          mapRef.current.setView([lat, lng], 16);\n          setClickedAddress(ADDRESS);\n        } else {\n          throw new Error('No results from OneMap');\n        }\n      } catch (err) {\n        // Fallback to OpenStreetMap\n        const response = await fetch(\n          `https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(\n            searchAddress + ', Singapore'\n          )}&format=json&limit=1`\n        );\n        data = await response.json();\n        if (data && data.length > 0) {\n          const lat = parseFloat(data[0].lat);\n          const lng = parseFloat(data[0].lon);\n          const display_name = data[0].display_name;\n          const marker = L.marker([lat, lng]).addTo(mapRef.current);\n          markerRef.current = marker;\n          marker.bindPopup(`<b>Address:</b><br>${display_name}`).openPopup();\n          mapRef.current.setView([lat, lng], 16);\n          setClickedAddress(display_name);\n        } else {\n          setSearchError('Address not found.');\n        }\n      }\n    } catch (err) {\n      console.error(err);\n      setSearchError('Error searching address.');\n    } finally {\n      setIsSearching(false);\n    }\n  };\n\n  return (\n    <div className=\"explore-container\">\n      <div className=\"search-section\">\n        <input\n          type=\"text\"\n          value={searchAddress}\n          placeholder=\"Search address...\"\n          onChange={(e) => setSearchAddress(e.target.value)}\n        />\n        <button onClick={handleSearchAddress} disabled={isSearching}>\n          {isSearching ? 'Searching...' : 'Search'}\n        </button>\n        {searchError && <p className=\"error\">{searchError}</p>}\n        {clickedAddress && <p>Clicked/Selected Address: {clickedAddress}</p>}\n      </div>\n      <div id=\"mapdiv\" className=\"map-container\"></div>\n    </div>\n  );\n};\n\nexport default Explore;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}