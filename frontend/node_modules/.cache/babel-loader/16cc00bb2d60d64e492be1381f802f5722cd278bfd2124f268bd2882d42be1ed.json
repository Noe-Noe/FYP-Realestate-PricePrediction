{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mandy\\\\Downloads\\\\fyp-app\\\\fyp-app\\\\frontend\\\\src\\\\components\\\\user\\\\bookmarks.js\",\n  _GoogleSearchService,\n  _process$env$REACT_AP,\n  _process$env$REACT_AP2,\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useApi } from '../../context/ApiContext';\nimport { authAPI } from '../../services/api';\nimport Header from '../sharedpages/header';\nimport Navbar from '../sharedpages/navbar';\nimport Footer from '../sharedpages/footer';\nimport './bookmarks.css';\n\n// Debug: Check if GoogleSearchService is imported correctly\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconsole.log('GoogleSearchService imported:', GoogleSearchService);\nconsole.log('GoogleSearchService.getPropertyImage:', (_GoogleSearchService = GoogleSearchService) === null || _GoogleSearchService === void 0 ? void 0 : _GoogleSearchService.getPropertyImage);\n\n// Test environment variables\nconsole.log('Environment check:');\nconsole.log('API Key exists:', !!process.env.REACT_APP_GOOGLE_SEARCH_API_KEY);\nconsole.log('Search Engine ID exists:', !!process.env.REACT_APP_GOOGLE_SEARCH_ENGINE_ID);\nconsole.log('API Key length:', ((_process$env$REACT_AP = process.env.REACT_APP_GOOGLE_SEARCH_API_KEY) === null || _process$env$REACT_AP === void 0 ? void 0 : _process$env$REACT_AP.length) || 0);\nconsole.log('Search Engine ID length:', ((_process$env$REACT_AP2 = process.env.REACT_APP_GOOGLE_SEARCH_ENGINE_ID) === null || _process$env$REACT_AP2 === void 0 ? void 0 : _process$env$REACT_AP2.length) || 0);\nconst Bookmarks = () => {\n  _s();\n  const [activeTab, setActiveTab] = useState('bookmarks');\n  const navigate = useNavigate();\n  const {\n    getUserName\n  } = useApi();\n\n  // State for bookmarks from database\n  const [bookmarkedAddresses, setBookmarkedAddresses] = useState([]);\n  const [bookmarkedPredictions, setBookmarkedPredictions] = useState([]);\n  const [bookmarkedComparisons, setBookmarkedComparisons] = useState([]);\n\n  // Loading and error states\n  const [isLoadingBookmarks, setIsLoadingBookmarks] = useState(true);\n  const [bookmarksError, setBookmarksError] = useState('');\n  const [dynamicImages, setDynamicImages] = useState({});\n  const [isLoadingImages, setIsLoadingImages] = useState(false);\n\n  // Get user type from localStorage\n  const userType = localStorage.getItem('userType') || 'free';\n  const isPremiumUser = userType === 'premium';\n\n  // Load bookmarks from database\n  const loadBookmarks = async () => {\n    try {\n      // Check if user is authenticated\n      const token = localStorage.getItem('accessToken');\n      if (!token) {\n        console.log('No access token found, skipping bookmarks load');\n        setBookmarkedAddresses([]);\n        setBookmarkedPredictions([]);\n        setBookmarkedComparisons([]);\n        setIsLoadingBookmarks(false);\n        return;\n      }\n      setIsLoadingBookmarks(true);\n      setBookmarksError('');\n      const response = await authAPI.getBookmarks();\n      console.log('Loaded bookmarks:', response);\n\n      // The API returns a structured object with separate arrays\n      const addresses = response.bookmarked_addresses || [];\n      const predictions = response.bookmarked_predictions || [];\n      const comparisons = response.bookmarked_comparisons || [];\n      console.log('Extracted addresses:', addresses);\n      console.log('Extracted predictions:', predictions);\n      console.log('Extracted comparisons:', comparisons);\n      setBookmarkedAddresses(addresses);\n      setBookmarkedPredictions(predictions);\n      setBookmarkedComparisons(comparisons);\n    } catch (error) {\n      console.error('Error loading bookmarks:', error);\n      setBookmarksError(error.message || 'Failed to load bookmarks');\n      // Set empty arrays if API fails\n      setBookmarkedAddresses([]);\n      setBookmarkedPredictions([]);\n      setBookmarkedComparisons([]);\n    } finally {\n      setIsLoadingBookmarks(false);\n    }\n  };\n\n  // Load dynamic images for bookmarks\n  const loadDynamicImages = async () => {\n    if (bookmarkedAddresses.length === 0 && bookmarkedPredictions.length === 0 && bookmarkedComparisons.length === 0) {\n      return;\n    }\n    setIsLoadingImages(true);\n    const newImages = {};\n    try {\n      // Load images for address bookmarks\n      for (const address of bookmarkedAddresses) {\n        const imageKey = `address_${address.id}`;\n        if (!dynamicImages[imageKey]) {\n          console.log(`Loading image for address: ${address.address}`);\n          const imageUrl = await getAddressImage(address.address);\n          console.log(`Got image URL: ${imageUrl}`);\n          newImages[imageKey] = imageUrl;\n        }\n      }\n\n      // Load images for prediction bookmarks\n      for (const prediction of bookmarkedPredictions) {\n        const imageKey = `prediction_${prediction.id}`;\n        if (!dynamicImages[imageKey]) {\n          const imageUrl = await getAddressImage(prediction.address);\n          newImages[imageKey] = imageUrl;\n        }\n      }\n\n      // Load images for comparison bookmarks\n      for (const comparison of bookmarkedComparisons) {\n        const imageKey = `comparison_${comparison.id}`;\n        if (!dynamicImages[imageKey]) {\n          const imageUrl = await getComparisonImage(comparison.address, comparison.address_2);\n          newImages[imageKey] = imageUrl;\n        }\n      }\n      console.log('Setting new images:', newImages);\n      setDynamicImages(prev => {\n        const updated = {\n          ...prev,\n          ...newImages\n        };\n        console.log('Updated dynamic images state:', updated);\n        return updated;\n      });\n    } catch (error) {\n      console.error('Error loading dynamic images:', error);\n    } finally {\n      setIsLoadingImages(false);\n    }\n  };\n\n  // Test Google Search functionality\n  const testGoogleSearch = async () => {\n    try {\n      console.log('Testing GoogleSearchService...');\n      const googleService = new GoogleSearchService();\n      const testResult = await googleService.test();\n      console.log('Google Search test result:', testResult);\n    } catch (error) {\n      console.error('GoogleSearchService test failed:', error);\n    }\n  };\n\n  // Load bookmarks on component mount\n  useEffect(() => {\n    loadBookmarks();\n    // Test Google Search after a short delay\n    setTimeout(testGoogleSearch, 2000);\n  }, []);\n\n  // Load dynamic images when bookmarks change\n  useEffect(() => {\n    console.log('Bookmarks changed, checking if we should load images...');\n    console.log('Addresses:', bookmarkedAddresses.length, 'Predictions:', bookmarkedPredictions.length, 'Comparisons:', bookmarkedComparisons.length);\n    if (bookmarkedAddresses.length > 0 || bookmarkedPredictions.length > 0 || bookmarkedComparisons.length > 0) {\n      console.log('Loading dynamic images...');\n      loadDynamicImages();\n    } else {\n      console.log('No bookmarks to load images for');\n    }\n  }, [bookmarkedAddresses, bookmarkedPredictions, bookmarkedComparisons]);\n\n  // Handler functions for view buttons\n  const handleBookmarkedAddressView = address => {\n    console.log('Address bookmark clicked:', address);\n    // Navigate to price prediction with the full bookmark data\n    navigate('/dashboard/priceprediction', {\n      state: {\n        prefillAddress: address.address,\n        prefillPropertyType: address.property_type,\n        prefillFloorArea: address.floor_area ? address.floor_area.toString() : '',\n        prefillLevel: address.level || '',\n        prefillUnit: address.unit_number || '',\n        fromBookmark: true\n      }\n    });\n  };\n  const handlePredictionClick = prediction => {\n    console.log('Prediction bookmark clicked:', prediction);\n    // Navigate directly to prediction results page with actual bookmark data\n    navigate('/dashboard/prediction', {\n      state: {\n        searchData: {\n          address: prediction.address,\n          propertyType: prediction.property_type,\n          floorArea: prediction.floor_area ? prediction.floor_area.toString() : '',\n          level: prediction.level || '',\n          unit: prediction.unit_number || ''\n        },\n        fromBookmark: true\n      }\n    });\n  };\n  const handleComparisonClick = comparison => {\n    console.log('Comparison bookmark clicked:', comparison);\n    // Navigate directly to comparison results page with actual bookmark data\n    navigate('/dashboard/comparison', {\n      state: {\n        properties: [{\n          id: Date.now(),\n          propertyType: comparison.property_type || 'Industrial Property',\n          address: comparison.address,\n          floorArea: comparison.floor_area ? comparison.floor_area.toString() : '1500',\n          level: comparison.level || 'Ground Floor',\n          unit: comparison.unit_number || 'A-01'\n        }, {\n          id: Date.now() + 1,\n          propertyType: comparison.property_type_2 || 'Commercial Space',\n          address: comparison.address_2,\n          floorArea: comparison.floor_area_2 ? comparison.floor_area_2.toString() : '2000',\n          level: comparison.level_2 || 'Level 1',\n          unit: comparison.unit_number_2 || 'B-15'\n        }],\n        fromBookmark: true\n      }\n    });\n  };\n\n  // Remove bookmark function\n  const handleRemoveBookmark = async (bookmarkType, bookmarkId) => {\n    const confirmed = window.confirm('Are you sure you want to remove this bookmark?');\n    if (confirmed) {\n      try {\n        await authAPI.deleteBookmark(bookmarkId);\n        // Reload bookmarks after deletion\n        loadBookmarks();\n      } catch (error) {\n        console.error('Error removing bookmark:', error);\n        alert('Failed to remove bookmark. Please try again.');\n      }\n    }\n  };\n\n  // Format date for display\n  const formatDate = dateString => {\n    if (!dateString) return 'Unknown date';\n    try {\n      const date = new Date(dateString);\n      return date.toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      });\n    } catch (error) {\n      return 'Invalid date';\n    }\n  };\n\n  // Get image for specific address using Google Search\n  const getAddressImage = async address => {\n    try {\n      // Try to get real image from Google Search\n      const googleService = new GoogleSearchService();\n      const searchImage = await googleService.getPropertyImage(address);\n      if (searchImage) {\n        return searchImage;\n      }\n\n      // Fallback to dynamic Unsplash image if search fails\n      return getDynamicAddressImage(address);\n    } catch (error) {\n      console.error('Error fetching address image:', error);\n      return getDynamicAddressImage(address);\n    }\n  };\n\n  // Get dynamic image based on address content using Google Search\n  const getDynamicAddressImage = async (address, propertyType = '') => {\n    try {\n      console.log(`Searching for image: address=\"${address}\", propertyType=\"${propertyType}\"`);\n\n      // Try to get a real image from Google Search\n      const googleService = new GoogleSearchService();\n      const imageUrl = await googleService.getPropertyImage(address, propertyType);\n      console.log(`Google Search result: ${imageUrl}`);\n      if (imageUrl) {\n        console.log(`Using Google Search result: ${imageUrl}`);\n        return imageUrl;\n      }\n      console.log('Google Search failed, using fallback location-based images');\n\n      // Fallback to location-based Unsplash images if search fails\n      const addressLower = address.toLowerCase();\n      if (addressLower.includes('jurong')) {\n        console.log('Using Jurong fallback image');\n        return 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=250&fit=crop&q=80'; // Industrial building\n      } else if (addressLower.includes('tuas')) {\n        console.log('Using Tuas fallback image');\n        return 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=400&h=250&fit=crop&q=80'; // Factory/warehouse\n      } else if (addressLower.includes('woodlands')) {\n        console.log('Using Woodlands fallback image');\n        return 'https://images.unsplash.com/photo-1497366216548-37526070297c?w=400&h=250&fit=crop&q=80'; // Industrial park\n      } else if (addressLower.includes('changi')) {\n        console.log('Using Changi fallback image');\n        return 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=400&h=250&fit=crop&q=80'; // Business district\n      } else if (addressLower.includes('pasir panjang')) {\n        console.log('Using Pasir Panjang fallback image');\n        return 'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=400&h=250&fit=crop&q=80'; // Port area\n      }\n      console.log('Using default fallback image');\n      // Default Singapore industrial property image\n      return 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=250&fit=crop&q=80';\n    } catch (error) {\n      console.error('Error getting dynamic address image:', error);\n      // Return fallback image\n      return 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=400&h=250&fit=crop&q=80';\n    }\n  };\n\n  // Get image for comparison bookmarks (showing both properties)\n  const getComparisonImage = async (address1, address2) => {\n    try {\n      // Try to get real image from Google Search\n      const googleService = new GoogleSearchService();\n      const searchImage = await googleService.getComparisonImage(address1, address2);\n      if (searchImage) {\n        return searchImage;\n      }\n\n      // Fallback to cityscape image\n      return 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=400&h=250&fit=crop&q=80';\n    } catch (error) {\n      console.error('Error fetching comparison images:', error);\n      return 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=400&h=250&fit=crop&q=80';\n    }\n  };\n\n  // Debug: Log current dynamic images state\n  console.log('Current dynamicImages state:', dynamicImages);\n  console.log('Current bookmarkedAddresses:', bookmarkedAddresses);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bookmarks-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bookmarks-dashboard-container\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        activeTab: activeTab,\n        setActiveTab: setActiveTab\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"bookmarks-main-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bookmarks-content-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"bookmarks-main-title\",\n            children: \"My Bookmarks\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"bookmarks-welcome-message\",\n            children: [\"Welcome back, \", getUserName()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this), bookmarksError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bookmarks-error-message\",\n          children: [bookmarksError, /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"bookmarks-clear-error-btn\",\n            onClick: () => setBookmarksError(''),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 13\n        }, this), isLoadingBookmarks && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bookmarks-loading\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Loading your bookmarks...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }, this), !isLoadingBookmarks && !bookmarksError && /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"bookmarked-addresses\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"bookmarks-section-title\",\n            children: \"Bookmarked Addresses\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this), bookmarkedAddresses.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bookmarks-grid\",\n            children: bookmarkedAddresses.map(address => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bookmark-card address-card clickable\",\n              onClick: () => handleBookmarkedAddressView(address),\n              title: \"Click to get price prediction\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-image\",\n                children: [console.log(`Rendering image for address ${address.id}:`, dynamicImages[`address_${address.id}`]), /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: dynamicImages[`address_${address.id}`] || 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=400&h=250&fit=crop&q=80',\n                  alt: address.address,\n                  onError: e => {\n                    console.log(`Image failed to load for address ${address.id}:`, e.target.src);\n                    e.target.src = 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=400&h=250&fit=crop&q=80';\n                  },\n                  onLoad: e => {\n                    console.log(`Image loaded successfully for address ${address.id}:`, e.target.src);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"remove-bookmark-btn\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleRemoveBookmark('address', address.id);\n                  },\n                  title: \"Remove bookmark\",\n                  children: \"\\u2715\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"card-address\",\n                  children: address.address\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-type\",\n                  children: address.property_type || 'Property'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-date\",\n                  children: [\"Bookmarked on \", formatDate(address.created_at)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-hint\",\n                  children: \"\\uD83D\\uDCA1 Click to get price prediction\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 430,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 19\n              }, this)]\n            }, address.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bookmarks-no-data\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No bookmarked addresses yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"bookmarks-hint\",\n              children: \"Start bookmarking properties to see them here!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this), !isLoadingBookmarks && !bookmarksError && /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"bookmarked-predictions\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"bookmarks-section-title\",\n            children: \"Bookmarked Predictions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 13\n          }, this), bookmarkedPredictions.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bookmarks-grid\",\n            children: bookmarkedPredictions.map(prediction => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bookmark-card prediction-card clickable\",\n              onClick: () => handlePredictionClick(prediction),\n              title: \"Click to view prediction details\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-image\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: dynamicImages[`prediction_${prediction.id}`] || 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=400&h=250&fit=crop&q=80',\n                  alt: prediction.address,\n                  onError: e => {\n                    e.target.src = 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=400&h=250&fit=crop&q=80';\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 43\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"remove-bookmark-btn\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleRemoveBookmark('prediction', prediction.id);\n                  },\n                  title: \"Remove bookmark\",\n                  children: \"\\u2715\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"card-address\",\n                  children: prediction.address\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-prediction\",\n                  children: [\"Property Type: \", prediction.property_type]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-date\",\n                  children: [\"Bookmarked on \", formatDate(prediction.created_at)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-hint\",\n                  children: \"\\uD83D\\uDCA1 Click to view prediction details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 480,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 19\n              }, this)]\n            }, prediction.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 13\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bookmarks-no-data\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No bookmarked predictions yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"bookmarks-hint\",\n              children: \"Start bookmarking price predictions to see them here!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 11\n        }, this), !isLoadingBookmarks && !bookmarksError && isPremiumUser && /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"bookmarked-comparisons\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"bookmarks-section-title\",\n            children: \"Bookmarked Comparisons\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 15\n          }, this), bookmarkedComparisons.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bookmarks-grid\",\n            children: bookmarkedComparisons.map(comparison => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bookmark-card comparison-card clickable\",\n              onClick: () => handleComparisonClick(comparison),\n              title: \"Click to view comparison results\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-image\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: dynamicImages[`comparison_${comparison.id}`] || 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=400&h=250&fit=crop&q=80',\n                  alt: comparison.title || 'Property Comparison',\n                  onError: e => {\n                    e.target.src = 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=400&h=250&fit=crop&q=80';\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 508,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"remove-bookmark-btn\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleRemoveBookmark('comparison', comparison.id);\n                  },\n                  title: \"Remove bookmark\",\n                  children: \"\\u2715\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 515,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"card-title\",\n                  children: comparison.title || 'Property Comparison'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 527,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Property 1:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 529,\n                    columnNumber: 25\n                  }, this), \" \", comparison.property_type || 'Not specified', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 529,\n                    columnNumber: 99\n                  }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Property 2:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 530,\n                    columnNumber: 25\n                  }, this), \" \", comparison.property_type_2 || 'Not specified']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 528,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-addresses\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Property 1:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 533,\n                    columnNumber: 25\n                  }, this), \" \", comparison.address, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 533,\n                    columnNumber: 74\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"property-details\",\n                    children: [comparison.floor_area && `${comparison.floor_area} sqft`, comparison.level && ` • ${comparison.level}`, comparison.unit_number && ` • Unit ${comparison.unit_number}`]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 534,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 538,\n                    columnNumber: 32\n                  }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Property 2:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 539,\n                    columnNumber: 25\n                  }, this), \" \", comparison.address_2 || 'Not specified', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 539,\n                    columnNumber: 95\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"property-details\",\n                    children: [comparison.floor_area_2 && `${comparison.floor_area_2} sqft`, comparison.level_2 && ` • ${comparison.level_2}`, comparison.unit_number_2 && ` • Unit ${comparison.unit_number_2}`]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 540,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 532,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-date\",\n                  children: [\"Bookmarked on \", formatDate(comparison.created_at)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 546,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-hint\",\n                  children: \"\\uD83D\\uDCA1 Click to view comparison results\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 547,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 21\n              }, this)]\n            }, comparison.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bookmarks-no-data\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No bookmarked comparisons yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 554,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"bookmarks-hint\",\n              children: \"Start bookmarking property comparisons to see them here!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 553,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 13\n        }, this), !isLoadingBookmarks && !bookmarksError && bookmarkedAddresses.length === 0 && bookmarkedPredictions.length === 0 && bookmarkedComparisons.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bookmarks-empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"No Bookmarks Yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"You haven't bookmarked any properties, predictions, or comparisons yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"bookmarks-hint\",\n            children: \"Start exploring the platform and bookmark items you're interested in!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 576,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 354,\n    columnNumber: 5\n  }, this);\n};\n_s(Bookmarks, \"/OP3L83G0o7TrHO4+mv4IvDloH0=\", false, function () {\n  return [useNavigate, useApi];\n});\n_c = Bookmarks;\nexport default Bookmarks;\nvar _c;\n$RefreshReg$(_c, \"Bookmarks\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useApi","authAPI","Header","Navbar","Footer","jsxDEV","_jsxDEV","console","log","GoogleSearchService","_GoogleSearchService","getPropertyImage","process","env","REACT_APP_GOOGLE_SEARCH_API_KEY","REACT_APP_GOOGLE_SEARCH_ENGINE_ID","_process$env$REACT_AP","length","_process$env$REACT_AP2","Bookmarks","_s","activeTab","setActiveTab","navigate","getUserName","bookmarkedAddresses","setBookmarkedAddresses","bookmarkedPredictions","setBookmarkedPredictions","bookmarkedComparisons","setBookmarkedComparisons","isLoadingBookmarks","setIsLoadingBookmarks","bookmarksError","setBookmarksError","dynamicImages","setDynamicImages","isLoadingImages","setIsLoadingImages","userType","localStorage","getItem","isPremiumUser","loadBookmarks","token","response","getBookmarks","addresses","bookmarked_addresses","predictions","bookmarked_predictions","comparisons","bookmarked_comparisons","error","message","loadDynamicImages","newImages","address","imageKey","id","imageUrl","getAddressImage","prediction","comparison","getComparisonImage","address_2","prev","updated","testGoogleSearch","googleService","testResult","test","setTimeout","handleBookmarkedAddressView","state","prefillAddress","prefillPropertyType","property_type","prefillFloorArea","floor_area","toString","prefillLevel","level","prefillUnit","unit_number","fromBookmark","handlePredictionClick","searchData","propertyType","floorArea","unit","handleComparisonClick","properties","Date","now","property_type_2","floor_area_2","level_2","unit_number_2","handleRemoveBookmark","bookmarkType","bookmarkId","confirmed","window","confirm","deleteBookmark","alert","formatDate","dateString","date","toLocaleDateString","year","month","day","searchImage","getDynamicAddressImage","addressLower","toLowerCase","includes","address1","address2","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","title","src","alt","onError","e","target","onLoad","stopPropagation","created_at","_c","$RefreshReg$"],"sources":["C:/Users/mandy/Downloads/fyp-app/fyp-app/frontend/src/components/user/bookmarks.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useApi } from '../../context/ApiContext';\nimport { authAPI } from '../../services/api';\n\nimport Header from '../sharedpages/header';\nimport Navbar from '../sharedpages/navbar';\nimport Footer from '../sharedpages/footer';\nimport './bookmarks.css';\n\n// Debug: Check if GoogleSearchService is imported correctly\nconsole.log('GoogleSearchService imported:', GoogleSearchService);\nconsole.log('GoogleSearchService.getPropertyImage:', GoogleSearchService?.getPropertyImage);\n\n// Test environment variables\nconsole.log('Environment check:');\nconsole.log('API Key exists:', !!process.env.REACT_APP_GOOGLE_SEARCH_API_KEY);\nconsole.log('Search Engine ID exists:', !!process.env.REACT_APP_GOOGLE_SEARCH_ENGINE_ID);\nconsole.log('API Key length:', process.env.REACT_APP_GOOGLE_SEARCH_API_KEY?.length || 0);\nconsole.log('Search Engine ID length:', process.env.REACT_APP_GOOGLE_SEARCH_ENGINE_ID?.length || 0);\n\nconst Bookmarks = () => {\n  const [activeTab, setActiveTab] = useState('bookmarks');\n  const navigate = useNavigate();\n  const { getUserName } = useApi();\n\n  // State for bookmarks from database\n  const [bookmarkedAddresses, setBookmarkedAddresses] = useState([]);\n  const [bookmarkedPredictions, setBookmarkedPredictions] = useState([]);\n  const [bookmarkedComparisons, setBookmarkedComparisons] = useState([]);\n  \n  // Loading and error states\n  const [isLoadingBookmarks, setIsLoadingBookmarks] = useState(true);\n  const [bookmarksError, setBookmarksError] = useState('');\n  const [dynamicImages, setDynamicImages] = useState({});\n  const [isLoadingImages, setIsLoadingImages] = useState(false);\n\n  // Get user type from localStorage\n  const userType = localStorage.getItem('userType') || 'free';\n  const isPremiumUser = userType === 'premium';\n\n  // Load bookmarks from database\n  const loadBookmarks = async () => {\n    try {\n      // Check if user is authenticated\n      const token = localStorage.getItem('accessToken');\n      if (!token) {\n        console.log('No access token found, skipping bookmarks load');\n        setBookmarkedAddresses([]);\n        setBookmarkedPredictions([]);\n        setBookmarkedComparisons([]);\n        setIsLoadingBookmarks(false);\n        return;\n      }\n\n      setIsLoadingBookmarks(true);\n      setBookmarksError('');\n      \n      const response = await authAPI.getBookmarks();\n      console.log('Loaded bookmarks:', response);\n      \n      // The API returns a structured object with separate arrays\n      const addresses = response.bookmarked_addresses || [];\n      const predictions = response.bookmarked_predictions || [];\n      const comparisons = response.bookmarked_comparisons || [];\n      \n      console.log('Extracted addresses:', addresses);\n      console.log('Extracted predictions:', predictions);\n      console.log('Extracted comparisons:', comparisons);\n      \n      setBookmarkedAddresses(addresses);\n      setBookmarkedPredictions(predictions);\n      setBookmarkedComparisons(comparisons);\n      \n      } catch (error) {\n      console.error('Error loading bookmarks:', error);\n      setBookmarksError(error.message || 'Failed to load bookmarks');\n      // Set empty arrays if API fails\n      setBookmarkedAddresses([]);\n      setBookmarkedPredictions([]);\n      setBookmarkedComparisons([]);\n    } finally {\n      setIsLoadingBookmarks(false);\n    }\n  };\n\n  // Load dynamic images for bookmarks\n  const loadDynamicImages = async () => {\n    if (bookmarkedAddresses.length === 0 && bookmarkedPredictions.length === 0 && bookmarkedComparisons.length === 0) {\n      return;\n    }\n\n    setIsLoadingImages(true);\n    const newImages = {};\n\n    try {\n      // Load images for address bookmarks\n      for (const address of bookmarkedAddresses) {\n        const imageKey = `address_${address.id}`;\n        if (!dynamicImages[imageKey]) {\n          console.log(`Loading image for address: ${address.address}`);\n          const imageUrl = await getAddressImage(address.address);\n          console.log(`Got image URL: ${imageUrl}`);\n          newImages[imageKey] = imageUrl;\n        }\n      }\n\n      // Load images for prediction bookmarks\n      for (const prediction of bookmarkedPredictions) {\n        const imageKey = `prediction_${prediction.id}`;\n        if (!dynamicImages[imageKey]) {\n          const imageUrl = await getAddressImage(prediction.address);\n          newImages[imageKey] = imageUrl;\n        }\n      }\n\n      // Load images for comparison bookmarks\n      for (const comparison of bookmarkedComparisons) {\n        const imageKey = `comparison_${comparison.id}`;\n        if (!dynamicImages[imageKey]) {\n          const imageUrl = await getComparisonImage(comparison.address, comparison.address_2);\n          newImages[imageKey] = imageUrl;\n        }\n      }\n\n      console.log('Setting new images:', newImages);\n      setDynamicImages(prev => {\n        const updated = { ...prev, ...newImages };\n        console.log('Updated dynamic images state:', updated);\n        return updated;\n      });\n    } catch (error) {\n      console.error('Error loading dynamic images:', error);\n    } finally {\n      setIsLoadingImages(false);\n    }\n  };\n\n  // Test Google Search functionality\n  const testGoogleSearch = async () => {\n    try {\n      console.log('Testing GoogleSearchService...');\n      const googleService = new GoogleSearchService();\n      const testResult = await googleService.test();\n      console.log('Google Search test result:', testResult);\n    } catch (error) {\n      console.error('GoogleSearchService test failed:', error);\n    }\n  };\n\n  // Load bookmarks on component mount\n  useEffect(() => {\n    loadBookmarks();\n    // Test Google Search after a short delay\n    setTimeout(testGoogleSearch, 2000);\n  }, []);\n\n  // Load dynamic images when bookmarks change\n  useEffect(() => {\n    console.log('Bookmarks changed, checking if we should load images...');\n    console.log('Addresses:', bookmarkedAddresses.length, 'Predictions:', bookmarkedPredictions.length, 'Comparisons:', bookmarkedComparisons.length);\n    \n    if (bookmarkedAddresses.length > 0 || bookmarkedPredictions.length > 0 || bookmarkedComparisons.length > 0) {\n      console.log('Loading dynamic images...');\n      loadDynamicImages();\n    } else {\n      console.log('No bookmarks to load images for');\n    }\n  }, [bookmarkedAddresses, bookmarkedPredictions, bookmarkedComparisons]);\n\n  // Handler functions for view buttons\n  const handleBookmarkedAddressView = (address) => {\n    console.log('Address bookmark clicked:', address);\n    // Navigate to price prediction with the full bookmark data\n    navigate('/dashboard/priceprediction', { \n      state: { \n        prefillAddress: address.address,\n        prefillPropertyType: address.property_type,\n        prefillFloorArea: address.floor_area ? address.floor_area.toString() : '',\n        prefillLevel: address.level || '',\n        prefillUnit: address.unit_number || '',\n        fromBookmark: true \n      } \n    });\n  };\n\n\n\n  const handlePredictionClick = (prediction) => {\n    console.log('Prediction bookmark clicked:', prediction);\n    // Navigate directly to prediction results page with actual bookmark data\n    navigate('/dashboard/prediction', { \n      state: { \n        searchData: {\n          address: prediction.address,\n          propertyType: prediction.property_type,\n          floorArea: prediction.floor_area ? prediction.floor_area.toString() : '',\n          level: prediction.level || '',\n          unit: prediction.unit_number || ''\n        },\n        fromBookmark: true \n      } \n    });\n  };\n\n  const handleComparisonClick = (comparison) => {\n    console.log('Comparison bookmark clicked:', comparison);\n    // Navigate directly to comparison results page with actual bookmark data\n    navigate('/dashboard/comparison', { \n      state: { \n        properties: [\n          {\n            id: Date.now(),\n            propertyType: comparison.property_type || 'Industrial Property',\n            address: comparison.address,\n            floorArea: comparison.floor_area ? comparison.floor_area.toString() : '1500',\n            level: comparison.level || 'Ground Floor',\n            unit: comparison.unit_number || 'A-01'\n          },\n          {\n            id: Date.now() + 1,\n            propertyType: comparison.property_type_2 || 'Commercial Space',\n            address: comparison.address_2,\n            floorArea: comparison.floor_area_2 ? comparison.floor_area_2.toString() : '2000',\n            level: comparison.level_2 || 'Level 1',\n            unit: comparison.unit_number_2 || 'B-15'\n          }\n        ],\n        fromBookmark: true \n      } \n    });\n  };\n\n  // Remove bookmark function\n  const handleRemoveBookmark = async (bookmarkType, bookmarkId) => {\n    const confirmed = window.confirm('Are you sure you want to remove this bookmark?');\n    if (confirmed) {\n      try {\n        await authAPI.deleteBookmark(bookmarkId);\n        // Reload bookmarks after deletion\n        loadBookmarks();\n      } catch (error) {\n        console.error('Error removing bookmark:', error);\n        alert('Failed to remove bookmark. Please try again.');\n      }\n    }\n  };\n\n  // Format date for display\n  const formatDate = (dateString) => {\n    if (!dateString) return 'Unknown date';\n    try {\n      const date = new Date(dateString);\n      return date.toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      });\n    } catch (error) {\n      return 'Invalid date';\n    }\n  };\n\n  // Get image for specific address using Google Search\n  const getAddressImage = async (address) => {\n    try {\n      // Try to get real image from Google Search\n      const googleService = new GoogleSearchService();\n      const searchImage = await googleService.getPropertyImage(address);\n      if (searchImage) {\n        return searchImage;\n      }\n      \n      // Fallback to dynamic Unsplash image if search fails\n      return getDynamicAddressImage(address);\n      \n    } catch (error) {\n      console.error('Error fetching address image:', error);\n      return getDynamicAddressImage(address);\n    }\n  };\n\n  // Get dynamic image based on address content using Google Search\n  const getDynamicAddressImage = async (address, propertyType = '') => {\n    try {\n      console.log(`Searching for image: address=\"${address}\", propertyType=\"${propertyType}\"`);\n      \n      // Try to get a real image from Google Search\n      const googleService = new GoogleSearchService();\n      const imageUrl = await googleService.getPropertyImage(address, propertyType);\n      console.log(`Google Search result: ${imageUrl}`);\n      \n      if (imageUrl) {\n        console.log(`Using Google Search result: ${imageUrl}`);\n        return imageUrl;\n      }\n      \n      console.log('Google Search failed, using fallback location-based images');\n      \n      // Fallback to location-based Unsplash images if search fails\n      const addressLower = address.toLowerCase();\n      \n      if (addressLower.includes('jurong')) {\n        console.log('Using Jurong fallback image');\n        return 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=250&fit=crop&q=80'; // Industrial building\n      } else if (addressLower.includes('tuas')) {\n        console.log('Using Tuas fallback image');\n        return 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=400&h=250&fit=crop&q=80'; // Factory/warehouse\n      } else if (addressLower.includes('woodlands')) {\n        console.log('Using Woodlands fallback image');\n        return 'https://images.unsplash.com/photo-1497366216548-37526070297c?w=400&h=250&fit=crop&q=80'; // Industrial park\n      } else if (addressLower.includes('changi')) {\n        console.log('Using Changi fallback image');\n        return 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=400&h=250&fit=crop&q=80'; // Business district\n      } else if (addressLower.includes('pasir panjang')) {\n        console.log('Using Pasir Panjang fallback image');\n        return 'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=400&h=250&fit=crop&q=80'; // Port area\n      }\n      \n      console.log('Using default fallback image');\n      // Default Singapore industrial property image\n      return 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=250&fit=crop&q=80';\n    } catch (error) {\n      console.error('Error getting dynamic address image:', error);\n      // Return fallback image\n      return 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=400&h=250&fit=crop&q=80';\n    }\n  };\n\n  // Get image for comparison bookmarks (showing both properties)\n  const getComparisonImage = async (address1, address2) => {\n    try {\n      // Try to get real image from Google Search\n      const googleService = new GoogleSearchService();\n      const searchImage = await googleService.getComparisonImage(address1, address2);\n      if (searchImage) {\n        return searchImage;\n      }\n      \n      // Fallback to cityscape image\n      return 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=400&h=250&fit=crop&q=80';\n      \n    } catch (error) {\n      console.error('Error fetching comparison images:', error);\n      return 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=400&h=250&fit=crop&q=80';\n    }\n  };\n\n  // Debug: Log current dynamic images state\n  console.log('Current dynamicImages state:', dynamicImages);\n  console.log('Current bookmarkedAddresses:', bookmarkedAddresses);\n\n  return (\n    <div className=\"bookmarks-dashboard\">\n      {/* Top Header */}\n      <Header />\n\n      <div className=\"bookmarks-dashboard-container\">\n        {/* Left Sidebar */}\n        <Navbar activeTab={activeTab} setActiveTab={setActiveTab} />\n\n        {/* Main Content */}\n        <main className=\"bookmarks-main-content\">\n          <div className=\"bookmarks-content-header\">\n            <h1 className=\"bookmarks-main-title\">My Bookmarks</h1>\n            <p className=\"bookmarks-welcome-message\">Welcome back, {getUserName()}</p>\n          </div>\n\n          {/* Error Message */}\n          {bookmarksError && (\n            <div className=\"bookmarks-error-message\">\n              {bookmarksError}\n              <button \n                className=\"bookmarks-clear-error-btn\"\n                onClick={() => setBookmarksError('')}\n              >\n                ×\n              </button>\n            </div>\n          )}\n\n          {/* Loading State */}\n          {isLoadingBookmarks && (\n            <div className=\"bookmarks-loading\">\n              <p>Loading your bookmarks...</p>\n            </div>\n          )}\n\n          {/* Bookmarked Addresses */}\n          {!isLoadingBookmarks && !bookmarksError && (\n          <section className=\"bookmarked-addresses\">\n            <h2 className=\"bookmarks-section-title\">Bookmarked Addresses</h2>\n              {bookmarkedAddresses.length > 0 ? (\n            <div className=\"bookmarks-grid\">\n              {bookmarkedAddresses.map((address) => (\n                <div \n                  key={address.id} \n                  className=\"bookmark-card address-card clickable\"\n                      onClick={() => handleBookmarkedAddressView(address)}\n                      title=\"Click to get price prediction\"\n                    >\n                      <div className=\"card-image\">\n                        {console.log(`Rendering image for address ${address.id}:`, dynamicImages[`address_${address.id}`])}\n                        <img \n                          src={dynamicImages[`address_${address.id}`] || 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=400&h=250&fit=crop&q=80'} \n                          alt={address.address} \n                          onError={(e) => {\n                            console.log(`Image failed to load for address ${address.id}:`, e.target.src);\n                            e.target.src = 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=400&h=250&fit=crop&q=80';\n                          }}\n                          onLoad={(e) => {\n                            console.log(`Image loaded successfully for address ${address.id}:`, e.target.src);\n                          }}\n                        />\n                    <button \n                      className=\"remove-bookmark-btn\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleRemoveBookmark('address', address.id);\n                      }}\n                      title=\"Remove bookmark\"\n                    >\n                      ✕\n                    </button>\n                  </div>\n                  <div className=\"card-content\">\n                    <h3 className=\"card-address\">{address.address}</h3>\n                    <p className=\"card-type\">{address.property_type || 'Property'}</p>\n                    <p className=\"card-date\">Bookmarked on {formatDate(address.created_at)}</p>\n                    <p className=\"card-hint\">💡 Click to get price prediction</p>\n                  </div>\n                </div>\n              ))}\n            </div>\n              ) : (\n                <div className=\"bookmarks-no-data\">\n                  <p>No bookmarked addresses yet</p>\n                  <p className=\"bookmarks-hint\">Start bookmarking properties to see them here!</p>\n                </div>\n              )}\n          </section>\n          )}\n\n          {/* Bookmarked Predictions */}\n          {!isLoadingBookmarks && !bookmarksError && (\n          <section className=\"bookmarked-predictions\">\n            <h2 className=\"bookmarks-section-title\">Bookmarked Predictions</h2>\n              {bookmarkedPredictions.length > 0 ? (\n            <div className=\"bookmarks-grid\">\n              {bookmarkedPredictions.map((prediction) => (\n                <div \n                  key={prediction.id} \n                  className=\"bookmark-card prediction-card clickable\"\n                  onClick={() => handlePredictionClick(prediction)}\n                  title=\"Click to view prediction details\"\n                >\n                  <div className=\"card-image\">\n                                          <img \n                        src={dynamicImages[`prediction_${prediction.id}`] || 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=400&h=250&fit=crop&q=80'} \n                        alt={prediction.address} \n                        onError={(e) => {\n                          e.target.src = 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=400&h=250&fit=crop&q=80';\n                        }}\n                      />\n                    <button \n                      className=\"remove-bookmark-btn\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleRemoveBookmark('prediction', prediction.id);\n                      }}\n                      title=\"Remove bookmark\"\n                    >\n                      ✕\n                    </button>\n                  </div>\n                  <div className=\"card-content\">\n                    <h3 className=\"card-address\">{prediction.address}</h3>\n                    <p className=\"card-prediction\">Property Type: {prediction.property_type}</p>\n                    <p className=\"card-date\">Bookmarked on {formatDate(prediction.created_at)}</p>\n                    <p className=\"card-hint\">💡 Click to view prediction details</p>\n                  </div>\n                </div>\n              ))}\n            </div>\n              ) : (\n                <div className=\"bookmarks-no-data\">\n                  <p>No bookmarked predictions yet</p>\n                  <p className=\"bookmarks-hint\">Start bookmarking price predictions to see them here!</p>\n                </div>\n              )}\n          </section>\n          )}\n\n          {/* Bookmarked Comparisons - Premium Users Only */}\n          {!isLoadingBookmarks && !bookmarksError && isPremiumUser && (\n            <section className=\"bookmarked-comparisons\">\n              <h2 className=\"bookmarks-section-title\">Bookmarked Comparisons</h2>\n              {bookmarkedComparisons.length > 0 ? (\n              <div className=\"bookmarks-grid\">\n                {bookmarkedComparisons.map((comparison) => (\n                  <div \n                    key={comparison.id} \n                    className=\"bookmark-card comparison-card clickable\"\n                    onClick={() => handleComparisonClick(comparison)}\n                    title=\"Click to view comparison results\"\n                  >\n                    <div className=\"card-image\">\n                      <img \n                        src={dynamicImages[`comparison_${comparison.id}`] || 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=400&h=250&fit=crop&q=80'} \n                        alt={comparison.title || 'Property Comparison'} \n                        onError={(e) => {\n                          e.target.src = 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=400&h=250&fit=crop&q=80';\n                        }}\n                      />\n                      <button \n                        className=\"remove-bookmark-btn\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleRemoveBookmark('comparison', comparison.id);\n                        }}\n                        title=\"Remove bookmark\"\n                      >\n                        ✕\n                      </button>\n                    </div>\n                    <div className=\"card-content\">\n                      <h3 className=\"card-title\">{comparison.title || 'Property Comparison'}</h3>\n                      <p className=\"card-details\">\n                        <strong>Property 1:</strong> {comparison.property_type || 'Not specified'}<br/>\n                        <strong>Property 2:</strong> {comparison.property_type_2 || 'Not specified'}\n                      </p>\n                      <p className=\"card-addresses\">\n                        <strong>Property 1:</strong> {comparison.address}<br/>\n                        <span className=\"property-details\">\n                          {comparison.floor_area && `${comparison.floor_area} sqft`} \n                          {comparison.level && ` • ${comparison.level}`}\n                          {comparison.unit_number && ` • Unit ${comparison.unit_number}`}\n                        </span><br/>\n                        <strong>Property 2:</strong> {comparison.address_2 || 'Not specified'}<br/>\n                        <span className=\"property-details\">\n                          {comparison.floor_area_2 && `${comparison.floor_area_2} sqft`} \n                          {comparison.level_2 && ` • ${comparison.level_2}`}\n                          {comparison.unit_number_2 && ` • Unit ${comparison.unit_number_2}`}\n                        </span>\n                      </p>\n                      <p className=\"card-date\">Bookmarked on {formatDate(comparison.created_at)}</p>\n                      <p className=\"card-hint\">💡 Click to view comparison results</p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n              ) : (\n                <div className=\"bookmarks-no-data\">\n                  <p>No bookmarked comparisons yet</p>\n                  <p className=\"bookmarks-hint\">Start bookmarking property comparisons to see them here!</p>\n                </div>\n              )}\n            </section>\n          )}\n\n          {/* No Bookmarks Message */}\n          {!isLoadingBookmarks && !bookmarksError && \n           bookmarkedAddresses.length === 0 && \n           bookmarkedPredictions.length === 0 && \n           bookmarkedComparisons.length === 0 && (\n            <div className=\"bookmarks-empty-state\">\n              <h2>No Bookmarks Yet</h2>\n              <p>You haven't bookmarked any properties, predictions, or comparisons yet.</p>\n              <p className=\"bookmarks-hint\">Start exploring the platform and bookmark items you're interested in!</p>\n            </div>\n          )}\n        </main>\n      </div>\n\n      {/* Footer */}\n      <Footer />\n    </div>\n  );\n};\n\nexport default Bookmarks;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}