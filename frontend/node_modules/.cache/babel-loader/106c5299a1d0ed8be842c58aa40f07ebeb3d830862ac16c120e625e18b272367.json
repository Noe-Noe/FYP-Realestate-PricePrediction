{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mandy\\\\Downloads\\\\fyp-app\\\\fyp-app\\\\frontend\\\\src\\\\components\\\\sharedpages\\\\profile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useApi } from '../../context/ApiContext';\nimport { authAPI } from '../../services/api';\nimport Header from './header';\nimport Navbar from './navbar';\nimport Footer from './footer';\nimport './profile.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    getUserName,\n    logout\n  } = useApi();\n  const [activeTab, setActiveTab] = useState('profile');\n\n  // Profile form data\n  const [formData, setFormData] = useState({\n    fullName: '',\n    email: '',\n    phoneNumber: ''\n  });\n\n  // Password change data\n  const [passwordData, setPasswordData] = useState({\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: ''\n  });\n\n  // UI states\n  const [isLoading, setIsLoading] = useState(false);\n  const [isLoadingProfile, setIsLoadingProfile] = useState(true);\n  const [showSubscriptionModal, setShowSubscriptionModal] = useState(false);\n  const [apiError, setApiError] = useState('');\n  const [successMessage, setSuccessMessage] = useState('');\n\n  // User data from database\n  const [userProfile, setUserProfile] = useState({\n    currentPlan: 'Free',\n    subscriptionPeriod: 'monthly',\n    subscriptionStartDate: null,\n    accountCreatedDate: null,\n    lastLogin: null,\n    subscriptionStatus: 'active',\n    isActive: true\n  });\n\n  // Load user profile data from database when component mounts\n  useEffect(() => {\n    const loadUserProfile = async () => {\n      try {\n        setIsLoadingProfile(true);\n        setApiError('');\n\n        // Get current user email from localStorage\n        const currentUser = localStorage.getItem('user');\n        if (!currentUser) {\n          setApiError('No user session found. Please login again.');\n          return;\n        }\n        const userData = JSON.parse(currentUser);\n        const email = userData.email;\n\n        // Fetch profile from backend\n        const profileResponse = await authAPI.getProfile(email);\n\n        // Update form data with database values\n        setFormData({\n          fullName: profileResponse.full_name || '',\n          email: profileResponse.email || '',\n          phoneNumber: profileResponse.phone_number || ''\n        });\n\n        // Update user profile data\n        setUserProfile({\n          currentPlan: profileResponse.user_type === 'premium' ? 'Premium' : 'Free',\n          subscriptionPeriod: 'monthly',\n          // Default, can be enhanced later\n          subscriptionStartDate: profileResponse.subscription_start_date ? new Date(profileResponse.subscription_start_date) : null,\n          accountCreatedDate: profileResponse.account_created_date ? new Date(profileResponse.account_created_date) : null,\n          lastLogin: profileResponse.last_login ? new Date(profileResponse.last_login) : null,\n          subscriptionStatus: profileResponse.subscription_status || 'active',\n          isActive: profileResponse.is_active\n        });\n      } catch (error) {\n        console.error('Error loading user profile:', error);\n        setApiError(error.message || 'Failed to load profile data');\n      } finally {\n        setIsLoadingProfile(false);\n      }\n    };\n    loadUserProfile();\n  }, []);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    setApiError('');\n    setSuccessMessage('');\n  };\n  const handlePasswordChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setPasswordData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    setApiError('');\n    setSuccessMessage('');\n  };\n  const handleChangePassword = async () => {\n    // Validation\n    if (!passwordData.currentPassword.trim()) {\n      setApiError('Please enter your current password!');\n      return;\n    }\n    if (!passwordData.newPassword.trim()) {\n      setApiError('Please enter a new password!');\n      return;\n    }\n    if (passwordData.newPassword !== passwordData.confirmPassword) {\n      setApiError('New passwords do not match!');\n      return;\n    }\n    if (passwordData.currentPassword === passwordData.newPassword) {\n      setApiError('New password must be different from your current password!');\n      return;\n    }\n    if (passwordData.newPassword.length < 6) {\n      setApiError('New password must be at least 6 characters long!');\n      return;\n    }\n    try {\n      setIsLoading(true);\n      setApiError('');\n      setSuccessMessage('');\n\n      // Get current user email\n      const currentUser = localStorage.getItem('user');\n      const userData = JSON.parse(currentUser);\n      const email = userData.email;\n\n      // Call backend API\n      await authAPI.changePassword(email, passwordData.currentPassword, passwordData.newPassword);\n      setSuccessMessage('Password changed successfully!');\n\n      // Reset password form\n      setPasswordData({\n        currentPassword: '',\n        newPassword: '',\n        confirmPassword: ''\n      });\n    } catch (error) {\n      console.error('Error changing password:', error);\n      setApiError(error.message || 'Failed to change password');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleSaveChanges = async () => {\n    try {\n      setIsLoading(true);\n      setApiError('');\n      setSuccessMessage('');\n\n      // Get current user email\n      const currentUser = localStorage.getItem('user');\n      const userData = JSON.parse(currentUser);\n      const email = userData.email;\n\n      // Prepare profile data for update\n      const profileData = {\n        email: email,\n        full_name: formData.fullName,\n        phone_number: formData.phoneNumber\n      };\n\n      // Call backend API\n      const response = await authAPI.updateProfile(profileData);\n      setSuccessMessage('Profile updated successfully! Your changes have been saved.');\n\n      // Update localStorage with new user data\n      const updatedUser = {\n        ...userData,\n        full_name: response.user.full_name,\n        phone_number: response.user.phone_number\n      };\n      localStorage.setItem('user', JSON.stringify(updatedUser));\n    } catch (error) {\n      console.error('Error saving profile data:', error);\n      setApiError(error.message || 'Failed to save profile data');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleCancel = () => {\n    // Reload profile data from database to reset form\n    window.location.reload();\n  };\n  const handleManageSubscription = () => {\n    setShowSubscriptionModal(true);\n  };\n  const handleCloseSubscriptionModal = () => {\n    setShowSubscriptionModal(false);\n  };\n  const handleUpgradePlan = async () => {\n    try {\n      setIsLoading(true);\n      setApiError('');\n      setSuccessMessage('');\n\n      // Get current user email\n      const currentUser = localStorage.getItem('user');\n      const userData = JSON.parse(currentUser);\n      const email = userData.email;\n\n      // Call backend API to upgrade\n      const response = await authAPI.upgradeToPremium(email);\n\n      // Update local state\n      setUserProfile(prev => ({\n        ...prev,\n        currentPlan: 'Premium',\n        subscriptionStatus: 'active',\n        subscriptionStartDate: new Date()\n      }));\n\n      // Update localStorage with new user data\n      const updatedUser = {\n        ...userData,\n        user_type: 'premium'\n      };\n      localStorage.setItem('user', JSON.stringify(updatedUser));\n      localStorage.setItem('userType', 'premium');\n      setSuccessMessage('Successfully upgraded to Premium plan! Redirecting to dashboard...');\n      setShowSubscriptionModal(false);\n\n      // Redirect to dashboard after a short delay to show success message\n      setTimeout(() => {\n        navigate('/dashboard');\n      }, 2000);\n    } catch (error) {\n      console.error('Error upgrading to premium:', error);\n      setApiError(error.message || 'Failed to upgrade to premium');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleDowngradePlan = async () => {\n    const confirmed = window.confirm('Are you sure you want to cancel your Premium subscription? You will lose access to premium features and be moved to the Free plan. This action cannot be undone.');\n    if (confirmed) {\n      try {\n        setIsLoading(true);\n        setApiError('');\n        setSuccessMessage('');\n\n        // Get current user email\n        const currentUser = localStorage.getItem('user');\n        const userData = JSON.parse(currentUser);\n        const email = userData.email;\n\n        // Call backend API to downgrade\n        const response = await authAPI.downgradeToFree(email);\n\n        // Update local state\n        setUserProfile(prev => ({\n          ...prev,\n          currentPlan: 'Free',\n          subscriptionStatus: 'inactive',\n          subscriptionStartDate: null\n        }));\n\n        // Update localStorage with new user data\n        const updatedUser = {\n          ...userData,\n          user_type: 'free'\n        };\n        localStorage.setItem('user', JSON.stringify(updatedUser));\n        localStorage.setItem('userType', 'free');\n        setSuccessMessage('Successfully downgraded to Free plan! Redirecting to dashboard...');\n        setShowSubscriptionModal(false);\n\n        // Redirect to dashboard after a short delay to show success message\n        setTimeout(() => {\n          navigate('/dashboard');\n        }, 2000);\n      } catch (error) {\n        console.error('Error downgrading to free:', error);\n        setApiError(error.message || 'Failed to downgrade to free');\n      } finally {\n        setIsLoading(false);\n      }\n    }\n  };\n  const handleDeleteAccount = async () => {\n    const confirmed = window.confirm('⚠️ WARNING: This action will PERMANENTLY DELETE your account and all associated data from our database. This action CANNOT be undone. You will lose access to all features immediately and will need to create a new account to use the service again.\\n\\nAre you absolutely sure you want to proceed?');\n    if (confirmed) {\n      try {\n        setIsLoading(true);\n        setApiError('');\n\n        // Get current user email\n        const currentUser = localStorage.getItem('user');\n        const userData = JSON.parse(currentUser);\n        const email = userData.email;\n\n        // Call backend API to delete account\n        await authAPI.deleteAccount(email);\n\n        // Show deletion confirmation\n        alert('Your account has been permanently deleted. You will be logged out and redirected to the home page.');\n\n        // Logout and clear user data\n        logout();\n\n        // Redirect to home page\n        navigate('/');\n      } catch (error) {\n        console.error('Error deactivating account:', error);\n        setApiError(error.message || 'Failed to deactivate account');\n        setIsLoading(false);\n      }\n    }\n  };\n\n  // Format date for display\n  const formatDate = dateString => {\n    if (!dateString) return 'Not available';\n    try {\n      const date = new Date(dateString);\n      return date.toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      });\n    } catch (error) {\n      return 'Invalid date';\n    }\n  };\n  if (isLoadingProfile) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-dashboard\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-dashboard-container\",\n        children: [/*#__PURE__*/_jsxDEV(Navbar, {\n          activeTab: activeTab,\n          setActiveTab: setActiveTab\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          className: \"user-main-content\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-loading\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Loading profile data...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-dashboard-container\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        activeTab: activeTab,\n        setActiveTab: setActiveTab\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"user-main-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"profile-section-title\",\n          children: \"Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 11\n        }, this), apiError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-error-message\",\n          children: [apiError, /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"profile-clear-error-btn\",\n            onClick: () => setApiError(''),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 13\n        }, this), successMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-success-message\",\n          children: [successMessage, /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"profile-clear-success-btn\",\n            onClick: () => setSuccessMessage(''),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"profile-subsection-title\",\n            children: \"Personal Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"fullName\",\n              children: \"Full Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"fullName\",\n              name: \"fullName\",\n              value: formData.fullName,\n              onChange: handleInputChange,\n              placeholder: \"Enter your full name\",\n              disabled: isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              children: \"Email Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              id: \"email\",\n              name: \"email\",\n              value: formData.email,\n              disabled: true,\n              className: \"profile-disabled-input\",\n              title: \"Email cannot be changed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"phoneNumber\",\n              children: \"Phone Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              id: \"phoneNumber\",\n              name: \"phoneNumber\",\n              value: formData.phoneNumber,\n              onChange: handleInputChange,\n              placeholder: \"Enter your phone number\",\n              disabled: isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"profile-subsection-title\",\n            children: \"Change Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"currentPassword\",\n              children: \"Current Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              id: \"currentPassword\",\n              name: \"currentPassword\",\n              value: passwordData.currentPassword,\n              onChange: handlePasswordChange,\n              placeholder: \"Enter current password\",\n              disabled: isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"newPassword\",\n              children: \"New Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              id: \"newPassword\",\n              name: \"newPassword\",\n              value: passwordData.newPassword,\n              onChange: handlePasswordChange,\n              placeholder: \"Enter new password\",\n              disabled: isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"confirmPassword\",\n              children: \"Confirm New Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              id: \"confirmPassword\",\n              name: \"confirmPassword\",\n              value: passwordData.confirmPassword,\n              onChange: handlePasswordChange,\n              placeholder: \"Confirm new password\",\n              disabled: isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"profile-change-password-btn\",\n            onClick: handleChangePassword,\n            disabled: isLoading,\n            children: isLoading ? 'Changing Password...' : 'Change Password'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"profile-subsection-title\",\n            children: \"Account Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-account-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"profile-info-label\",\n                children: \"Account Created:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"profile-info-value\",\n                children: formatDate(userProfile.accountCreatedDate)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"profile-info-label\",\n                children: \"Last Login:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"profile-info-value\",\n                children: formatDate(userProfile.lastLogin)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"profile-info-label\",\n                children: \"Account Status:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `profile-info-value ${userProfile.isActive ? 'active' : 'inactive'}`,\n                children: userProfile.isActive ? 'Active' : 'Inactive'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"profile-subsection-title\",\n            children: \"Subscription\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-subscription-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"profile-info-label\",\n                children: \"Current Plan:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 538,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `profile-info-value ${userProfile.currentPlan.toLowerCase()}`,\n                children: userProfile.currentPlan\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"profile-info-label\",\n                children: \"Subscription Status:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 544,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `profile-info-value ${userProfile.subscriptionStatus}`,\n                children: userProfile.subscriptionStatus\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 15\n            }, this), userProfile.subscriptionStartDate && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"profile-info-label\",\n                children: \"Subscription Start:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"profile-info-value\",\n                children: formatDate(userProfile.subscriptionStartDate)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"profile-subscription-description\",\n              children: [userProfile.currentPlan === 'Premium' && 'Enjoy exclusive access to advanced search filters, detailed property reports, and personalized alerts with your Premium plan.', userProfile.currentPlan === 'Free' && 'Basic access to property listings. Upgrade to unlock advanced features and detailed reports.']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"profile-manage-subscription-btn\",\n              onClick: handleManageSubscription,\n              children: \"Manage Subscription\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 561,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"profile-subsection-title\",\n            children: \"Danger Zone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"profile-delete-account-btn\",\n            onClick: handleDeleteAccount,\n            disabled: isLoading,\n            children: isLoading ? 'Deleting...' : 'Delete My Account'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-action-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"profile-cancel-btn\",\n            onClick: handleCancel,\n            disabled: isLoading,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 584,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"profile-save-btn\",\n            onClick: handleSaveChanges,\n            disabled: isLoading,\n            children: isLoading ? 'Saving...' : 'Save Changes'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 7\n    }, this), showSubscriptionModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Manage Subscription\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"profile-modal-close-btn\",\n            onClick: handleCloseSubscriptionModal,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-modal-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"Current Plan: \", userProfile.currentPlan]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 617,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: userProfile.currentPlan === 'Premium' ? 'You currently have a Premium subscription with access to advanced features.' : 'You currently have a Free plan with basic access to property listings.'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 618,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 616,\n            columnNumber: 15\n          }, this), userProfile.currentPlan === 'Premium' ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-modal-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Cancel Premium Subscription\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 628,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Cancel your Premium subscription to return to the Free plan.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 629,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"profile-modal-downgrade-btn\",\n              onClick: handleDowngradePlan,\n              children: \"Cancel Premium\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 627,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-modal-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Upgrade to Premium\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 639,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Get access to advanced search filters, detailed reports, and personalized alerts.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 640,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"profile-modal-upgrade-btn\",\n              onClick: handleUpgradePlan,\n              children: \"Upgrade to Premium\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 641,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 638,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 605,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 604,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 654,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 386,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"e6zfLysThSCBQ2A4Z4ZXPZfnVOE=\", false, function () {\n  return [useNavigate, useApi];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useApi","authAPI","Header","Navbar","Footer","jsxDEV","_jsxDEV","Profile","_s","navigate","getUserName","logout","activeTab","setActiveTab","formData","setFormData","fullName","email","phoneNumber","passwordData","setPasswordData","currentPassword","newPassword","confirmPassword","isLoading","setIsLoading","isLoadingProfile","setIsLoadingProfile","showSubscriptionModal","setShowSubscriptionModal","apiError","setApiError","successMessage","setSuccessMessage","userProfile","setUserProfile","currentPlan","subscriptionPeriod","subscriptionStartDate","accountCreatedDate","lastLogin","subscriptionStatus","isActive","loadUserProfile","currentUser","localStorage","getItem","userData","JSON","parse","profileResponse","getProfile","full_name","phone_number","user_type","subscription_start_date","Date","account_created_date","last_login","subscription_status","is_active","error","console","message","handleInputChange","e","name","value","target","prev","handlePasswordChange","handleChangePassword","trim","length","changePassword","handleSaveChanges","profileData","response","updateProfile","updatedUser","user","setItem","stringify","handleCancel","window","location","reload","handleManageSubscription","handleCloseSubscriptionModal","handleUpgradePlan","upgradeToPremium","setTimeout","handleDowngradePlan","confirmed","confirm","downgradeToFree","handleDeleteAccount","deleteAccount","alert","formatDate","dateString","date","toLocaleDateString","year","month","day","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","htmlFor","type","id","onChange","placeholder","disabled","title","toLowerCase","_c","$RefreshReg$"],"sources":["C:/Users/mandy/Downloads/fyp-app/fyp-app/frontend/src/components/sharedpages/profile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useApi } from '../../context/ApiContext';\nimport { authAPI } from '../../services/api';\nimport Header from './header';\nimport Navbar from './navbar';\nimport Footer from './footer';\nimport './profile.css';\n\nconst Profile = () => {\n  const navigate = useNavigate();\n  const { getUserName, logout } = useApi();\n  const [activeTab, setActiveTab] = useState('profile');\n  \n  // Profile form data\n  const [formData, setFormData] = useState({\n    fullName: '',\n    email: '',\n    phoneNumber: ''\n  });\n  \n  // Password change data\n  const [passwordData, setPasswordData] = useState({\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: ''\n  });\n  \n  // UI states\n  const [isLoading, setIsLoading] = useState(false);\n  const [isLoadingProfile, setIsLoadingProfile] = useState(true);\n  const [showSubscriptionModal, setShowSubscriptionModal] = useState(false);\n  const [apiError, setApiError] = useState('');\n  const [successMessage, setSuccessMessage] = useState('');\n  \n  // User data from database\n  const [userProfile, setUserProfile] = useState({\n    currentPlan: 'Free',\n    subscriptionPeriod: 'monthly',\n    subscriptionStartDate: null,\n    accountCreatedDate: null,\n    lastLogin: null,\n    subscriptionStatus: 'active',\n    isActive: true\n  });\n\n  // Load user profile data from database when component mounts\n  useEffect(() => {\n    const loadUserProfile = async () => {\n      try {\n        setIsLoadingProfile(true);\n        setApiError('');\n        \n        // Get current user email from localStorage\n        const currentUser = localStorage.getItem('user');\n        if (!currentUser) {\n          setApiError('No user session found. Please login again.');\n          return;\n        }\n        \n        const userData = JSON.parse(currentUser);\n        const email = userData.email;\n        \n        // Fetch profile from backend\n        const profileResponse = await authAPI.getProfile(email);\n        \n        // Update form data with database values\n        setFormData({\n          fullName: profileResponse.full_name || '',\n          email: profileResponse.email || '',\n          phoneNumber: profileResponse.phone_number || ''\n        });\n        \n        // Update user profile data\n        setUserProfile({\n          currentPlan: profileResponse.user_type === 'premium' ? 'Premium' : 'Free',\n          subscriptionPeriod: 'monthly', // Default, can be enhanced later\n          subscriptionStartDate: profileResponse.subscription_start_date ? new Date(profileResponse.subscription_start_date) : null,\n          accountCreatedDate: profileResponse.account_created_date ? new Date(profileResponse.account_created_date) : null,\n          lastLogin: profileResponse.last_login ? new Date(profileResponse.last_login) : null,\n          subscriptionStatus: profileResponse.subscription_status || 'active',\n          isActive: profileResponse.is_active\n        });\n        \n      } catch (error) {\n        console.error('Error loading user profile:', error);\n        setApiError(error.message || 'Failed to load profile data');\n      } finally {\n        setIsLoadingProfile(false);\n      }\n    };\n\n    loadUserProfile();\n  }, []);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    setApiError('');\n    setSuccessMessage('');\n  };\n\n  const handlePasswordChange = (e) => {\n    const { name, value } = e.target;\n    setPasswordData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    setApiError('');\n    setSuccessMessage('');\n  };\n\n  const handleChangePassword = async () => {\n    // Validation\n    if (!passwordData.currentPassword.trim()) {\n      setApiError('Please enter your current password!');\n      return;\n    }\n    if (!passwordData.newPassword.trim()) {\n      setApiError('Please enter a new password!');\n      return;\n    }\n    if (passwordData.newPassword !== passwordData.confirmPassword) {\n      setApiError('New passwords do not match!');\n      return;\n    }\n    if (passwordData.currentPassword === passwordData.newPassword) {\n      setApiError('New password must be different from your current password!');\n      return;\n    }\n    if (passwordData.newPassword.length < 6) {\n      setApiError('New password must be at least 6 characters long!');\n      return;\n    }\n\n    try {\n      setIsLoading(true);\n      setApiError('');\n      setSuccessMessage('');\n      \n      // Get current user email\n      const currentUser = localStorage.getItem('user');\n      const userData = JSON.parse(currentUser);\n      const email = userData.email;\n      \n      // Call backend API\n      await authAPI.changePassword(email, passwordData.currentPassword, passwordData.newPassword);\n      \n      setSuccessMessage('Password changed successfully!');\n        \n        // Reset password form\n        setPasswordData({\n          currentPassword: '',\n          newPassword: '',\n          confirmPassword: ''\n        });\n        \n      } catch (error) {\n        console.error('Error changing password:', error);\n      setApiError(error.message || 'Failed to change password');\n    } finally {\n        setIsLoading(false);\n      }\n  };\n\n  const handleSaveChanges = async () => {\n    try {\n    setIsLoading(true);\n      setApiError('');\n      setSuccessMessage('');\n      \n      // Get current user email\n      const currentUser = localStorage.getItem('user');\n      const userData = JSON.parse(currentUser);\n      const email = userData.email;\n      \n      // Prepare profile data for update\n      const profileData = {\n        email: email,\n        full_name: formData.fullName,\n        phone_number: formData.phoneNumber\n      };\n      \n      // Call backend API\n      const response = await authAPI.updateProfile(profileData);\n      \n      setSuccessMessage('Profile updated successfully! Your changes have been saved.');\n      \n      // Update localStorage with new user data\n      const updatedUser = {\n        ...userData,\n        full_name: response.user.full_name,\n        phone_number: response.user.phone_number\n      };\n      localStorage.setItem('user', JSON.stringify(updatedUser));\n      \n      } catch (error) {\n        console.error('Error saving profile data:', error);\n      setApiError(error.message || 'Failed to save profile data');\n    } finally {\n        setIsLoading(false);\n      }\n  };\n\n  const handleCancel = () => {\n    // Reload profile data from database to reset form\n    window.location.reload();\n  };\n\n  const handleManageSubscription = () => {\n    setShowSubscriptionModal(true);\n  };\n\n  const handleCloseSubscriptionModal = () => {\n    setShowSubscriptionModal(false);\n  };\n\n  const handleUpgradePlan = async () => {\n    try {\n      setIsLoading(true);\n      setApiError('');\n      setSuccessMessage('');\n      \n      // Get current user email\n      const currentUser = localStorage.getItem('user');\n      const userData = JSON.parse(currentUser);\n      const email = userData.email;\n      \n      // Call backend API to upgrade\n      const response = await authAPI.upgradeToPremium(email);\n      \n      // Update local state\n      setUserProfile(prev => ({\n        ...prev,\n        currentPlan: 'Premium',\n        subscriptionStatus: 'active',\n        subscriptionStartDate: new Date()\n      }));\n      \n              // Update localStorage with new user data\n        const updatedUser = {\n          ...userData,\n          user_type: 'premium'\n        };\n        localStorage.setItem('user', JSON.stringify(updatedUser));\n        localStorage.setItem('userType', 'premium');\n        \n        setSuccessMessage('Successfully upgraded to Premium plan! Redirecting to dashboard...');\n        setShowSubscriptionModal(false);\n        \n        // Redirect to dashboard after a short delay to show success message\n        setTimeout(() => {\n          navigate('/dashboard');\n        }, 2000);\n      \n    } catch (error) {\n      console.error('Error upgrading to premium:', error);\n      setApiError(error.message || 'Failed to upgrade to premium');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleDowngradePlan = async () => {\n    const confirmed = window.confirm(\n      'Are you sure you want to cancel your Premium subscription? You will lose access to premium features and be moved to the Free plan. This action cannot be undone.'\n    );\n    \n    if (confirmed) {\n      try {\n        setIsLoading(true);\n        setApiError('');\n        setSuccessMessage('');\n        \n        // Get current user email\n        const currentUser = localStorage.getItem('user');\n        const userData = JSON.parse(currentUser);\n        const email = userData.email;\n        \n        // Call backend API to downgrade\n        const response = await authAPI.downgradeToFree(email);\n        \n        // Update local state\n        setUserProfile(prev => ({\n          ...prev,\n          currentPlan: 'Free',\n          subscriptionStatus: 'inactive',\n          subscriptionStartDate: null\n        }));\n        \n        // Update localStorage with new user data\n        const updatedUser = {\n          ...userData,\n          user_type: 'free'\n        };\n        localStorage.setItem('user', JSON.stringify(updatedUser));\n        localStorage.setItem('userType', 'free');\n        \n        setSuccessMessage('Successfully downgraded to Free plan! Redirecting to dashboard...');\n      setShowSubscriptionModal(false);\n        \n        // Redirect to dashboard after a short delay to show success message\n        setTimeout(() => {\n          navigate('/dashboard');\n        }, 2000);\n        \n      } catch (error) {\n        console.error('Error downgrading to free:', error);\n        setApiError(error.message || 'Failed to downgrade to free');\n      } finally {\n        setIsLoading(false);\n      }\n    }\n  };\n\n  const handleDeleteAccount = async () => {\n    const confirmed = window.confirm(\n      '⚠️ WARNING: This action will PERMANENTLY DELETE your account and all associated data from our database. This action CANNOT be undone. You will lose access to all features immediately and will need to create a new account to use the service again.\\n\\nAre you absolutely sure you want to proceed?'\n    );\n    \n    if (confirmed) {\n      try {\n        setIsLoading(true);\n        setApiError('');\n        \n        // Get current user email\n        const currentUser = localStorage.getItem('user');\n        const userData = JSON.parse(currentUser);\n        const email = userData.email;\n        \n        // Call backend API to delete account\n        await authAPI.deleteAccount(email);\n        \n        // Show deletion confirmation\n        alert('Your account has been permanently deleted. You will be logged out and redirected to the home page.');\n        \n        // Logout and clear user data\n        logout();\n        \n        // Redirect to home page\n        navigate('/');\n        \n      } catch (error) {\n        console.error('Error deactivating account:', error);\n        setApiError(error.message || 'Failed to deactivate account');\n        setIsLoading(false);\n      }\n    }\n  };\n\n  // Format date for display\n  const formatDate = (dateString) => {\n    if (!dateString) return 'Not available';\n    try {\n      const date = new Date(dateString);\n      return date.toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      });\n    } catch (error) {\n      return 'Invalid date';\n    }\n  };\n\n  if (isLoadingProfile) {\n    return (\n      <div className=\"user-dashboard\">\n        <Header />\n        <div className=\"user-dashboard-container\">\n          <Navbar activeTab={activeTab} setActiveTab={setActiveTab} />\n          <main className=\"user-main-content\">\n            <div className=\"profile-loading\">\n              <p>Loading profile data...</p>\n            </div>\n          </main>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"user-dashboard\">\n      {/* Top Header */}\n      <Header />\n\n      <div className=\"user-dashboard-container\">\n        {/* Left Sidebar */}\n        <Navbar activeTab={activeTab} setActiveTab={setActiveTab} />\n\n        {/* Main Content */}\n        <main className=\"user-main-content\">\n          <h1 className=\"profile-section-title\">Profile</h1>\n          \n          {/* Error and Success Messages */}\n          {apiError && (\n            <div className=\"profile-error-message\">\n              {apiError}\n              <button \n                className=\"profile-clear-error-btn\"\n                onClick={() => setApiError('')}\n              >\n                ×\n              </button>\n            </div>\n          )}\n          \n          {successMessage && (\n            <div className=\"profile-success-message\">\n              {successMessage}\n              <button \n                className=\"profile-clear-success-btn\"\n                onClick={() => setSuccessMessage('')}\n              >\n                ×\n              </button>\n            </div>\n          )}\n          \n          {/* Personal Information */}\n          <section className=\"profile-section\">\n            <h2 className=\"profile-subsection-title\">Personal Information</h2>\n            <div className=\"profile-form-group\">\n              <label htmlFor=\"fullName\">Full Name</label>\n              <input\n                type=\"text\"\n                id=\"fullName\"\n                name=\"fullName\"\n                value={formData.fullName}\n                onChange={handleInputChange}\n                placeholder=\"Enter your full name\"\n                disabled={isLoading}\n              />\n            </div>\n            <div className=\"profile-form-group\">\n              <label htmlFor=\"email\">Email Address</label>\n              <input\n                type=\"email\"\n                id=\"email\"\n                name=\"email\"\n                value={formData.email}\n                disabled={true}\n                className=\"profile-disabled-input\"\n                title=\"Email cannot be changed\"\n              />\n            </div>\n            <div className=\"profile-form-group\">\n              <label htmlFor=\"phoneNumber\">Phone Number</label>\n              <input\n                type=\"tel\"\n                id=\"phoneNumber\"\n                name=\"phoneNumber\"\n                value={formData.phoneNumber}\n                onChange={handleInputChange}\n                placeholder=\"Enter your phone number\"\n                disabled={isLoading}\n              />\n            </div>\n          </section>\n\n          {/* Change Password */}\n          <section className=\"profile-section\">\n            <h2 className=\"profile-subsection-title\">Change Password</h2>\n            <div className=\"profile-form-group\">\n              <label htmlFor=\"currentPassword\">Current Password</label>\n              <input\n                type=\"password\"\n                id=\"currentPassword\"\n                name=\"currentPassword\"\n                value={passwordData.currentPassword}\n                onChange={handlePasswordChange}\n                placeholder=\"Enter current password\"\n                disabled={isLoading}\n              />\n            </div>\n            <div className=\"profile-form-group\">\n              <label htmlFor=\"newPassword\">New Password</label>\n              <input\n                type=\"password\"\n                id=\"newPassword\"\n                name=\"newPassword\"\n                value={passwordData.newPassword}\n                onChange={handlePasswordChange}\n                placeholder=\"Enter new password\"\n                disabled={isLoading}\n              />\n            </div>\n            <div className=\"profile-form-group\">\n              <label htmlFor=\"confirmPassword\">Confirm New Password</label>\n              <input\n                type=\"password\"\n                id=\"confirmPassword\"\n                name=\"confirmPassword\"\n                value={passwordData.confirmPassword}\n                onChange={handlePasswordChange}\n                placeholder=\"Confirm new password\"\n                disabled={isLoading}\n              />\n            </div>\n            <button \n              className=\"profile-change-password-btn\"\n              onClick={handleChangePassword}\n              disabled={isLoading}\n            >\n              {isLoading ? 'Changing Password...' : 'Change Password'}\n            </button>\n          </section>\n\n          {/* Account Information */}\n          <section className=\"profile-section\">\n            <h2 className=\"profile-subsection-title\">Account Information</h2>\n            <div className=\"profile-account-info\">\n              <div className=\"profile-info-item\">\n                <span className=\"profile-info-label\">Account Created:</span>\n                <span className=\"profile-info-value\">{formatDate(userProfile.accountCreatedDate)}</span>\n              </div>\n              <div className=\"profile-info-item\">\n                <span className=\"profile-info-label\">Last Login:</span>\n                <span className=\"profile-info-value\">{formatDate(userProfile.lastLogin)}</span>\n              </div>\n              <div className=\"profile-info-item\">\n                <span className=\"profile-info-label\">Account Status:</span>\n                <span className={`profile-info-value ${userProfile.isActive ? 'active' : 'inactive'}`}>\n                  {userProfile.isActive ? 'Active' : 'Inactive'}\n                </span>\n              </div>\n            </div>\n          </section>\n\n          {/* Subscription */}\n          <section className=\"profile-section\">\n            <h2 className=\"profile-subsection-title\">Subscription</h2>\n            <div className=\"profile-subscription-info\">\n              <div className=\"profile-info-item\">\n                <span className=\"profile-info-label\">Current Plan:</span>\n                <span className={`profile-info-value ${userProfile.currentPlan.toLowerCase()}`}>\n                  {userProfile.currentPlan}\n                </span>\n              </div>\n              <div className=\"profile-info-item\">\n                <span className=\"profile-info-label\">Subscription Status:</span>\n                <span className={`profile-info-value ${userProfile.subscriptionStatus}`}>\n                  {userProfile.subscriptionStatus}\n                </span>\n              </div>\n              {userProfile.subscriptionStartDate && (\n                <div className=\"profile-info-item\">\n                  <span className=\"profile-info-label\">Subscription Start:</span>\n                  <span className=\"profile-info-value\">\n                    {formatDate(userProfile.subscriptionStartDate)}\n                  </span>\n                </div>\n              )}\n              <p className=\"profile-subscription-description\">\n                {userProfile.currentPlan === 'Premium' && 'Enjoy exclusive access to advanced search filters, detailed property reports, and personalized alerts with your Premium plan.'}\n                {userProfile.currentPlan === 'Free' && 'Basic access to property listings. Upgrade to unlock advanced features and detailed reports.'}\n              </p>\n              <button \n                className=\"profile-manage-subscription-btn\"\n                onClick={handleManageSubscription}\n              >\n                Manage Subscription\n              </button>\n            </div>\n          </section>\n\n          {/* Account Settings */}\n          <section className=\"profile-section\">\n            <h2 className=\"profile-subsection-title\">Danger Zone</h2>\n            <button \n              className=\"profile-delete-account-btn\"\n              onClick={handleDeleteAccount}\n              disabled={isLoading}\n            >\n              {isLoading ? 'Deleting...' : 'Delete My Account'}\n            </button>\n          </section>\n\n          {/* Action Buttons */}\n          <div className=\"profile-action-buttons\">\n            <button \n              className=\"profile-cancel-btn\"\n              onClick={handleCancel}\n              disabled={isLoading}\n            >\n              Cancel\n            </button>\n            <button \n              className=\"profile-save-btn\"\n              onClick={handleSaveChanges}\n              disabled={isLoading}\n            >\n              {isLoading ? 'Saving...' : 'Save Changes'}\n            </button>\n          </div>\n        </main>\n      </div>\n\n      {/* Subscription Management Modal */}\n      {showSubscriptionModal && (\n        <div className=\"profile-modal-overlay\">\n          <div className=\"profile-modal\">\n            <div className=\"profile-modal-header\">\n              <h3>Manage Subscription</h3>\n              <button \n                className=\"profile-modal-close-btn\"\n                onClick={handleCloseSubscriptionModal}\n              >\n                ×\n              </button>\n            </div>\n            <div className=\"profile-modal-content\">\n              <div className=\"profile-modal-section\">\n                <h4>Current Plan: {userProfile.currentPlan}</h4>\n                <p>\n                  {userProfile.currentPlan === 'Premium' \n                    ? 'You currently have a Premium subscription with access to advanced features.'\n                    : 'You currently have a Free plan with basic access to property listings.'\n                  }\n                </p>\n              </div>\n\n              {userProfile.currentPlan === 'Premium' ? (\n                <div className=\"profile-modal-section\">\n                  <h4>Cancel Premium Subscription</h4>\n                  <p>Cancel your Premium subscription to return to the Free plan.</p>\n                  <button \n                    className=\"profile-modal-downgrade-btn\"\n                    onClick={handleDowngradePlan}\n                  >\n                    Cancel Premium\n                  </button>\n                </div>\n              ) : (\n                <div className=\"profile-modal-section\">\n                  <h4>Upgrade to Premium</h4>\n                  <p>Get access to advanced search filters, detailed reports, and personalized alerts.</p>\n                  <button \n                    className=\"profile-modal-upgrade-btn\"\n                    onClick={handleUpgradePlan}\n                  >\n                    Upgrade to Premium\n                  </button>\n                </div>\n                )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default Profile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}