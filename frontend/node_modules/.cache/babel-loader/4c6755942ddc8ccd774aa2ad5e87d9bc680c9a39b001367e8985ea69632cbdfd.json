{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mandy\\\\Downloads\\\\fyp-app\\\\fyp-app\\\\frontend\\\\src\\\\components\\\\user\\\\PropertyListing.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useLocation, useNavigate } from 'react-router-dom';\nimport Header from '../sharedpages/header';\nimport Navbar from '../sharedpages/navbar';\nimport Footer from '../sharedpages/footer';\nimport { propertiesAPI } from '../../services/api';\nimport './PropertyListing.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PropertyListing = () => {\n  _s();\n  const [activeTab, setActiveTab] = useState('property-listing');\n  const [property, setProperty] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [amenities, setAmenities] = useState([]);\n  const [isLoadingAmenities, setIsLoadingAmenities] = useState(false);\n  const [amenitiesError, setAmenitiesError] = useState('');\n  const [selectedAmenityTypes, setSelectedAmenityTypes] = useState([]);\n  const {\n    id\n  } = useParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  // Map and amenities refs\n  const mapInstanceRef = useRef(null);\n  const markerRef = useRef(null);\n  const placesServiceRef = useRef(null);\n\n  // Mock property data - in real app, this would come from API\n  const mockProperties = {\n    '1': {\n      id: '1',\n      title: 'Industrial Building',\n      address: '789 Maple Avenue, Singapore',\n      price: 'S$ 1,200,000',\n      propertyType: 'Industrial',\n      size: '10,000 sq ft',\n      floors: '2',\n      yearBuilt: '2005',\n      zoning: 'Industrial',\n      parkingSpaces: '50',\n      amenities: ['HVAC', 'Security System', 'Loading Docks', 'High Ceilings', 'Renovated'],\n      description: 'This industrial building offers a versatile space suitable for various business operations. It features high ceilings, ample natural light, and a flexible layout that can be customized to meet specific needs. The property includes loading docks, ample parking, and is conveniently located near major transportation routes, ensuring easy access for employees and clients. Additional amenities include a secure perimeter, 24/7 access, and on-site management.',\n      image: 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&h=600&fit=crop',\n      agent: {\n        name: 'Emily Tan',\n        title: 'Licensed Real Estate Agent',\n        image: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face',\n        phone: '+65 9123 4567'\n      },\n      location: {\n        lat: 1.3521,\n        lng: 103.8198,\n        address: '789 Maple Avenue, Singapore'\n      }\n    },\n    '2': {\n      id: '2',\n      title: 'Commercial Warehouse',\n      address: '456 Tuas South Ave 2, Singapore',\n      price: 'S$ 2,500,000',\n      propertyType: 'Warehouse',\n      size: '15,000 sq ft',\n      floors: '2',\n      yearBuilt: '2010',\n      zoning: 'Industrial',\n      parkingSpaces: '75',\n      amenities: ['High Ceilings', 'Loading Bays', 'Office Space', 'Security System', 'HVAC'],\n      description: 'This modern commercial warehouse offers excellent logistics capabilities with high ceilings and multiple loading bays. The property includes office space, security systems, and is strategically located near major transportation hubs. Perfect for distribution centers, manufacturing, or storage operations.',\n      image: 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop',\n      agent: {\n        name: 'David Chen',\n        title: 'Senior Property Consultant',\n        image: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face',\n        phone: '+65 9234 5678'\n      },\n      location: {\n        lat: 1.2981,\n        lng: 103.6476,\n        address: '456 Tuas South Ave 2, Singapore'\n      }\n    },\n    '3': {\n      id: '3',\n      title: 'Office Complex',\n      address: '321 Changi Business Park, Singapore',\n      price: 'S$ 3,800,000',\n      propertyType: 'Office',\n      size: '8,000 sq ft',\n      floors: '3',\n      yearBuilt: '2015',\n      zoning: 'Commercial',\n      parkingSpaces: '100',\n      amenities: ['Modern Facilities', 'Parking', 'Security', 'Conference Rooms', 'Cafeteria'],\n      description: 'This premium office complex offers modern facilities and amenities perfect for corporate headquarters or professional services. Features include conference rooms, cafeteria, and ample parking. Located in the prestigious Changi Business Park with easy access to Changi Airport and major transportation routes.',\n      image: 'https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop',\n      agent: {\n        name: 'Sarah Lim',\n        title: 'Commercial Property Specialist',\n        image: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face',\n        phone: '+65 9345 6789'\n      },\n      location: {\n        lat: 1.3371,\n        lng: 103.9614,\n        address: '321 Changi Business Park, Singapore'\n      }\n    },\n    '4': {\n      id: '4',\n      title: 'Factory Building',\n      address: '654 Pasir Panjang Terminal, Singapore',\n      price: 'S$ 4,500,000',\n      propertyType: 'Factory',\n      size: '20,000 sq ft',\n      floors: '2',\n      yearBuilt: '2008',\n      zoning: 'Industrial',\n      parkingSpaces: '80',\n      amenities: ['Heavy Machinery', 'Storage', 'Transport Access', 'Loading Docks', 'Security'],\n      description: 'This large factory building is designed for heavy manufacturing operations with reinforced floors, high ceilings, and multiple loading docks. The property includes storage areas and is strategically located near Pasir Panjang Terminal for easy access to shipping and logistics.',\n      image: 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&h=600&fit=crop',\n      agent: {\n        name: 'Michael Wong',\n        title: 'Industrial Property Expert',\n        image: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face',\n        phone: '+65 9456 7890'\n      },\n      location: {\n        lat: 1.2721,\n        lng: 103.7918,\n        address: '654 Pasir Panjang Terminal, Singapore'\n      }\n    }\n  };\n\n  // Fetch property from API\n  useEffect(() => {\n    const fetchProperty = async () => {\n      try {\n        var _response$size_sqft, _response$floors, _response$year_built, _response$parking_spa, _response$images;\n        setLoading(true);\n        const response = await propertiesAPI.getById(id);\n        console.log('Fetched property:', response);\n\n        // Transform the API response to match the expected format\n        const transformedProperty = {\n          id: response.id,\n          title: response.title,\n          address: response.address,\n          price: formatPrice(response.asking_price, response.price_type),\n          propertyType: response.property_type,\n          size: `${(_response$size_sqft = response.size_sqft) === null || _response$size_sqft === void 0 ? void 0 : _response$size_sqft.toLocaleString()} sq ft`,\n          floors: (_response$floors = response.floors) === null || _response$floors === void 0 ? void 0 : _response$floors.toString(),\n          yearBuilt: (_response$year_built = response.year_built) === null || _response$year_built === void 0 ? void 0 : _response$year_built.toString(),\n          zoning: response.zoning,\n          parkingSpaces: (_response$parking_spa = response.parking_spaces) === null || _response$parking_spa === void 0 ? void 0 : _response$parking_spa.toString(),\n          description: response.description,\n          image: ((_response$images = response.images) === null || _response$images === void 0 ? void 0 : _response$images.length) > 0 ? response.images[0].url : getDefaultImage(response.property_type),\n          amenities: response.amenities || [],\n          agent: response.agent ? {\n            name: response.agent.full_name,\n            title: 'Licensed Real Estate Agent',\n            image: response.agent.profile_image_url || 'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face',\n            phone: response.agent.phone_number || '+65 9123 4567',\n            email: response.agent.email\n          } : {\n            name: 'Property Agent',\n            title: 'Licensed Real Estate Agent',\n            image: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face',\n            phone: '+65 9123 4567'\n          },\n          location: {\n            lat: response.latitude || 1.3521,\n            lng: response.longitude || 103.8198,\n            address: response.address\n          }\n        };\n        setProperty(transformedProperty);\n      } catch (error) {\n        console.error('Error fetching property:', error);\n        // Fallback to mock data if API fails\n        const mockProperty = mockProperties[id] || mockProperties['1'];\n        setProperty(mockProperty);\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (id) {\n      fetchProperty();\n    }\n  }, [id]);\n\n  // Helper function to format price\n  const formatPrice = (price, priceType) => {\n    const numPrice = parseFloat(price);\n    if (priceType === 'rental') {\n      return `$${(numPrice / 1000).toFixed(0)}k/month`;\n    } else {\n      if (numPrice >= 1000000) {\n        return `$${(numPrice / 1000000).toFixed(1)}M`;\n      } else {\n        return `$${(numPrice / 1000).toFixed(0)}k`;\n      }\n    }\n  };\n\n  // Helper function to get default image based on property type\n  const getDefaultImage = propertyType => {\n    switch (propertyType === null || propertyType === void 0 ? void 0 : propertyType.toLowerCase()) {\n      case 'office':\n        return 'https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop';\n      case 'retail':\n        return 'https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop';\n      case 'warehouse':\n      case 'single-user factory':\n      case 'multiple-user factory':\n        return 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&h=600&fit=crop';\n      case 'shop house':\n        return 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop';\n      case 'business parks':\n        return 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&h=600&fit=crop';\n      default:\n        return 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop';\n    }\n  };\n\n  // Initialize map when property is loaded\n  useEffect(() => {\n    if (property && window.google) {\n      initializeMap();\n    }\n  }, [property]);\n\n  // Refetch amenities when selected types change\n  useEffect(() => {\n    if (property && window.google && placesServiceRef.current) {\n      fetchAmenities({\n        lat: property.location.lat,\n        lng: property.location.lng\n      });\n    }\n  }, [selectedAmenityTypes]);\n\n  // Initialize Google Map\n  const initializeMap = () => {\n    if (!window.google || !property) return;\n    const mapElement = document.getElementById('property-listing-map');\n    if (!mapElement) return;\n    const center = {\n      lat: property.location.lat,\n      lng: property.location.lng\n    };\n    const map = new window.google.maps.Map(mapElement, {\n      center: center,\n      zoom: 16,\n      mapTypeId: window.google.maps.MapTypeId.ROADMAP,\n      styles: [{\n        featureType: 'poi',\n        elementType: 'labels',\n        stylers: [{\n          visibility: 'off'\n        }]\n      }]\n    });\n    mapInstanceRef.current = map;\n\n    // Add marker for the property\n    const marker = new window.google.maps.Marker({\n      position: center,\n      map: map,\n      title: property.title,\n      icon: {\n        url: 'https://maps.google.com/mapfiles/ms/icons/red-dot.png',\n        scaledSize: new window.google.maps.Size(32, 32)\n      }\n    });\n    markerRef.current = marker;\n\n    // Initialize Places service for amenities\n    const placesService = new window.google.maps.places.PlacesService(map);\n    placesServiceRef.current = placesService;\n\n    // Load amenities for the property location\n    fetchAmenities(center);\n  };\n\n  // Fetch nearby amenities\n  const fetchAmenities = async location => {\n    if (!window.google || !placesServiceRef.current) {\n      setAmenitiesError('Google Maps not loaded');\n      return;\n    }\n    if (!location) {\n      setAmenities([]);\n      return;\n    }\n    setIsLoadingAmenities(true);\n    setAmenitiesError('');\n    try {\n      const requests = selectedAmenityTypes.map(type => ({\n        location: location,\n        radius: 1000,\n        type: type\n      }));\n      const results = await Promise.all(requests.map(request => new Promise((resolve, reject) => {\n        placesServiceRef.current.nearbySearch(request, (results, status) => {\n          if (status === window.google.maps.places.PlacesServiceStatus.OK) {\n            resolve(results || []);\n          } else {\n            resolve([]);\n          }\n        });\n      })));\n      const allAmenities = results.flat().sort((a, b) => {\n        const distanceA = window.google.maps.geometry.spherical.computeDistanceBetween(new window.google.maps.LatLng(location), a.geometry.location);\n        const distanceB = window.google.maps.geometry.spherical.computeDistanceBetween(new window.google.maps.LatLng(location), b.geometry.location);\n        return distanceA - distanceB;\n      });\n\n      // Remove duplicates and enrich with distance\n      const uniqueAmenities = allAmenities.filter((amenity, index, self) => index === self.findIndex(a => a.place_id === amenity.place_id)).map(amenity => ({\n        ...amenity,\n        distance: window.google.maps.geometry.spherical.computeDistanceBetween(new window.google.maps.LatLng(location), amenity.geometry.location)\n      }));\n      setAmenities(uniqueAmenities.slice(0, 20)); // Limit to 20 amenities\n    } catch (error) {\n      console.error('Error fetching amenities:', error);\n      setAmenitiesError('Failed to load amenities');\n    } finally {\n      setIsLoadingAmenities(false);\n    }\n  };\n\n  // Handle amenity type toggle\n  const handleToggleAmenity = type => {\n    setSelectedAmenityTypes(prev => prev.includes(type) ? prev.filter(t => t !== type) : [...prev, type]);\n  };\n\n  // Amenity options - same as prediction.js\n  const amenityOptions = [{\n    type: 'school',\n    label: 'Schools'\n  }, {\n    type: 'hospital',\n    label: 'Hospitals'\n  }, {\n    type: 'supermarket',\n    label: 'Supermarkets'\n  }, {\n    type: 'restaurant',\n    label: 'Restaurants'\n  }, {\n    type: 'cafe',\n    label: 'Cafes'\n  }, {\n    type: 'bank',\n    label: 'Banks'\n  }, {\n    type: 'atm',\n    label: 'ATMs'\n  }, {\n    type: 'shopping_mall',\n    label: 'Shopping Malls'\n  }, {\n    type: 'bus_station',\n    label: 'Bus Stations'\n  }, {\n    type: 'subway_station',\n    label: 'MRT'\n  }, {\n    type: 'gym',\n    label: 'Gyms'\n  }, {\n    type: 'pharmacy',\n    label: 'Pharmacies'\n  }];\n  const handleContactAgent = () => {\n    const message = `Hi ${property.agent.name}, I'm interested in the property at ${property.address}`;\n    const whatsappUrl = `https://wa.me/${property.agent.phone.replace(/\\s/g, '')}?text=${encodeURIComponent(message)}`;\n    window.open(whatsappUrl, '_blank');\n  };\n  const handleBackToListings = () => {\n    navigate('/dashboard/property-listings');\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"property-listing-loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"property-listing-loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading property details...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-dashboard-container\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        activeTab: activeTab,\n        setActiveTab: setActiveTab\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"user-main-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"property-listing-breadcrumbs\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleBackToListings,\n            className: \"property-listing-back-button\",\n            children: \"Property Listings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"property-listing-breadcrumb-separator\",\n            children: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"property-listing-breadcrumb-current\",\n            children: property.address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-content-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"user-main-title\",\n            children: property.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"property-listing-address\",\n            children: property.address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"property-listing-price\",\n            children: property.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"property-listing-image-section\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: property.image,\n            alt: property.title,\n            className: \"property-listing-main-image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"property-listing-details-grid\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"property-listing-summary-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"property-listing-section-title\",\n              children: \"Property Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"property-listing-summary-list\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"property-listing-summary-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"property-listing-summary-label\",\n                  children: \"Property Type:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"property-listing-summary-value\",\n                  children: property.propertyType\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"property-listing-summary-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"property-listing-summary-label\",\n                  children: \"Size:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"property-listing-summary-value\",\n                  children: property.size\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"property-listing-summary-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"property-listing-summary-label\",\n                  children: \"Number of Floors:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"property-listing-summary-value\",\n                  children: property.floors\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"property-listing-summary-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"property-listing-summary-label\",\n                  children: \"Year Built:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"property-listing-summary-value\",\n                  children: property.yearBuilt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"property-listing-summary-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"property-listing-summary-label\",\n                  children: \"Zoning:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 455,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"property-listing-summary-value\",\n                  children: property.zoning\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"property-listing-summary-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"property-listing-summary-label\",\n                  children: \"Parking Spaces:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"property-listing-summary-value\",\n                  children: property.parkingSpaces\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"property-listing-amenities-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"property-listing-amenities-subtitle\",\n                children: \"Amenities\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"property-listing-amenities-grid\",\n                children: property.amenities.map((amenity, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"property-listing-amenity-block\",\n                  children: amenity\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"property-listing-description\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"property-listing-section-title\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"property-listing-description-text\",\n            children: property.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"property-listing-location\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"property-listing-section-title\",\n            children: \"Location & Amenities\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"property-listing-map-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"property-listing-map\",\n              className: \"property-listing-map-container-inner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"property-listing-amenities-panel\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"property-listing-amenities-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Nearby Amenities\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 493,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"property-listing-amenity-filters\",\n                  children: amenityOptions.map(opt => /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: `property-listing-amenity-chip ${selectedAmenityTypes.includes(opt.type) ? 'property-listing-active' : ''}`,\n                    onClick: () => handleToggleAmenity(opt.type),\n                    children: opt.label\n                  }, opt.type, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 496,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 17\n              }, this), isLoadingAmenities && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"property-listing-amenities-loading\",\n                children: \"Loading amenities\\u2026\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 509,\n                columnNumber: 19\n              }, this), amenitiesError && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"property-listing-amenities-error\",\n                children: amenitiesError\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 19\n              }, this), !isLoadingAmenities && !amenitiesError && amenities.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"property-listing-amenities-empty\",\n                children: \"No amenities found for the selected filters.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 19\n              }, this), !isLoadingAmenities && amenities.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"property-listing-amenities-list\",\n                children: amenities.map(a => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"property-listing-amenity-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"property-listing-amenity-main\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"property-listing-amenity-name\",\n                      children: a.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 524,\n                      columnNumber: 27\n                    }, this), a.vicinity && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"property-listing-amenity-address\",\n                      children: a.vicinity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 525,\n                      columnNumber: 42\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 523,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"property-listing-amenity-meta\",\n                    children: [typeof a.rating === 'number' && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"property-listing-amenity-rating\",\n                      children: [\"\\u2605 \", a.rating.toFixed(1)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 529,\n                      columnNumber: 29\n                    }, this), typeof a.distance === 'number' && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"property-listing-amenity-distance\",\n                      children: [Math.round(a.distance), \" m\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 532,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                      className: \"property-listing-amenity-link\",\n                      href: `https://www.google.com/maps/place/?q=place_id:${a.place_id}`,\n                      target: \"_blank\",\n                      rel: \"noopener noreferrer\",\n                      children: \"Open in Maps\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 534,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 527,\n                    columnNumber: 25\n                  }, this)]\n                }, a.place_id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 522,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"property-listing-contact-agent-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"property-listing-section-title\",\n            children: \"Contact Agent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 553,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"property-listing-agent-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"property-listing-agent-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: property.agent.image,\n                alt: property.agent.name,\n                className: \"property-listing-agent-image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"property-listing-agent-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"property-listing-agent-name\",\n                  children: property.agent.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 562,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"property-listing-agent-title\",\n                  children: property.agent.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 563,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleContactAgent,\n              className: \"property-listing-contact-agent-btn\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"property-listing-whatsapp-icon\",\n                children: \"\\uD83D\\uDCF1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 17\n              }, this), \"Contact Agent via WhatsApp\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 578,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 401,\n    columnNumber: 5\n  }, this);\n};\n_s(PropertyListing, \"gezp+ov3j47q/w6p5tBRnc+xMW8=\", false, function () {\n  return [useParams, useLocation, useNavigate];\n});\n_c = PropertyListing;\nexport default PropertyListing;\nvar _c;\n$RefreshReg$(_c, \"PropertyListing\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","useLocation","useNavigate","Header","Navbar","Footer","propertiesAPI","jsxDEV","_jsxDEV","PropertyListing","_s","activeTab","setActiveTab","property","setProperty","loading","setLoading","amenities","setAmenities","isLoadingAmenities","setIsLoadingAmenities","amenitiesError","setAmenitiesError","selectedAmenityTypes","setSelectedAmenityTypes","id","location","navigate","mapInstanceRef","markerRef","placesServiceRef","mockProperties","title","address","price","propertyType","size","floors","yearBuilt","zoning","parkingSpaces","description","image","agent","name","phone","lat","lng","fetchProperty","_response$size_sqft","_response$floors","_response$year_built","_response$parking_spa","_response$images","response","getById","console","log","transformedProperty","formatPrice","asking_price","price_type","property_type","size_sqft","toLocaleString","toString","year_built","parking_spaces","images","length","url","getDefaultImage","full_name","profile_image_url","phone_number","email","latitude","longitude","error","mockProperty","priceType","numPrice","parseFloat","toFixed","toLowerCase","window","google","initializeMap","current","fetchAmenities","mapElement","document","getElementById","center","map","maps","Map","zoom","mapTypeId","MapTypeId","ROADMAP","styles","featureType","elementType","stylers","visibility","marker","Marker","position","icon","scaledSize","Size","placesService","places","PlacesService","requests","type","radius","results","Promise","all","request","resolve","reject","nearbySearch","status","PlacesServiceStatus","OK","allAmenities","flat","sort","a","b","distanceA","geometry","spherical","computeDistanceBetween","LatLng","distanceB","uniqueAmenities","filter","amenity","index","self","findIndex","place_id","distance","slice","handleToggleAmenity","prev","includes","t","amenityOptions","label","handleContactAgent","message","whatsappUrl","replace","encodeURIComponent","open","handleBackToListings","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","src","alt","opt","vicinity","rating","Math","round","href","target","rel","_c","$RefreshReg$"],"sources":["C:/Users/mandy/Downloads/fyp-app/fyp-app/frontend/src/components/user/PropertyListing.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useLocation, useNavigate } from 'react-router-dom';\nimport Header from '../sharedpages/header';\nimport Navbar from '../sharedpages/navbar';\nimport Footer from '../sharedpages/footer';\nimport { propertiesAPI } from '../../services/api';\nimport './PropertyListing.css';\n\nconst PropertyListing = () => {\n  const [activeTab, setActiveTab] = useState('property-listing');\n  const [property, setProperty] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const [amenities, setAmenities] = useState([]);\n  const [isLoadingAmenities, setIsLoadingAmenities] = useState(false);\n  const [amenitiesError, setAmenitiesError] = useState('');\n  const [selectedAmenityTypes, setSelectedAmenityTypes] = useState([]);\n  const { id } = useParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  // Map and amenities refs\n  const mapInstanceRef = useRef(null);\n  const markerRef = useRef(null);\n  const placesServiceRef = useRef(null);\n\n  // Mock property data - in real app, this would come from API\n  const mockProperties = {\n    '1': {\n      id: '1',\n      title: 'Industrial Building',\n      address: '789 Maple Avenue, Singapore',\n      price: 'S$ 1,200,000',\n      propertyType: 'Industrial',\n      size: '10,000 sq ft',\n      floors: '2',\n      yearBuilt: '2005',\n      zoning: 'Industrial',\n      parkingSpaces: '50',\n      amenities: ['HVAC', 'Security System', 'Loading Docks', 'High Ceilings', 'Renovated'],\n      description: 'This industrial building offers a versatile space suitable for various business operations. It features high ceilings, ample natural light, and a flexible layout that can be customized to meet specific needs. The property includes loading docks, ample parking, and is conveniently located near major transportation routes, ensuring easy access for employees and clients. Additional amenities include a secure perimeter, 24/7 access, and on-site management.',\n      image: 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&h=600&fit=crop',\n      agent: {\n        name: 'Emily Tan',\n        title: 'Licensed Real Estate Agent',\n        image: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face',\n        phone: '+65 9123 4567'\n      },\n      location: {\n        lat: 1.3521,\n        lng: 103.8198,\n        address: '789 Maple Avenue, Singapore'\n      }\n    },\n         '2': {\n       id: '2',\n       title: 'Commercial Warehouse',\n       address: '456 Tuas South Ave 2, Singapore',\n       price: 'S$ 2,500,000',\n       propertyType: 'Warehouse',\n       size: '15,000 sq ft',\n       floors: '2',\n       yearBuilt: '2010',\n       zoning: 'Industrial',\n       parkingSpaces: '75',\n       amenities: ['High Ceilings', 'Loading Bays', 'Office Space', 'Security System', 'HVAC'],\n       description: 'This modern commercial warehouse offers excellent logistics capabilities with high ceilings and multiple loading bays. The property includes office space, security systems, and is strategically located near major transportation hubs. Perfect for distribution centers, manufacturing, or storage operations.',\n       image: 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop',\n       agent: {\n         name: 'David Chen',\n         title: 'Senior Property Consultant',\n         image: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face',\n         phone: '+65 9234 5678'\n       },\n       location: {\n         lat: 1.2981,\n         lng: 103.6476,\n         address: '456 Tuas South Ave 2, Singapore'\n       }\n     },\n     '3': {\n       id: '3',\n       title: 'Office Complex',\n       address: '321 Changi Business Park, Singapore',\n       price: 'S$ 3,800,000',\n       propertyType: 'Office',\n       size: '8,000 sq ft',\n       floors: '3',\n       yearBuilt: '2015',\n       zoning: 'Commercial',\n       parkingSpaces: '100',\n       amenities: ['Modern Facilities', 'Parking', 'Security', 'Conference Rooms', 'Cafeteria'],\n       description: 'This premium office complex offers modern facilities and amenities perfect for corporate headquarters or professional services. Features include conference rooms, cafeteria, and ample parking. Located in the prestigious Changi Business Park with easy access to Changi Airport and major transportation routes.',\n       image: 'https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop',\n       agent: {\n         name: 'Sarah Lim',\n         title: 'Commercial Property Specialist',\n         image: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face',\n         phone: '+65 9345 6789'\n       },\n       location: {\n         lat: 1.3371,\n         lng: 103.9614,\n         address: '321 Changi Business Park, Singapore'\n       }\n     },\n     '4': {\n       id: '4',\n       title: 'Factory Building',\n       address: '654 Pasir Panjang Terminal, Singapore',\n       price: 'S$ 4,500,000',\n       propertyType: 'Factory',\n       size: '20,000 sq ft',\n       floors: '2',\n       yearBuilt: '2008',\n       zoning: 'Industrial',\n       parkingSpaces: '80',\n       amenities: ['Heavy Machinery', 'Storage', 'Transport Access', 'Loading Docks', 'Security'],\n       description: 'This large factory building is designed for heavy manufacturing operations with reinforced floors, high ceilings, and multiple loading docks. The property includes storage areas and is strategically located near Pasir Panjang Terminal for easy access to shipping and logistics.',\n       image: 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&h=600&fit=crop',\n       agent: {\n         name: 'Michael Wong',\n         title: 'Industrial Property Expert',\n         image: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face',\n         phone: '+65 9456 7890'\n       },\n       location: {\n         lat: 1.2721,\n         lng: 103.7918,\n         address: '654 Pasir Panjang Terminal, Singapore'\n       }\n     }\n  };\n\n  // Fetch property from API\n  useEffect(() => {\n    const fetchProperty = async () => {\n      try {\n        setLoading(true);\n        const response = await propertiesAPI.getById(id);\n        console.log('Fetched property:', response);\n        \n        // Transform the API response to match the expected format\n        const transformedProperty = {\n          id: response.id,\n          title: response.title,\n          address: response.address,\n          price: formatPrice(response.asking_price, response.price_type),\n          propertyType: response.property_type,\n          size: `${response.size_sqft?.toLocaleString()} sq ft`,\n          floors: response.floors?.toString(),\n          yearBuilt: response.year_built?.toString(),\n          zoning: response.zoning,\n          parkingSpaces: response.parking_spaces?.toString(),\n          description: response.description,\n          image: response.images?.length > 0 ? response.images[0].url : getDefaultImage(response.property_type),\n          amenities: response.amenities || [],\n          agent: response.agent ? {\n            name: response.agent.full_name,\n            title: 'Licensed Real Estate Agent',\n            image: response.agent.profile_image_url || 'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face',\n            phone: response.agent.phone_number || '+65 9123 4567',\n            email: response.agent.email\n          } : {\n            name: 'Property Agent',\n            title: 'Licensed Real Estate Agent',\n            image: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face',\n            phone: '+65 9123 4567'\n          },\n          location: {\n            lat: response.latitude || 1.3521,\n            lng: response.longitude || 103.8198,\n            address: response.address\n          }\n        };\n        \n        setProperty(transformedProperty);\n      } catch (error) {\n        console.error('Error fetching property:', error);\n        // Fallback to mock data if API fails\n        const mockProperty = mockProperties[id] || mockProperties['1'];\n        setProperty(mockProperty);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (id) {\n      fetchProperty();\n    }\n  }, [id]);\n\n  // Helper function to format price\n  const formatPrice = (price, priceType) => {\n    const numPrice = parseFloat(price);\n    if (priceType === 'rental') {\n      return `$${(numPrice / 1000).toFixed(0)}k/month`;\n    } else {\n      if (numPrice >= 1000000) {\n        return `$${(numPrice / 1000000).toFixed(1)}M`;\n      } else {\n        return `$${(numPrice / 1000).toFixed(0)}k`;\n      }\n    }\n  };\n\n  // Helper function to get default image based on property type\n  const getDefaultImage = (propertyType) => {\n    switch (propertyType?.toLowerCase()) {\n      case 'office':\n        return 'https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop';\n      case 'retail':\n        return 'https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop';\n      case 'warehouse':\n      case 'single-user factory':\n      case 'multiple-user factory':\n        return 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&h=600&fit=crop';\n      case 'shop house':\n        return 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop';\n      case 'business parks':\n        return 'https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&h=600&fit=crop';\n      default:\n        return 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop';\n    }\n  };\n\n  // Initialize map when property is loaded\n  useEffect(() => {\n    if (property && window.google) {\n      initializeMap();\n    }\n  }, [property]);\n\n  // Refetch amenities when selected types change\n  useEffect(() => {\n    if (property && window.google && placesServiceRef.current) {\n      fetchAmenities({ lat: property.location.lat, lng: property.location.lng });\n    }\n  }, [selectedAmenityTypes]);\n\n  // Initialize Google Map\n  const initializeMap = () => {\n    if (!window.google || !property) return;\n\n    const mapElement = document.getElementById('property-listing-map');\n    if (!mapElement) return;\n\n    const center = { lat: property.location.lat, lng: property.location.lng };\n\n    const map = new window.google.maps.Map(mapElement, {\n      center: center,\n      zoom: 16,\n      mapTypeId: window.google.maps.MapTypeId.ROADMAP,\n      styles: [\n        {\n          featureType: 'poi',\n          elementType: 'labels',\n          stylers: [{ visibility: 'off' }]\n        }\n      ]\n    });\n\n    mapInstanceRef.current = map;\n\n    // Add marker for the property\n    const marker = new window.google.maps.Marker({\n      position: center,\n      map: map,\n      title: property.title,\n      icon: {\n        url: 'https://maps.google.com/mapfiles/ms/icons/red-dot.png',\n        scaledSize: new window.google.maps.Size(32, 32)\n      }\n    });\n\n    markerRef.current = marker;\n\n    // Initialize Places service for amenities\n    const placesService = new window.google.maps.places.PlacesService(map);\n    placesServiceRef.current = placesService;\n\n    // Load amenities for the property location\n    fetchAmenities(center);\n  };\n\n  // Fetch nearby amenities\n  const fetchAmenities = async (location) => {\n    if (!window.google || !placesServiceRef.current) {\n      setAmenitiesError('Google Maps not loaded');\n      return;\n    }\n\n    if (!location) {\n      setAmenities([]);\n      return;\n    }\n\n    setIsLoadingAmenities(true);\n    setAmenitiesError('');\n\n    try {\n      const requests = selectedAmenityTypes.map(type => ({\n        location: location,\n        radius: 1000,\n        type: type\n      }));\n\n      const results = await Promise.all(\n        requests.map(request =>\n          new Promise((resolve, reject) => {\n            placesServiceRef.current.nearbySearch(request, (results, status) => {\n              if (status === window.google.maps.places.PlacesServiceStatus.OK) {\n                resolve(results || []);\n              } else {\n                resolve([]);\n              }\n            });\n          })\n        )\n      );\n\n      const allAmenities = results.flat().sort((a, b) => {\n        const distanceA = window.google.maps.geometry.spherical.computeDistanceBetween(\n          new window.google.maps.LatLng(location),\n          a.geometry.location\n        );\n        const distanceB = window.google.maps.geometry.spherical.computeDistanceBetween(\n          new window.google.maps.LatLng(location),\n          b.geometry.location\n        );\n        return distanceA - distanceB;\n      });\n\n      // Remove duplicates and enrich with distance\n      const uniqueAmenities = allAmenities.filter((amenity, index, self) =>\n        index === self.findIndex(a => a.place_id === amenity.place_id)\n      ).map(amenity => ({\n        ...amenity,\n        distance: window.google.maps.geometry.spherical.computeDistanceBetween(\n          new window.google.maps.LatLng(location),\n          amenity.geometry.location\n        )\n      }));\n\n      setAmenities(uniqueAmenities.slice(0, 20)); // Limit to 20 amenities\n    } catch (error) {\n      console.error('Error fetching amenities:', error);\n      setAmenitiesError('Failed to load amenities');\n    } finally {\n      setIsLoadingAmenities(false);\n    }\n  };\n\n\n\n  // Handle amenity type toggle\n  const handleToggleAmenity = (type) => {\n    setSelectedAmenityTypes(prev => \n      prev.includes(type) \n        ? prev.filter(t => t !== type)\n        : [...prev, type]\n    );\n  };\n\n  // Amenity options - same as prediction.js\n  const amenityOptions = [\n    { type: 'school', label: 'Schools' },\n    { type: 'hospital', label: 'Hospitals' },\n    { type: 'supermarket', label: 'Supermarkets' },\n    { type: 'restaurant', label: 'Restaurants' },\n    { type: 'cafe', label: 'Cafes' },\n    { type: 'bank', label: 'Banks' },\n    { type: 'atm', label: 'ATMs' },\n    { type: 'shopping_mall', label: 'Shopping Malls' },\n    { type: 'bus_station', label: 'Bus Stations' },\n    { type: 'subway_station', label: 'MRT' },\n    { type: 'gym', label: 'Gyms' },\n    { type: 'pharmacy', label: 'Pharmacies' }\n  ];\n\n  const handleContactAgent = () => {\n    const message = `Hi ${property.agent.name}, I'm interested in the property at ${property.address}`;\n    const whatsappUrl = `https://wa.me/${property.agent.phone.replace(/\\s/g, '')}?text=${encodeURIComponent(message)}`;\n    window.open(whatsappUrl, '_blank');\n  };\n\n  const handleBackToListings = () => {\n    navigate('/dashboard/property-listings');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"property-listing-loading\">\n        <div className=\"property-listing-loading-spinner\"></div>\n        <p>Loading property details...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"user-dashboard\">\n      <Header />\n      \n      <div className=\"user-dashboard-container\">\n        <Navbar activeTab={activeTab} setActiveTab={setActiveTab} />\n        \n        <main className=\"user-main-content\">\n          {/* Breadcrumbs */}\n          <div className=\"property-listing-breadcrumbs\">\n            <button onClick={handleBackToListings} className=\"property-listing-back-button\">\n              Property Listings\n            </button>\n            <span className=\"property-listing-breadcrumb-separator\">/</span>\n            <span className=\"property-listing-breadcrumb-current\">{property.address}</span>\n          </div>\n\n          {/* Property Header */}\n          <div className=\"user-content-header\">\n            <h1 className=\"user-main-title\">{property.title}</h1>\n            <p className=\"property-listing-address\">{property.address}</p>\n            <div className=\"property-listing-price\">{property.price}</div>\n          </div>\n\n          {/* Property Image */}\n          <div className=\"property-listing-image-section\">\n            <img \n              src={property.image} \n              alt={property.title}\n              className=\"property-listing-main-image\"\n            />\n          </div>\n\n          {/* Property Details Grid */}\n          <div className=\"property-listing-details-grid\">\n            <div className=\"property-listing-summary-card\">\n              <h2 className=\"property-listing-section-title\">Property Summary</h2>\n              <div className=\"property-listing-summary-list\">\n                <div className=\"property-listing-summary-item\">\n                  <span className=\"property-listing-summary-label\">Property Type:</span>\n                  <span className=\"property-listing-summary-value\">{property.propertyType}</span>\n                </div>\n                <div className=\"property-listing-summary-item\">\n                  <span className=\"property-listing-summary-label\">Size:</span>\n                  <span className=\"property-listing-summary-value\">{property.size}</span>\n                </div>\n                <div className=\"property-listing-summary-item\">\n                  <span className=\"property-listing-summary-label\">Number of Floors:</span>\n                  <span className=\"property-listing-summary-value\">{property.floors}</span>\n                </div>\n                <div className=\"property-listing-summary-item\">\n                  <span className=\"property-listing-summary-label\">Year Built:</span>\n                  <span className=\"property-listing-summary-value\">{property.yearBuilt}</span>\n                </div>\n                <div className=\"property-listing-summary-item\">\n                  <span className=\"property-listing-summary-label\">Zoning:</span>\n                  <span className=\"property-listing-summary-value\">{property.zoning}</span>\n                </div>\n                <div className=\"property-listing-summary-item\">\n                  <span className=\"property-listing-summary-label\">Parking Spaces:</span>\n                  <span className=\"property-listing-summary-value\">{property.parkingSpaces}</span>\n                </div>\n              </div>\n              \n              {/* Amenities Section */}\n              <div className=\"property-listing-amenities-section\">\n                <h3 className=\"property-listing-amenities-subtitle\">Amenities</h3>\n                <div className=\"property-listing-amenities-grid\">\n                  {property.amenities.map((amenity, index) => (\n                    <div key={index} className=\"property-listing-amenity-block\">\n                      {amenity}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Description */}\n          <div className=\"property-listing-description\">\n            <h2 className=\"property-listing-section-title\">Description</h2>\n            <p className=\"property-listing-description-text\">{property.description}</p>\n          </div>\n\n          {/* Location & Map */}\n          <div className=\"property-listing-location\">\n            <h2 className=\"property-listing-section-title\">Location & Amenities</h2>\n            <div className=\"property-listing-map-container\">\n              <div id=\"property-listing-map\" className=\"property-listing-map-container-inner\"></div>\n              \n              {/* Nearby Amenities Panel */}\n              <div className=\"property-listing-amenities-panel\">\n                <div className=\"property-listing-amenities-header\">\n                  <h3>Nearby Amenities</h3>\n                  <div className=\"property-listing-amenity-filters\">\n                    {amenityOptions.map((opt) => (\n                      <button \n                        key={opt.type}\n                        type=\"button\" \n                        className={`property-listing-amenity-chip ${selectedAmenityTypes.includes(opt.type) ? 'property-listing-active' : ''}`}\n                        onClick={() => handleToggleAmenity(opt.type)}\n                      >\n                        {opt.label}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n\n                {isLoadingAmenities && (\n                  <div className=\"property-listing-amenities-loading\">Loading amenities</div>\n                )}\n                {amenitiesError && (\n                  <div className=\"property-listing-amenities-error\">{amenitiesError}</div>\n                )}\n\n                {!isLoadingAmenities && !amenitiesError && amenities.length === 0 && (\n                  <div className=\"property-listing-amenities-empty\">No amenities found for the selected filters.</div>\n                )}\n\n                {!isLoadingAmenities && amenities.length > 0 && (\n                  <ul className=\"property-listing-amenities-list\">\n                    {amenities.map((a) => (\n                      <li className=\"property-listing-amenity-item\" key={a.place_id}>\n                        <div className=\"property-listing-amenity-main\">\n                          <div className=\"property-listing-amenity-name\">{a.name}</div>\n                          {a.vicinity && <div className=\"property-listing-amenity-address\">{a.vicinity}</div>}\n                        </div>\n                        <div className=\"property-listing-amenity-meta\">\n                          {typeof a.rating === 'number' && (\n                            <span className=\"property-listing-amenity-rating\"> {a.rating.toFixed(1)}</span>\n                          )}\n                          {typeof a.distance === 'number' && (\n                            <span className=\"property-listing-amenity-distance\">{Math.round(a.distance)} m</span>\n                          )}\n                          <a\n                            className=\"property-listing-amenity-link\"\n                            href={`https://www.google.com/maps/place/?q=place_id:${a.place_id}`}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                          >\n                            Open in Maps\n                          </a>\n                        </div>\n                      </li>\n                    ))}\n                  </ul>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Contact Agent */}\n          <div className=\"property-listing-contact-agent-section\">\n            <h2 className=\"property-listing-section-title\">Contact Agent</h2>\n            <div className=\"property-listing-agent-card\">\n              <div className=\"property-listing-agent-info\">\n                <img \n                  src={property.agent.image} \n                  alt={property.agent.name}\n                  className=\"property-listing-agent-image\"\n                />\n                <div className=\"property-listing-agent-details\">\n                  <h3 className=\"property-listing-agent-name\">{property.agent.name}</h3>\n                  <p className=\"property-listing-agent-title\">{property.agent.title}</p>\n                </div>\n              </div>\n              <button \n                onClick={handleContactAgent}\n                className=\"property-listing-contact-agent-btn\"\n              >\n                <span className=\"property-listing-whatsapp-icon\"></span>\n                Contact Agent via WhatsApp\n              </button>\n            </div>\n          </div>\n        </main>\n      </div>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default PropertyListing;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}